\begin{align}N(f, r)&=\sum_{\{c_1, c_2, \dots, c_{r}\}\subset \f}N_{\{c_1, c_2, \dots, c_{r}\}}-{r+1 \choose r} \sum_{\{c_1, c_2, \dots, c_{r+1}\}\subset \f}N_{\{c_1, c_2, \dots, c_{r+1}\}}+\cdots\\ &=\sum_{j=r}^{k} (-1)^{j-r} {j \choose r}{q \choose j} q^{k-j}+\sum_{j=k+1}^d(-1)^{j-r} {j \choose r}N_j.\end{align}