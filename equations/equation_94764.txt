$\Delta \hat{\mbf{w}}_t^k = \Delta \mbf{w}_t^k / \max\left(1, \frac{||\Delta \mbf{w}_t^k||_2}{S}\right)$