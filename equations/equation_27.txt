\begin{align}c(\ws^{t+1}) &\coloneqq \sum_{(\bm{x},\bm{y})\in\sharedD}\lv f(\bm{x};\ws^{t+1}) - \frac{1}{\NumNeigh_i}\sum_{j\in\Neigh{i}}\predy{j,\bm{x}}^{t+1}\rv^2, \\ \bm{w}_i^{t+1} &\leftarrow \ws^{t+1} - \lrc \NumNeigh_i \nabla_{\bm{w}} c(\ws^{t+1}). \bm{w}_i^{t+1} &\leftarrow \ws^t \nonumber \\ &- \lrc \NumNeigh_i \nabla_{\bm{w}} \sum_{(\bm{x},\bm{y})\in\sharedD}\lv f(\bm{x};\ws^t) - \frac{1}{\NumNeigh_i}\sum_{j\in\Neigh{i}}\predy{j,\bm{x}}^t\rv^2\end{align}