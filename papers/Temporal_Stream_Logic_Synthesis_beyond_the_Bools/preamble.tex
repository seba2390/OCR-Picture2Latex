\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{wrapfig}
\usepackage{makecell}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{array}
\usepackage{multirow}
\usepackage{multicol}
\usepackage{todonotes}
\usepackage{booktabs}
\usepackage{pifont}
\usepackage{tikz}
\usepackage{hyperref}
\usepackage{textcomp}
\usepackage[capitalise,nameinlink]{cleveref}
\usepackage{subcaption}
\captionsetup{compatibility=false}

\usepackage{color}
\usepackage{float}
\usepackage{colortbl}
\usepackage{color}
\usepackage{ltl}
\usepackage{xspace}
\usepackage{varwidth}
\usepackage{stmaryrd}
\usepackage{listings}
\usepackage[deletedmarkup=xout]{changes}
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}

\crefname{appendix}{Appendix}{Appendix}
\crefname{section}{Sec.}{Sec.}
\crefname{theorem}{Thm.}{Thm.}

\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}

\let\proof\relax
\let\endproof\relax
\usepackage{amsthm}
\theoremstyle{definition}
\newtheorem{exmp}{Example}

%change fontsize of algin globally
\usepackage{etoolbox}
\preto\align{\par\small\noindent}
\expandafter\preto\csname align*\endcsname{\par\small\vspace{-2mm}}
\preto\equation{\par\small\noindent}
\expandafter\preto\csname equation*\endcsname{\par\small\vspace{-2mm}}

\usetikzlibrary{calc}
\usetikzlibrary{automata}
\usetikzlibrary{backgrounds}
\usetikzlibrary{decorations.pathreplacing}
\usetikzlibrary{shapes,arrows}
\usetikzlibrary{positioning}
\usetikzlibrary{shadows}
\usetikzlibrary{circuits.logic.US}
\usetikzlibrary{arrows}
\usepackage{pgf}

\newcommand{\nats}{\ensuremath{\mathbb{N}}}
\newcommand{\signal}{\ensuremath{s}}
\newcommand{\sigName}{\name{s}}
\newcommand{\from}{\ensuremath{\colon}}
\newcommand{\fspace}[2]{\ensuremath{#2^{[#1]}}}
\newcommand{\dtime}{\ensuremath{\nats}}
\renewcommand{\to}{\ensuremath{\rightarrow}}
\newcommand{\values}{\ensuremath{\mathcal{V}}}
\newcommand{\inputs}{\ensuremath{\mathcal{I}}}
\newcommand{\outputs}{\ensuremath{\mathcal{O}}}
\newcommand{\signals}{\ensuremath{\mathcal{S}}}
\newcommand{\cells}{\ensuremath{\mathbb{C}}\xspace}
\newcommand{\bool}{\ensuremath{\mathcal{B}}}
\newcommand{\mealy}{\ensuremath{\mathbb{M}}\xspace}
\newcommand{\cfm}{\ensuremath{\mathcal{M}}\xspace}
\newcommand{\branch}[2]{\ensuremath{#1 \! \wr \hspace{-0.6pt} #2}}
\newcommand{\term}{\ensuremath{\tau}}
\newcommand{\fterm}{\ensuremath{\term_{F}}\xspace}
\newcommand{\pterm}{\ensuremath{\term_{P}}\xspace}
\newcommand{\uterm}{\ensuremath{\term_{U}}}
\newcommand{\name}[1]{{\text{\texttt{#1}}}}
\newcommand{\const}[1]{\ensuremath{\text{\texttt{#1}}()}}
\newcommand{\terms}{\ensuremath{\mathcal{T}}\xspace}
\newcommand{\comp}{\ensuremath{\varsigma}\xspace}
\newcommand{\comps}{\ensuremath{\mathcal{C}}}
\newcommand{\init}{\ensuremath{\iota}}
\newcommand{\inits}{\ensuremath{\textit{init}_{\hspace{1pt}\name{c}}}\xspace}
\newcommand{\initsE}{\ensuremath{\textit{init}_{\hspace{1pt}\name{s}_{\name{i}}}}\xspace}
\newcommand{\sep}{\ensuremath{\quad | \quad}}
\newcommand{\upd}[2]{\ensuremath{\llbracket \hspace{0.5pt} #1 \leftarrowtail \, #2 \hspace{0.5pt} \rrbracket}}
\newcommand{\sats}{\ensuremath{\;\vDash_{\!\langle \hspace{-1pt} \cdot \hspace{-1pt} \rangle}}}
\newcommand{\nsats}{\ensuremath{\;\nvDash_{\!\langle \hspace{-1pt} \cdot \hspace{-1pt} \rangle}}}
\newcommand{\set}[1]{\ensuremath{\{ #1 \}}}
\newcommand{\eval}{\ensuremath{\eta_{_{\!\langle \hspace{-1pt} \cdot \hspace{-1pt} \rangle\!}}\!}\xspace}
\newcommand{\evalid}{\ensuremath{\eta_{_{\!\langle \hspace{-1pt} \cdot \hspace{-1pt} \rangle_{\texttt{id}}\!}}\!}\xspace}
\newcommand{\impl}{\ensuremath{\rightarrow}}
\newcommand{\equ}{\ensuremath{\leftrightarrow}}
\newcommand{\size}[1]{\ensuremath{|#1|}}
\newcommand{\FRPinit}{\text{\texttt{init}\ \,}}
\newcommand{\FRPchoice}{\text{\texttt{choice}\ \,}}
\newcommand{\FRParr}[1]{\text{\texttt{arr}\ensuremath{_{#1}}\ \,}}
\newcommand{\FRPproj}[1]{\text{\texttt{proj}\ensuremath{_{#1}}\ \,}}
\newcommand{\FRPglue}[1]{\text{\texttt{glue}\ensuremath{_{#1}}\ \,}}
\newcommand{\FRPcomp}{\text{\texttt{{<}{<}{<}}\ \,}}
\newcommand{\FRPloop}[3]{\text{\texttt{loop}\ensuremath{_{#1,#2}^{#3}}\ \,}}
\newcommand{\FRPlet}{\text{\texttt{let}\ \,}}
\newcommand{\FRPin}{\text{\texttt{in}\ \,}}
\newcommand{\FRPif}{\text{\texttt{if}\ \,}}
\newcommand{\FRPthen}{\text{\texttt{then}\ \,}}
\newcommand{\FRPelse}{\text{\texttt{else}\ \,}}
\newcommand{\fun}[1]{\ensuremath{\lambda}\ #1.\ \,}
\renewcommand{\sf}{\ensuremath{s\hspace{-1pt}f}}
\newcommand{\TAM}{\ensuremath{\text{TA}\mathbb{M}}\xspace}
\newcommand{\pterms}{\ensuremath{\terms_{\!P\hspace{-0.5pt}}}\xspace}
\newcommand{\fterms}{\ensuremath{\terms_{\!F\hspace{-0.5pt}}}\xspace}
\newcommand{\uterms}{\ensuremath{\terms_{\hspace{-0.5pt}U \!}}\xspace}
\newcommand{\utermsp}{\ensuremath{\terms_{\hspace{-0.5pt}U / \name{id}}}}
\newcommand{\functions}{\ensuremath{\mathcal{F}}\xspace}
\newcommand{\predicates}{\ensuremath{\mathcal{P}}\xspace}
\newcommand{\assign}[1]{\ensuremath{\langle #1 \rangle}}
\newcommand{\names}{\ensuremath{\mathcal{N}}}
\newcommand{\TSL}{\text{TSL}\xspace}
\newcommand{\TSLToTAM}{\ensuremath{\mathcal{RS}}\xspace}
\newcommand{\MFRP}{\text{MFRP}\xspace}
\newcommand{\inames}{\ensuremath{\mathbb{I}}\xspace}
\newcommand{\onames}{\ensuremath{\mathbb{O}}\xspace}
\newcommand{\pnames}{\ensuremath{\mathbb{P}}\xspace}
\newcommand{\fnames}{\ensuremath{\mathbb{F}}\xspace}
\newcommand{\scomp}[1]{\ensuremath{[ #1 ]}}
\newcommand{\lang}{\ensuremath{\mathcal{L}}}
\newcommand{\pcup}{\ensuremath{\uplus}}
\newcommand{\vertices}{\ensuremath{V}}
\newcommand{\labeling}{\ensuremath{\ell}}
\newcommand{\dependencies}{\ensuremath{\delta}}
\newcommand{\TAMstates}{\ensuremath{M}}
\newcommand{\TAMstate}{\ensuremath{m}}
\newcommand{\TAMinitial}{\ensuremath{m_{I}}}
\newcommand{\TAMtrans}{\ensuremath{\delta}}
\newcommand{\TAMlabel}{\ensuremath{\ell}}
\newcommand{\run}{\ensuremath{r}}
\newcommand{\scheck}{\text{\ding{51}}}
\newcommand{\serror}{\text{\ding{55}}}

% Undedicability Proof

\newcommand{\instr}{\ensuremath{I}}
\newcommand{\reg}{\ensuremath{r}}
\newcommand{\regA}{\ensuremath{A}}
\newcommand{\regB}{\ensuremath{B}}
\newcommand{\ihalt}{\ensuremath{I^{\dagger}}}
\newcommand{\iinc}[1]{\ensuremath{I^{+}_{#1}}}
\newcommand{\icdec}[2]{\ensuremath{I^{?-}_{#1,#2}}}
\newcommand{\uconf}{\ensuremath{\gamma}}
\newcommand{\spc}{\name{pc}}
\newcommand{\siA}{\name{A}}
\newcommand{\sgA}{\mbox{\scalebox{0.25}{\ensuremath{\underset{\hspace{0.75pt}\raisebox{7pt}{\scalebox{5.6}{\name{\_}}}}{\scalebox{4}{\name{A}}}}}}}
\newcommand{\siB}{\name{B}}
\newcommand{\sgB}{\mbox{\scalebox{0.25}{\ensuremath{\underset{\hspace{0.75pt}\raisebox{7pt}{\scalebox{5.6}{\name{\_}}}}{\scalebox{4}{\name{B}}}}}}}
\newcommand{\sX}{\name{X}}
\newcommand{\sI}[1]{\name{I}\ensuremath{_{#1}}}
\newcommand{\incf}{\name{f}}
\newcommand{\cmpp}{\name{p}}
\newcommand{\nequ}{\mathrel{\ooalign{$\Leftrightarrow$\cr\hidewidth$/$\hidewidth}}}
\newcommand{\cstep}{\ensuremath{c}}

%Mealy

\newcommand{\powerset}[1]{\ensuremath{2^{#1}}}

\newcommand{\Bool}{\ensuremath{Bool}\xspace}
\newcommand{\predEval}{\ensuremath{P}\xspace}
\newcommand{\FRPeval}{\ensuremath{E}\xspace}
\newcommand{\predEvalType}{\ensuremath{\powerset{\pterms}}\xspace}
\newcommand{\betaRed}{\ensuremath{\mapsto_{=}}\xspace}

%slider example
\newcommand{\press}{\ensuremath{\name{press}}}
\newcommand{\pos}{\ensuremath{\name{pos}}}
\newcommand{\vel}{\ensuremath{\name{vel}}}
\newcommand{\score}{\ensuremath{\name{score}}}

\newcommand{\plus}[2]{\ensuremath{#1 + #2}}
\newcommand{\minus}[2]{\ensuremath{#1 - #2}}
\newcommand{\one}{\ensuremath{1}}
\newcommand{\zero}{\ensuremath{0}}
\newcommand{\leftmost}[1]{\ensuremath{\name{leftmost}(#1)}}
\newcommand{\rightmost}[1]{\ensuremath{\name{rightmost}(#1)}}
\newcommand{\centerpos}[1]{\ensuremath{\name{center}(#1)}}
\newcommand{\event}[1]{\ensuremath{\name{event}(#1)}}

\newcommand{\indext}{\ensuremath{\hspace{0.5pt}t}}

%FRPZoo
%in/out
\newcommand{\click}[1]{\ensuremath{\name{button}_{#1}}}
\newcommand{\switch}[1]{\ensuremath{\name{toggle}_{#1}}}
\newcommand{\bvalue}[1]{\ensuremath{\name{ctr value}_{#1}}}
\newcommand{\bdvalue}[1]{\ensuremath{\name{display value}_{#1}}}
\newcommand{\bonoff}[1]{\ensuremath{\name{on}_{#1}}}
%pred
\newcommand{\clicked}[1]{\ensuremath{\name{Clicked}({#1})}}
%fterms
\newcommand{\minusone}{\ensuremath{-1}}

\newcommand{\arrComp}{\ensuremath{>\mkern-9mu>\mkern-9mu>} }


\newcommand{\cfelix}[1]{\todo[color=blue!30]{F: #1}}
\newcommand{\comMark}[1]{\todo[color=green!30]{M: #1}}
\newcommand{\cbernd}[1]{\todo[color=yellow!30]{B: #1}}
\newcommand{\cruzica}[1]{\todo[color=blue!30]{R: #1}}


\newcommand{\rightar}{\raisebox{2pt}{$\tikz{\draw[->,>=stealth] (0,0) -- (0,-0.1) -- (0.2,-0.1)}$}}

\lstset{
  language=haskell,
  basicstyle=\footnotesize\ttfamily,breaklines=true,
  frame=none,
  literate=
    {->}{{\ \ $\rightarrow\;$\;\ }}1
    {=>}{{$\Rightarrow\;$}}1
    {++}{{\code{++}}}1
    {~}{{\ }}1
    {\\dollar}{{$\$$\;}}1,
  deletekeywords={Double,Int,init,Bool},
  % Style for (listings') identifiers
  identifierstyle={\ttfamily\color{black}},
  % Style for declaration keywords
  keywordstyle=[1]{\ttfamily\color{violet}},
  % Style for gallina keywords
  keywordstyle=[2]{\ttfamily\color{green}},
  % Style for sorts keywords
  keywordstyle=[3]{\ttfamily\color{blue}},
  % Style for tactics keywords
  keywordstyle=[4]{\ttfamily\color{green!40!black}},
  % Style for terminators keywords
  keywordstyle=[5]{\ttfamily\color{red}},
  morekeywords=[1]{class, instance},
  morekeywords=[2]{where},
  morekeywords=[3]{Maybe, SF, Signal, Int, Time, Event, MouseClick, Picture, Terms,Bool},
  morekeywords=[4]{arr, init, loopD},
  morekeywords=[6]{do, proc, last, first, try, idtac, repeat},
  commentstyle=\color{orange!50!black},
  stringstyle=\color{red!50!black},
}

\newcommand{\codeinline}[1]{\lstinline[basicstyle=\small]{#1}}

\newcommand{\para}[1]{\noindent {\bf #1. }}
\newcommand{\eg}{{\em e.g.~\xspace}}
\newcommand{\sectionref}[1]{Sec.~\ref{#1}}
\newcommand{\figureref}[1]{Fig.~\ref{#1}}
\newcommand{\theoremref}[1]{Thm.~\ref{#1}}
\newcommand{\appendixref}[1]{Appendix~\ref{#1}}
\newcommand{\tableref}[1]{Table~\ref{#1}}

\newcommand{\mathcomment}[1]{\ensuremath{\text{\textcolor{blue}{// #1}}}}

\iffalse
\makeatletter
\let\oldcitation\citation
\def\citation#1{%
\@for\tmp:=#1\do{%
\global\@namedef{ZZ\tmp}{}%
\oldcitation{\tmp}}}
\let\oldbibitem\bibitem
\let\bibcolor\relax
\renewcommand\bibitem[2][]{%
\expandafter\ifx\csname ZZ#2\endcsname\relax
\color{red}%
\else
\color{black}%
\fi
\oldbibitem[#1]{#2}}%
\makeatother
\fi
