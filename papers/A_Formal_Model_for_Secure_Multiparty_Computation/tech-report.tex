% !TEX TS-program = pdflatex

\documentclass[11pt]{article}
\usepackage[margin=1in]{geometry}
\usepackage{authblk}

\bibliographystyle{plain}

\title{A Formal Model for Secure Multiparty Computations} 
\date{}

\author[1]{Amy Rathore}
\author[1]{Marina Blanton}
\author[2]{Marco Gaboardi}
\author[1]{Lukasz Ziarek}
\affil[1]{Department of Computer Science and Engineering, University at Buffalo}
\affil[2]{Department of Computer Science, Boston University}

%\keywords{Secure Multiparty Computation, Formal Model}

\include{prelude}
\include{prelude-names}

\begin{document}

\lstset{language=C, basicstyle=\footnotesize\ttfamily, numbers=left, numbersep=5pt, tabsize=2,mathescape=true}
\lstset{emph={[1]public,private,smcinput,smcoutput,smcopen,pfree,pmalloc},emphstyle={[1]\color{red}}}

\maketitle

\begin{abstract}
Although Secure Multiparty Computation (SMC) has seen considerable development in recent years, its use is challenging, resulting in complex code which obscures whether the security properties or correctness guarantees hold in practice. 
For this reason, several works have investigated the use of formal methods  to provide guarantees for
SMC systems. However, these approaches have been 
applied mostly to domain specific languages (DSL),
neglecting general-purpose approaches. 
In this paper, we consider a formal
model for an SMC system for  annotated C programs. 
We choose C due to its popularity
in the cryptographic community and being the only general-purpose language
for which SMC compilers exist.
Our formalization supports all
key features of C -- including private-conditioned branching statements, mutable arrays
(including out of bound array access), pointers to private data, etc. 
We use this formalization to  characterize correctness and security properties of annotated C, with the
latter being a form of non-interference on execution traces.  We realize our formalism as an implementation in the PICCO SMC compiler and provide
evaluation results on SMC programs written in C.
\end{abstract}

\section{Introduction} \label{Sec: Introduction}
\input{intro}

\section{Related Work}
\input{rel-work}

\section{Overview}
\label{sec:background}
\input{background}

\section{Semantics} \label{Sec: Semantics}
\input{semantics}

\section{Metatheory}\label{Sec: Metatheory}
\input{selected-proofs}


\section{Implementation}
\label{Sec:implementation}
\input{implementation}

\section{Evaluation}
\label{Sec:evaluation}
\input{evaluation}

\section{Conclusions}
\label{sec:conclusions}

\begin{figure*}  \footnotesize
\begin{lstlisting}[firstnumber = 22]
avgFemaleSalPub=smcopen(avgFemaleSalary); 
femaleCountPub=smcopen(femaleCount);
avgMaleSalPub=smcopen(avgMaleSalary); maleCountPub=smcopen(maleCount);
avgFemaleSalPub=(avgFemaleSalPub/femaleCountPub)/2+historicFemaleSalAvg/2; 
avgMaleSalPub=(avgMaleSalPub/maleCountPub)/2+historicMaleSalAvg/2; 

for (i=1; i<numParticipants+1; i++) 
	smcoutput(avgFemaleSalPub, i);  smcoutput(avgMaleSalPub, i); 
\end{lstlisting}
\caption{Securely calculating the gender pay gap for 100 organizations with additional information released.}
\label{Fig: salary vs gender smcopen}
\end{figure*}

In this paper we have presented a formal model for a general SMC compiler, supporting both safe and unsafe features of C.  
Our model does not artificially restrict what C features can be present in private branches -- restrictions are instead guided by which operations
our model has shown to be unsafe. 
Our extension supports additional tracking meta-data to provide support for features unsafe in
current SMC techniques.  The intuition, shown in our motivation, is that state-of-the-art SMC techniques cannot track complex memory indirections that can occur when using pointers.  By providing this tracking, these operations can be made safe.
As future work we plan on extending our model to support explicit declassification, through a primitive PICCO calls \texttt{smcopen}.   Consider Figure~\ref{Fig: salary vs gender smcopen} which highlights a modification to our original
gender based salary computation (lines 16-17) from Figure~\ref{Fig: salary vs gender}.  Explicitly declassifying the sum and count earlier in the program, allows us to change the average computation to a public computation.  This reduces the number of high cost communications and cryptographic computations in the program.  To support explicit declassification in our model we would need to extend our semantics with gradual 
release~\cite{GR}.

\section*{Acknowledgements}

This work was supported in part by a Google Faculty Research Award and US National Science Foundation grants 1749539, 1845803, 2040249, and 2213057.
Any opinions, findings, and conclusions or recommendations expressed in this publication are those of the authors and do not necessarily reflect the views of the funding sources.

%%
%% Bibliography
%%
\bibliography{main}

\appendix
\input{appendix}


\end{document}
