


\begin{figure*} \footnotesize
\begin{tabular}{l}
\begin{tabular}{l l}
\hspace{0.3cm}
\begin{subfigure}{.27\textwidth}
\begin{lstlisting}
private int a=3,
		b=7,c=5,*p=&a;
if ($\Code{\ExprC{a>b}}$)
	$\Code{\sC{*p=c;}}$ 
else 
	$\Code{\ssC{p=\&b;}}$
\end{lstlisting}
	\caption{\piccoC\ code.}
	\label{Fig: if else \piccoC code dp}	
\end{subfigure}		
&
\begin{subfigure}{0.69\textwidth}
\begin{lstlisting}[emph={[2]res, resolve}, emphstyle={[2]\color{blue}}]
private int a=3,b=7,c=5,*p=&a,$\Code{\initC{res=}\ExprC{a>b}}$;
$\initC{\DMap[\Acc][\loc_\TT{p}]=([1,[(\loc_\TT{a}, 0)],[1],1],[],0, \Code{private int*});}$  
$\sC{\DMap[\Acc][\loc_\TT{a}]=(3,0,0,\Code{private int});}$   $\sC{\Code{*p=c;}}$ 
$\restC{\DMap[\Acc][\loc_\TT{p}]=([1,[(\loc_\TT{a}, 0)],[1],1],[1,[(\loc_\TT{a}, 0)],[1],1],1, \Code{private int*});}$
$\restC{\DMap[\Acc][\loc_\TT{a}]=(3,5,1, \Code{private int});}$ $\restC{\loc_\TT{p}=\DMap[\Acc][\loc_\TT{p}][0];}$  $\restC{\loc_\TT{a}=\DMap[\Acc][\loc_\TT{a}][0];}$
$\Code{\ssC{p=\&b;}}$
$\resoC{\loc_\TT{p}=\Code{resolve(res,}\DMap[\Acc][\loc_\TT{p}],\loc_\TT{p});}$   $\resoC{\loc_\TT{a}=\Code{resolve(res,}\DMap[\Acc][\loc_\TT{a}],\loc_\TT{a});}$
\end{lstlisting}
	\caption{Location-tracking execution.}	
	\label{Fig: if else piccoC expanded dp}
\end{subfigure} 
\end{tabular}
\\ \\
\begin{subfigure}{\textwidth}
\inferrule{\begin{array}{l} 
		\qquad
			\ExprC{((\pidA, \gamma^\pidA, \sigma^\pidA, \DMap^\pidA, \Acc, \Expr) \ \ \Mid ... \Mid
				 	 (\pidZ, \gamma^\pidZ, \sigma^\pidZ, \DMap^\pidZ, \Acc, \Expr))} 
			\crcr\ExprC{\Deval{\locLL_1}{\codeLL_1} 
			((\pidA, \gamma^\pidA, \sigma^\pidA_1, \DMap^\pidA_1, \Acc, n^\pidA) \Mid ... \Mid
			  (\pidZ, \gamma^\pidZ, \sigma^\pidZ_1, \DMap^\pidZ_1, \Acc, n^\pidZ))}
		\qq 
			\{(\ExprC\Expr) \isPriv \gamma^\pid\}^\pidZ_{\pid = \pidA}
		\crcr 
			\extC{\{\DynExtract(}\sC{\stmt_1}\extC{,}\ \ssC{\stmt_2} \extC{, \gamma^\pid) = (\x_\vl, 1)\}^\pidZ_{\pid = \pidA}}
		\crcr
			\initC{\{\DynInit(\DMap^\pid_1,}\ \extC{\x_\vl}\initC{,\ \gamma^\pid,\ \sigma^\pid_1,\ \ExprC{\n^\pid}, \AccPP) = (\gamma^\pid_1, \sigma^\pid_2, \DMap^\pid_2, \locL^\pid_2)\}^\pidZ_{\pid = \pidA}}
		\crcr\qquad 
			\sC{((\pidA, \gamma^\pidA_1, \sigma^\pidA_2, \DMap^\pidA_2, \AccPP, \stmt_1) \ \ \ \Mid  ... \Mid
				  (\pidZ, \gamma^\pidZ_1, \sigma^\pidZ_2, \DMap^\pidZ_2, \AccPP, \stmt_1))}
				\crcr\sC{\Deval{\locLL_3}{\codeLL_2} 
				((\pidA, \gamma^\pidA_2, \sigma^\pidA_3, \DMap^\pidA_3, \AccPP, \Skip) \Mid  ... \Mid
				 (\pidZ, \gamma^\pidZ_2, \sigma^\pidZ_3, \DMap^\pidZ_3, \AccPP, \Skip))}
		\crcr
			\restC{\{\DynRestore(\sigma^\pid_3, \DMap^\pid_3, \AccPP) = (\sigma^\pid_4, \DMap^\pid_4, \locL^\pid_4)\}^\pidZ_{\pid = \pidA}}
		\crcr\qquad
			\ssC{((\pidA, \gamma^\pidA_1, \sigma^\pidA_4, \DMap^\pidA_4, \AccPP, \stmt_2) \ \ \ \Mid  ... \Mid
				    (\pidZ, \gamma^\pidZ_1, \sigma^\pidZ_4, \DMap^\pidZ_4, \AccPP, \stmt_2))}
				\crcr\ssC{\Deval{\locLL_5}{\codeLL_3} 
				((\pidA, \gamma^\pidA_3, \sigma^\pidA_5, \DMap^\pidA_5, \AccPP, \Skip) \Mid  ... \Mid
				  (\pidZ, \gamma^\pidZ_3, \sigma^\pidZ_5, \DMap^\pidZ_5, \AccPP, \Skip))}
		\crcr
			\resoC{\{\DynResolve\_\mathrm{Retrieve}(\gamma^\pid_1, \sigma^\pid_5, \DMap^\pid_5, \AccPP) 
				= ([(\val^\pid_{t1}, \val^\pid_{e1}), ..., (\val^\pid_{tm}, \val^\pid_{em})], 
					\ExprC{\n^\pid}, \locL^\pid_6)\}^\pidZ_{\pid = \pidA}}
		\crcr
			\resoC{\MPC{resolve}([\ExprC{\n^\pidA}, ..., \ExprC{\n^\pidZ}], 
				[[(\val^\pidA_{t1}, \val^\pidA_{e1}), ..., (\val^\pidA_{tm}, \val^\pidA_{em})]], ..., 
				 [(\val^\pidZ_{t1}, \val^\pidZ_{e1}), ..., (\val^\pidZ_{tm}, \val^\pidZ_{em})]])} 
				\crcr\qquad\resoC{= [[\val^\pidA_1, ..., \val^\pidA_m], ... [\val^\pidZ_1, ..., \val^\pidZ_m]]}
		\crcr
			\resoC{\{\DynResolve\_\mathrm{Store}(\DMap^\pid_5, \sigma^\pid_5, \AccPP, [\val^\pid_1, ..., \val^\pid_m]) 
				= (\sigma^\pid_6, \DMap^\pid_6, \locL^\pid_7)\}^\pidZ_{\pid = \pidA}}
		\crcr
			\locLL_6 = \locLL_1 \addL (\pidA, \locL^\pidA_2) \Mid ... \Mid (\pidZ, \locL^\pidZ_2) \addL \locLL_3 
						\addL (\pidA, \locL^\pidA_4) \Mid ... \Mid (\pidZ, \locL^\pidZ_4) \addL \locLL_5
						\addL (\pidA, \locL^\pidA_6) \Mid ... \Mid (\pidZ, \locL^\pidZ_6) 
		\crcr 
			\locLL_7 = \locLL_6 \addL (\pidA, \locL^\pidA_7) \Mid ... \Mid (\pidZ, \locL^\pidZ_7)
		\qq 
			\codeLL_4 = \codeLL_1 \addC \codeLL_2 \addC \codeLL_3
	\end{array} }
	{\begin{array}{l} 
	((\pidA, \gamma^\pidA, \sigma^\pidA, \DMap^\pidA, \Acc, \If\ (\ExprC\Expr)\ \sC{\stmt_1}\ \Else\ \ssC{\stmt_2}) 
	 \Mid ... \Mid 
	 (\pidZ, \gamma^\pidZ, \sigma^\pidZ, \DMap^\pidZ, \Acc, \If\ (\ExprC\Expr)\ \sC{\stmt_1}\ \Else\ \ssC{\stmt_2})) 
		 \Deval{\locLL_7}{\codeLL_4 \addC \codeMP{iepd}} 
		 \crcr ((\pidA, \gamma^\pidA, \resoC{\sigma^\pidA_{6}}, \resoC{\DMap^\pidA_{6}}, \Acc, \Skip) 
		 	 \qq \-\ \-\ \Mid ... \Mid
		  	(\pidZ, \gamma^\pidZ, \resoC{\sigma^\pidZ_{6}}, \resoC{\DMap^\pidZ_{6}}, \Acc, \Skip))
		\end{array}}
	\caption{\piccoC\ rule Private If Else - Location Tracking.}
	\label{Fig: iep lt}
\end{subfigure}
\\ \\
\begin{subfigure}{\textwidth}
Multiparty If Else False  		\\
\inferrule{\begin{array}{l}
	\qquad 
		\ExprC{((\pidA, \hgamma,\ \hsigma,\ \bsq, \bsq, \hExpr)\ \ \ \Mid ... \Mid
		  (\pidZ, \hgamma,\ \hsigma,\ \bsq, \bsq, \hExpr))} 
	 \crcr \ExprC{\Veval_{\codeVLL_1} 
			((\pidA, \hgamma,\ \hsigma_1, \bsq, \bsq, \hat{n})\ \ \ \Mid ... \Mid
			  (\pidZ, \hgamma,\ \hsigma_1, \bsq, \bsq, \hat{n}))}
	\qq \ExprC\hn = 0
	\crcr\qquad \sC{((\pidA, \hgamma,\ \hsigma_1, \bsq, \bsq, \hstmt_1)\ \ \Mid ... \Mid
			   (\pidZ, \hgamma,\ \hsigma_1, \bsq, \bsq, \hstmt_1))} 
	\crcr \sC{\Veval_{\codeVLL_2} 
			((\pidA, \hgamma_1, \hsigma_2, \bsq, \bsq, \Skip) \Mid ... \Mid
			 (\pidZ, \hgamma_1, \hsigma_2, \bsq, \bsq, \Skip))}
	\crcr\qquad \ssC{((\pidA, \hgamma,\ \hsigma_1, \bsq, \bsq, \hstmt_2)\ \ \Mid ... \Mid
			   (\pidZ, \hgamma,\ \hsigma_1, \bsq, \bsq, \hstmt_2))} 
	\crcr \ssC{\Veval_{\codeVLL_3} 
			((\pidA, \hgamma_2, \hsigma_3, \bsq, \bsq, \Skip) \Mid ... \Mid
			 (\pidZ, \hgamma_2, \hsigma_3, \bsq, \bsq, \Skip))}
	\end{array}}
	{\begin{array}{l}
	((\pidA, \hgamma, \hsigma,\ \bsq, \bsq, \If (\hExpr)\ \hstmt_1\ \Else\ \hstmt_2)\Mid ... \Mid
	  (\pidZ, \hgamma, \hsigma,\ \bsq, \bsq, \If (\hExpr)\ \hstmt_1\ \Else\ \hstmt_2)) 
		\Veval_{\codeVLL_1\addC\codeVLL_2\addC\codeVLL_3\addC[\codeVS{mpief}]} 
		\crcr
		((\pidA, \hgamma, \ssC{\hsigma_3}, \bsq, \bsq, \Skip)
		\qq\ \Mid ... \Mid
		 (\pidZ, \hgamma, \ssC{\hsigma_3}, \bsq, \bsq, \Skip))
		 \end{array}}
	\caption{\vanillaC\ rule Multiparty If Else False.}
	\label{Fig: van mpief}
\end{subfigure}
\end{tabular}
\caption{\Code{if else} branching on private data example (\ref{Fig: if else \piccoC code dp}, \ref{Fig: if else piccoC expanded dp}), \piccoC\ location-tracking (\ref{Fig: iep lt}), and \vanillaC\ Multiparty If Else False (\ref{Fig: van mpief}) rules. Coloring in the rules highlight the corresponding code and rule execution.}
%
\label{Fig: if else color dp}
\end{figure*}































