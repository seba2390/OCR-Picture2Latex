

\begin{figure*} \footnotesize
\begin{tabular}{l}
\hspace{0.3cm}
\begin{tabular}{l l}
\begin{subfigure}{.36\textwidth}
\begin{lstlisting}
private int a=3,b=7,c=0;		
if ($\Code{\ExprC{a<b}}$) $\Code{\sC{c=a;}}$
else $\Code{\ssC{c=b;}}$
\end{lstlisting}
	\caption{\piccoC\ code.}
	\label{Fig: if else \piccoC code}	
\end{subfigure}		
&
\begin{subfigure}{.57\textwidth}
\begin{lstlisting}
private int a=3,b=7,c=0,$\Code{\initC{res=}\ExprC{a<b},\initC{c\_t=c,c\_e=c};}$
$\Code{\sC{c=a;}}$ $\Code{\restC{c\_t=c; c=c\_e;}}$
$\Code{\ssC{c=b;}}$ $\resoC{\Code{c=(res}\cdot\Code{c\_t)+((1-res)}\cdot\Code{c);}}$ 	
\end{lstlisting}
	\caption{Variable-tracking execution.}	
	\label{Fig: if else \piccoC expanded}
\end{subfigure} 
\end{tabular}
\\ \\
\begin{subfigure}{\textwidth}
	\inferrule{\begin{array}{l} 
		\qquad
			\ExprC{((\pidA, \gamma^\pidA, \sigma^\pidA, \DMap^\pidA, \Acc, \Expr) \ \ \Mid ... \Mid
					 (\pidZ, \gamma^\pidZ, \sigma^\pidZ, \DMap^\pidZ, \Acc, \Expr))} 
			\crcr\ExprC{\Deval{\locLL_1}{\codeLL_1} 
			((\pidA, \gamma^\pidA, \sigma^\pidA_1, \DMap^\pidA_1, \Acc, n^\pidA) \Mid ... \Mid
			 (\pidZ, \gamma^\pidZ, \sigma^\pidZ_1, \DMap^\pidZ_1, \Acc, n^\pidZ))}
		\qq
			\{(\ExprC\Expr) \isPriv \gamma^\pid\}^\pidZ_{\pid = \pidA}
		\crcr 
			\extC{\{\DynExtract(}\sC{\stmt_1}\extC{,}\ \ssC{\stmt_2} \extC{, \gamma^\pid) = (\x_\vl, 0)\}^\pidZ_{\pid = \pidA}}
		\crcr
			\initC{\{\Initialize(}\extC{\x_\vl}\initC{,\ \gamma^\pid, \sigma^\pid_1, \ExprC{\n^\pid},\ \AccPP) = (\gamma^\pid_1, \sigma^\pid_2, \locL^\pid_2)\}^\pidZ_{\pid = \pidA}}
		\crcr\qquad
			\sC{((\pidA, \gamma^\pidA_1, \sigma^\pidA_2, \DMap^\pidA_1, \AccPP, \stmt_1) \ \ \ \Mid ... \Mid
			 	  (\pidZ, \gamma^\pidZ_1, \sigma^\pidZ_2, \DMap^\pidZ_1, \AccPP, \stmt_1))}
			\crcr\sC{\Deval{\locLL_3}{\codeLL_2} 
				((\pidA, \gamma^\pidA_2, \sigma^\pidA_3, \DMap^\pidA_2, \AccPP, \Skip) \Mid ... \Mid
				 (\pidZ, \gamma^\pidZ_2, \sigma^\pidZ_3, \DMap^\pidZ_2, \AccPP, \Skip))}
		\crcr
			\restC{\{\Restore(}\extC{\x_\vl}\restC{,\ \gamma^\pid_1,\ \sigma^\pid_3,\ \AccPP) = (\sigma^\pid_4, \locL^\pid_4)\}^\pidZ_{\pid = \pidA}}
		\crcr\qquad
			\ssC{((\pidA, \gamma^\pidA_1, \sigma^\pidA_4, \DMap^\pidA_2, \AccPP, \stmt_2) \ \ \ \Mid ... \Mid
				   (\pidZ, \gamma^\pidZ_1, \sigma^\pidZ_4, \DMap^\pidZ_2, \AccPP, \stmt_2))}
				\crcr\ssC{\Deval{\locLL_5}{\codeLL_3} 
				((\pidA, \gamma^\pidA_3, \sigma^\pidA_5, \DMap^\pidA_3, \AccPP, \Skip) \Mid  ... \Mid
				 (\pidZ, \gamma^\pidZ_3, \sigma^\pidZ_5, \DMap^\pidZ_3, \AccPP, \Skip))}
		\crcr
			\resoC{\{\Resolve\_\mathrm{Retrieve}(\extC{\x_\vl},\ \AccPP, \gamma^\pid_1, \sigma^\pid_5) 
				= ([(\val^\pid_{t1}, \val^\pid_{e1}), ..., (\val^\pid_{tm}, \val^\pid_{em})], 
					\ExprC{\n^\pid}, \locL^\pid_6)\}^\pidZ_{\pid = \pidA}}
		\crcr
			\resoC{\MPC{resolve}([\ExprC{\n^\pidA}, ..., \ExprC{\n^\pidZ}], 
				[[(\val^\pidA_{t1}, \val^\pidA_{e1}), ..., (\val^\pidA_{tm}, \val^\pidA_{em})]], ..., 
				 [(\val^\pidZ_{t1}, \val^\pidZ_{e1}), ..., (\val^\pidZ_{tm}, \val^\pidZ_{em})]])} 
				\crcr\qquad\resoC{= [[\val^\pidA_1, ..., \val^\pidA_m], ... [\val^\pidZ_1, ..., \val^\pidZ_m]]}
		\crcr
			\resoC{\{\Resolve\_\mathrm{Store}(\extC{\x_\vl},\ \AccPP, \gamma^\pid_1, \sigma^\pid_5, 
				[\val^\pid_1, ..., \val^\pid_m]) = (\sigma^\pid_6, \locL^\pid_7)\}^\pidZ_{\pid = \pidA}}
		\crcr
			\locLL_6 = \locLL_1 \addL (\pidA, \locL^\pidA_2) \Mid ... \Mid (\pidZ, \locL^\pidZ_2) \addL \locLL_3 
						\addL (\pidA, \locL^\pidA_4) \Mid ... \Mid (\pidZ, \locL^\pidZ_4) \addL \locLL_5
						\addL (\pidA, \locL^\pidA_6) \Mid ... \Mid (\pidZ, \locL^\pidZ_6) 
		\crcr 
			\locLL_7 = \locLL_6 \addL (\pidA, \locL^\pidA_7) \Mid ... \Mid (\pidZ, \locL^\pidZ_7)
		\qq 
			\codeLL_4 = \codeLL_1 \addC \codeLL_2 \addC \codeLL_3
	\end{array} }
	{\begin{array}{l} 
	((\pidA, \gamma^\pidA, \sigma^\pidA, \DMap^\pidA, \Acc, \If\ (\ExprC\Expr)\ \sC{\stmt_1}\ \Else\ \ssC{\stmt_2}) 
	 \Mid ... \Mid 
	 (\pidZ, \gamma^\pidZ, \sigma^\pidZ, \DMap^\pidZ, \Acc, \If\ (\ExprC\Expr)\ \sC{\stmt_1}\ \Else\ \ssC{\stmt_2})) 
		\Deval{\locLL_7}{\codeLL_4 \addC \codeSP{iep}} 
		\crcr ((\pidA, \gamma^\pidA, \resoC{\sigma^\pidA_{6}}, \resoC{\DMap^\pidA_{3}}, \Acc, \Skip) 
		\qq \-\ \-\ \Mid ... \Mid 
		 (\pidZ, \gamma^\pidZ, \resoC{\sigma^\pidZ_{6}}, \resoC{\DMap^\pidZ_{3}}, \Acc, \Skip) )
		\end{array}}
	\caption{\piccoC\ rule Private If Else - Variable Tracking.}
	\label{Fig: iep vt}
\end{subfigure}
\\ \\
\begin{subfigure}{\textwidth}
	\inferrule{\begin{array}{l}
		\ExprC{((\pid, \hgamma, \hsigma,\ \bsq, \bsq, \hExpr)\ \ \Mid \hConfig)\ \ }
		\ExprC{\Veval_{\codeVLL_1}\ }
			\ExprC{((\pid, \hgamma,\ \hsigma_1, \bsq, \bsq, \hat{n})\ \ \ \Mid \hConfig_1)}
		\qq \ExprC{\hat{n}} \neq \ExprC{0}
		\crcr\sC{((\pid, \hgamma, \hsigma_1, \bsq, \bsq, \hstmt_1) \Mid \hConfig_1)\ }  
			\sC{\Veval_{\codeVLL_2}((\pid, \hgamma_1, \hsigma_2, \bsq, \bsq, \Skip)\Mid \hConfig_2)}
	\end{array}}
	{\begin{array}{l}
	((\pid, \hgamma, \hsigma, \bsq, \bsq, \If (\ExprC{\hExpr})\ \sC{\hstmt_1}\ \Else\ \ssC{\hstmt_2}) \Mid \hConfig)
		\Veval_{\codeVLL_1\addC\codeVLL_2\addC[\codeVS{iet}]} 
		((\pid, \hgamma, \hsigma_2, \bsq, \bsq, \Skip) \Mid \hConfig_2)\end{array}}
	\caption{\vanillaC\ rule If Else True.}	
	\label{Fig: if else \vanillaC true}
\end{subfigure}	
\end{tabular}
\caption{\Code{if else} branching on private data example (\ref{Fig: if else \piccoC code}, \ref{Fig: if else \piccoC expanded}) matching to the \piccoC\ variable-tracking (\ref{Fig: iep vt}) and \vanillaC\ (\ref{Fig: if else \vanillaC true}) semantic rules. Coloring in the rules highlight the corresponding code and rule execution.}
\label{Fig: if else color}
\end{figure*}






































