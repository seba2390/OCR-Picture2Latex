%!TEX root = main.tex

\begin{figure}[h]
\centering
\begin{subfigure}{.5\textwidth}
  \centering
  \figprogram{2}{
    \figstmt{1}{0}{if (x == 0)}
    \figstmt{1}{1}{skip;}
    % \figstmt{1}{0}{else}
    % \figstmt{1}{1}{while(true);}
    \figstmt{1}{0}{if (y == 0)}
    \figstmt{1}{1}{skip;}
     % \figstmt{1}{0}{else}
    % \figstmt{1}{1}{while(true);}
    \figstmt{2}{0}{y := 1;}
    \figstmt{2}{0}{x := 2;}
  }
  \caption{Example concurrent program $P_2$.}
  \label{fig:program2}
\end{subfigure}%
\begin{subfigure}{.5\textwidth}
  \centering
  \vspace{0.25in}
  \execution{2}{
    \figev{1}{\rd(x)}
    \figev{1}{\rd(y)}
    \figev{2}{\wt(y)}
    \figev{2}{\wt(x)}
  }
  \caption{Trace $\tr_2$ generated from $P_2$.}
  \label{fig:trace2}
\end{subfigure}
\caption{Concurrent program $P_2$ and its sample execution
  $\tr_2$. Initially $x = y = 0$.}
\label{fig:example2}
\end{figure}
