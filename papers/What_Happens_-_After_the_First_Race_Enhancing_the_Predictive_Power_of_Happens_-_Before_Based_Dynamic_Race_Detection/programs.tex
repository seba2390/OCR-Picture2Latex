%!TEX root = main.tex

\begin{figure}[t]
\begin{subfigure}{.4\textwidth}
\begin{Verbatim}[commandchars=\\\{\}, fontsize=\footnotesize, baselinestretch=0.5]
\PYG{k+kd}{public} \PYG{k+kd}{class} \PYG{n+nc}{Test} \PYG{k+kd}{extends} \PYG{n}{Thread}\PYG{o}{\PYGZob{}}

    \PYG{k+kd}{static} \PYG{k+kt}{int} \PYG{n}{x}\PYG{o}{,} \PYG{n}{y}\PYG{o}{;}
    \PYG{k+kd}{public} \PYG{k+kt}{int} \PYG{n}{id}\PYG{o}{;}

    \PYG{n+nd}{@Override}
    \PYG{k+kd}{public} \PYG{k+kt}{void} \PYG{n+nf}{run}\PYG{o}{()} \PYG{o}{\PYGZob{}}
        \PYG{k}{if}\PYG{o}{(}\PYG{n}{id} \PYG{o}{==} \PYG{l+m+mi}{1}\PYG{o}{)\PYGZob{}}
            \PYG{n}{y} \PYG{o}{=} \PYG{n}{x} \PYG{o}{+} \PYG{l+m+mi}{5}\PYG{o}{;}
        \PYG{o}{\PYGZcb{}}
        \PYG{k}{if}\PYG{o}{(}\PYG{n}{id} \PYG{o}{==} \PYG{l+m+mi}{2}\PYG{o}{)\PYGZob{}}
            \PYG{k}{if} \PYG{o}{(} \PYG{n}{y}\PYG{o}{==}\PYG{l+m+mi}{5} \PYG{o}{)\PYGZob{}}
                \PYG{n}{x} \PYG{o}{=} \PYG{l+m+mi}{10}\PYG{o}{;}
            \PYG{o}{\PYGZcb{}}
            \PYG{k}{else}\PYG{o}{\PYGZob{}}
                \PYG{k}{while}\PYG{o}{(}\PYG{k+kc}{true}\PYG{o}{);}
            \PYG{o}{\PYGZcb{}}
        \PYG{o}{\PYGZcb{}}
    \PYG{o}{\PYGZcb{}}

    \PYG{k+kd}{public} \PYG{k+kd}{static} \PYG{k+kt}{void} \PYG{n+nf}{main}\PYG{o}{(}\PYG{n}{String} \PYG{n}{args}\PYG{o}{[])}
            \PYG{k+kd}{throws} \PYG{n}{Exception} \PYG{o}{\PYGZob{}}
        \PYG{k+kd}{final} \PYG{n}{Test} \PYG{n}{t1} \PYG{o}{=} \PYG{k}{new} \PYG{n}{Test}\PYG{o}{();}
        \PYG{k+kd}{final} \PYG{n}{Test} \PYG{n}{t2} \PYG{o}{=} \PYG{k}{new} \PYG{n}{Test}\PYG{o}{();}
        \PYG{n}{t1}\PYG{o}{.}\PYG{n+na}{id} \PYG{o}{=} \PYG{l+m+mi}{1}\PYG{o}{;}
        \PYG{n}{t2}\PYG{o}{.}\PYG{n+na}{id} \PYG{o}{=} \PYG{l+m+mi}{2}\PYG{o}{;}
        \PYG{n}{t1}\PYG{o}{.}\PYG{n+na}{start}\PYG{o}{();}
        \PYG{n}{t2}\PYG{o}{.}\PYG{n+na}{start}\PYG{o}{();}
        \PYG{n}{t1}\PYG{o}{.}\PYG{n+na}{join}\PYG{o}{();}
        \PYG{n}{t2}\PYG{o}{.}\PYG{n+na}{join}\PYG{o}{();}
    \PYG{o}{\PYGZcb{}}
\PYG{o}{\PYGZcb{}}
\end{Verbatim}
\vspace{0.5cm}
\caption{Multi-threaded Java program}
\label{simple_java}
\end{subfigure}
\hfill
\begin{subfigure}{.4\textwidth}
\begin{Verbatim}[commandchars=\\\{\}, fontsize=\footnotesize, baselinestretch=0.5]
\PYG{c+cp}{\PYGZsh{}include} \PYG{c+cpf}{\PYGZlt{}pthread.h\PYGZgt{}}
\PYG{c+cp}{\PYGZsh{}include} \PYG{c+cpf}{\PYGZlt{}stdio.h\PYGZgt{}}

\PYG{k+kt}{int} \PYG{n}{x}\PYG{p}{;}
\PYG{k+kt}{int} \PYG{n}{y}\PYG{p}{;}

\PYG{k+kt}{void} \PYG{o}{*}\PYG{n+nf}{Thread1}\PYG{p}{(}\PYG{k+kt}{void} \PYG{o}{*}\PYG{n}{a}\PYG{p}{)} \PYG{p}{\PYGZob{}}
  \PYG{n}{y} \PYG{o}{=} \PYG{n}{x} \PYG{o}{+} \PYG{l+m+mi}{5}\PYG{p}{;}
  \PYG{k}{return} \PYG{n+nb}{NULL}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}

\PYG{k+kt}{void} \PYG{o}{*}\PYG{n+nf}{Thread2}\PYG{p}{(}\PYG{k+kt}{void} \PYG{o}{*}\PYG{n}{a}\PYG{p}{)} \PYG{p}{\PYGZob{}}
  \PYG{k}{if} \PYG{p}{(}\PYG{n}{y} \PYG{o}{==} \PYG{l+m+mi}{5}\PYG{p}{)\PYGZob{}}
    \PYG{n}{x} \PYG{o}{=} \PYG{l+m+mi}{10}\PYG{p}{;}
  \PYG{p}{\PYGZcb{}}
  \PYG{k}{else}\PYG{p}{\PYGZob{}}
    \PYG{k}{while}\PYG{p}{(}\PYG{n+nb}{true}\PYG{p}{)\PYGZob{}\PYGZcb{}}
  \PYG{p}{\PYGZcb{}}
  \PYG{k}{return} \PYG{n+nb}{NULL}\PYG{p}{;}
\PYG{p}{\PYGZcb{}}

\PYG{k+kt}{int} \PYG{n+nf}{main}\PYG{p}{()} \PYG{p}{\PYGZob{}}
  \PYG{n}{x} \PYG{o}{=} \PYG{l+m+mi}{0}\PYG{p}{;}
  \PYG{n}{y} \PYG{o}{=} \PYG{l+m+mi}{0}\PYG{p}{;}
  \PYG{n}{pthread\PYGZus{}t} \PYG{n}{t}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{];}
  \PYG{n}{pthread\PYGZus{}create}\PYG{p}{(}\PYG{o}{\PYGZam{}}\PYG{n}{t}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{],} \PYG{n+nb}{NULL}\PYG{p}{,} \PYG{n}{Thread1}\PYG{p}{,} \PYG{n+nb}{NULL}\PYG{p}{);}
  \PYG{n}{pthread\PYGZus{}create}\PYG{p}{(}\PYG{o}{\PYGZam{}}\PYG{n}{t}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{],} \PYG{n+nb}{NULL}\PYG{p}{,} \PYG{n}{Thread2}\PYG{p}{,} \PYG{n+nb}{NULL}\PYG{p}{);}
  \PYG{n}{pthread\PYGZus{}join}\PYG{p}{(}\PYG{n}{t}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{],} \PYG{n+nb}{NULL}\PYG{p}{);}
  \PYG{n}{pthread\PYGZus{}join}\PYG{p}{(}\PYG{n}{t}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{],} \PYG{n+nb}{NULL}\PYG{p}{);}
\PYG{p}{\PYGZcb{}}
\end{Verbatim}
\vspace{0.5cm}
\caption{Multi-threaded C program}
\label{simple_c}
\end{subfigure}
\caption{Concurrent program from Figure~\ref{fig:program1}}
\label{fig:programs}
\end{figure}