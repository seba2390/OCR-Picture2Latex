%!TEX root = main.tex

\begin{figure}[t]
\centering
\begin{subfigure}{.5\textwidth}
  \centering
  \figprogram{2}{
    \figstmt{1}{0}{y := x+5;}
    \figstmt{2}{0}{if (y == 5)}
    \figstmt{2}{1}{x := 10;}
    \figstmt{2}{0}{else}
    \figstmt{2}{1}{while (true);}
  }
  \caption{Example concurrent program $P_1$.}
  \label{fig:program1}
\end{subfigure}%
\begin{subfigure}{.5\textwidth}
  \centering
  \vspace{0.15in}
  \execution{2}{
    \figev{1}{\rd(x)}
    \figev{1}{\wt(y)}
    \figev{2}{\rd(y)}
    \figev{2}{\wt(x)}
  }
  \caption{Trace $\tr_1$ generated from $P_1$.}
  \label{fig:trace1}
\end{subfigure}
\caption{Concurrent program $P_1$ and its sample execution
  $\tr_1$. Initially $x = y = 0$.}
\label{fig:example1}
\end{figure}
