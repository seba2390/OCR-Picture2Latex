\iffalse

\begin{tikzpicture}[
  node distance = 0.2cm and 0.2cm,
  single node/.style = {rectangle, fill=#1, text opacity=1, opacity=0.5, align=center, font=\footnotesize, text width=2cm, inner sep=1.5mm, rounded corners=0.5mm},
  bigbox/.style = {draw, thick, rounded corners, rectangle},
  arrow/.style={thick, -latex},
]

\node[single node=lightyellow] (instruction) {instruction};

\node[single node=lightblue, right=of instruction] (example1) {$(x_1^{tr}, y_1^{tr})$};
\node[single node=lightblue, right=of example1] (example2) {$(x_2^{tr}, y_2^{tr})$};
\node[single node=lightblue, right=of example2] (example3) {$(x_3^{tr}, y_3^{tr})$};

\node[single node=lightpink, right=of example3] (test) {$x_1^{test}$};

\node[bigbox, fit=(instruction) (example1) (example2) (example3) (test)] (box1) {};

\node[single node=lightyellow, below=1cm of instruction] (instruction2) {instruction};

\node[single node=lightblue, right=of instruction2] (example12) {$(x_1^{tr}, y_1^{tr})$};
\node[single node=lightblue, right=of example12] (example22) {$(x_2^{tr}, y_2^{tr})$};
\node[single node=lightblue, right=of example22] (example32) {$(x_3^{tr}, y_3^{tr})$};

\node[single node=lightpink, right=of example32] (test2) {\textsc{Perturb}$(x_1^{test})$};

\node[bigbox, fit=(instruction2) (example12) (example22) (example32) (test2)] (box2) {};

\draw [arrow] (box1.south) -- (box2.north);

\end{tikzpicture}

\fi


\begin{tikzpicture}[
  node distance = 0.2cm and 1cm, % Increase horizontal distance between nodes
  single node/.style = {rectangle, fill=#1, text opacity=1, opacity=0.5, align=center, font=\footnotesize, text width=2cm, inner sep=1.5mm, rounded corners=0.5mm},
  bigbox/.style = {draw, thick, rounded corners, rectangle, inner sep=1.5mm}, % Reduce inner sep for less padding
  arrow/.style={thick, -latex},
]

\node[single node=lightyellow] (instruction1) {instruction};
\node[single node=lightblue, below=of instruction1] (example1) {$(x_1^{tr}, y_1^{tr})$};
\node[single node=lightblue, below=of example1] (example2) {$(x_2^{tr}, y_2^{tr})$};
\node[single node=lightblue, below=of example2] (example3) {$(x_3^{tr}, y_3^{tr})$};
\node[single node=lightpink, below=of example3] (test1) {$x_1^{te}$};

\node[bigbox, fit=(instruction1) (example1) (example2) (example3) (test1)] (box1) {};

\node[single node=lightyellow, right=of instruction1] (instruction2) {instruction};
\node[single node=lightblue, below=of instruction2] (example12) {$(x_1^{tr}, y_1^{tr})$};
\node[single node=lightblue, below=of example12] (example22) {$(x_2^{tr}, y_2^{tr})$};
\node[single node=lightblue, below=of example22] (example32) {$(x_3^{tr}, y_3^{tr})$};
\node[single node=lightpink, below=of example32] (test2) {\textsc{Perturb}$(x_1^{te})$};

\node[bigbox, fit=(instruction2) (example12) (example22) (example32) (test2)] (box2) {};

\draw [arrow] (box1.east) -- (box2.west);
\end{tikzpicture}
