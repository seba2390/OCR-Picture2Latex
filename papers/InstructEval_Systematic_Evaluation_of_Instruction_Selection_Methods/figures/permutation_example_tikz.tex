\iffalse
\begin{tikzpicture}[
  node distance = 0.2cm and 0.2cm,
  single node/.style = {rectangle, fill=#1, text opacity=1, opacity=0.5, align=center, font=\footnotesize, text width=2cm, inner sep=1.5mm, rounded corners=0.5mm},
  bigbox/.style = {draw, thick, rounded corners, rectangle},
  arrow/.style={thick, -latex},
]

\node[single node=lightyellow] (instruction) {instruction};

\node[single node=lightblue, right=of instruction] (example1) {$(x_1^{tr}, y_1^{tr})$};
\node[single node=lightblue, right=of example1] (example2) {$(x_2^{tr}, y_2^{tr})$};
\node[single node=lightblue, right=of example2] (example3) {$(x_3^{tr}, y_3^{tr})$};

\node[single node=lightpink, right=of example3] (test) {$x_1^{test}$};

\node[bigbox, fit=(instruction) (example1) (example2) (example3) (test)] (box1) {};

\node[single node=lightyellow, below=1cm of instruction] (instruction2) {instruction};

\node[single node=lightblue, right=of instruction2] (example12) {$(x_2^{tr}, y_2^{tr})$};
\node[single node=lightblue, right=of example12] (example22) {$(x_1^{tr}, y_1^{tr})$};
\node[single node=lightblue, right=of example22] (example32) {$(x_3^{tr}, y_3^{tr})$};

\node[single node=lightpink, right=of example32] (test2) {$x_1^{test}$};

\node[bigbox, fit=(instruction2) (example12) (example22) (example32) (test2)] (box2) {};

\draw [arrow] (box1.south) -- (box2.north);

\node[single node=lightyellow, below=0.5cm of instruction2] (instruction3) {instruction};

\node[single node=lightblue, right=of instruction3] (example13) {$(x_3^{tr}, y_3^{tr})$};
\node[single node=lightblue, right=of example13] (example23) {$(x_2^{tr}, y_2^{tr})$};
\node[single node=lightblue, right=of example23] (example33) {$(x_1^{tr}, y_1^{tr})$};

\node[single node=lightpink, right=of example33] (test3) {$x_1^{test}$};

\node[bigbox, fit=(instruction3) (example13) (example23) (example33) (test3)] (box3) {};


\end{tikzpicture}
\fi



\begin{tikzpicture}[
  node distance = 0.2cm and 0.2cm,
  single node/.style = {rectangle, fill=#1, text opacity=1, opacity=0.5, align=center, font=\footnotesize, text width=2cm, inner sep=1.5mm, rounded corners=0.5mm},
  bigbox/.style = {draw, thick, rounded corners, rectangle},
  arrow/.style={thick, -latex},
  bigbox opaque/.style = {draw, thick, rounded corners, rectangle, opacity=1, fill=white},
  arrow/.style={thick, -latex},
]

\node[single node=lightyellow] (instruction) {instruction};

\node[single node=lightblue, below=of instruction] (example1) {$(x_1^{tr}, y_1^{tr})$};
\node[single node=lightblue, below=of example1] (example2) {$(x_2^{tr}, y_2^{tr})$};
\node[single node=lightblue, below=of example2] (example3) {$(x_3^{tr}, y_3^{tr})$};

\node[single node=lightpink, below=of example3] (test) {$x_1^{te}$};

\node[bigbox, fit=(instruction) (example1) (example2) (example3) (test)] (box1) {};

\begin{pgfonlayer}{layer1}
\node[single node=lightyellow, right=1cm of instruction] (instruction2) {instruction};

\node[single node=lightblue, below=of instruction2] (example12) {$(x_3^{tr}, y_3^{tr})$};
\node[single node=lightblue, below=of example12] (example22) {$(x_1^{tr}, y_1^{tr})$};
\node[single node=lightblue, below=of example22] (example32) {$(x_2^{tr}, y_2^{tr})$};

\node[single node=lightpink, below=of example32] (test2) {$x_1^{te}$};

\node[bigbox, fit=(instruction2) (example12) (example22) (example32) (test2)] (box2) {};
\end{pgfonlayer}

\begin{pgfonlayer}{layer2}
\node[bigbox opaque, fit=(instruction2) (example12) (example22) (example32) (test2)] (box2) {};
\end{pgfonlayer}

\begin{pgfonlayer}{layer3}
\node[single node=lightyellow, below=-0.25cm of instruction2, xshift=0.25cm] (instruction3) {instruction};

\node[single node=lightblue, below=of instruction3] (example13) {$(x_1^{tr}, y_1^{tr})$};
\node[single node=lightblue, below=of example13] (example23) {$(x_2^{tr}, y_2^{tr})$};
\node[single node=lightblue, below=of example23] (example33) {$(x_3^{tr}, y_3^{tr})$};

\node[single node=lightpink, below=of example33] (test3) {$x_1^{test}$};

\node[bigbox, fit=(instruction3) (example13) (example23) (example33) (test3)] (box3) {};
\end{pgfonlayer}

\begin{pgfonlayer}{layer4}
\node[bigbox opaque, fit=(instruction3) (example13) (example23) (example33) (test3)] (box3) {};
\end{pgfonlayer}

\begin{pgfonlayer}{layer5}
\node[single node=lightyellow, below=-0.25cm of instruction3, xshift=0.25cm] (instruction4) {instruction};

\node[single node=lightblue, below=of instruction4] (example14) {$(x_1^{tr}, y_1^{tr})$};
\node[single node=lightblue, below=of example14] (example24) {$(x_2^{tr}, y_2^{tr})$};
\node[single node=lightblue, below=of example24] (example34) {$(x_3^{tr}, y_3^{tr})$};

\node[single node=lightpink, below=of example34] (test4) {$x_1^{test}$};

\node[bigbox, fit=(instruction4) (example14) (example24) (example34) (test4)] (box4) {};
\end{pgfonlayer}

\begin{pgfonlayer}{layer6}
\node[bigbox, fit=(instruction4) (example14) (example24) (example34) (test4)] (box4) {};
\end{pgfonlayer}

\draw [arrow] (box1.east) -- (box2.west);

\end{tikzpicture}