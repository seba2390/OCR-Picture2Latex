\begin{table}[t]
\centering\small
\newcolumntype{g}{>{\columncolor{lightgray}}c}

%%% background shift %%%
\caption{
Test accuracy (\%) of a linear classifier evaluated on the Background Challenge \citep{xiao2021noise}, both backbone and classifier are trained under the \textsc{Original} dataset. The backbone is trained from the original image (Baseline), background mixup using ContraCAM (BG-Mixup (CAM)), or hard background mixing using ground-truth masks (BG-HardMix (GT)), under the ResNet-18 architecture. Blue (or red) arrows imply higher (or lower) is better. Subscripts denote standard deviation.
}\label{tab:bg-main}
\resizebox{\textwidth}{!}{% 
\begin{tabular}{lccgccg}
\toprule
& \multicolumn{3}{c}{MoCov2} & \multicolumn{3}{c}{BYOL} \\
\cmidrule(lr){2-4} \cmidrule(lr){5-7}
Dataset & Baseline & BG-Mixup (CAM) & BG-HardMix (GT) & Baseline & BG-Mixup (CAM) & BG-HardMix (GT) \\
\midrule
Original \cuparrow    & 89.17\stdv{0.49} & 90.73\stdv{0.05} \up{1.56} & 89.69\stdv{0.14} \up{0.52}\hphantom{8}
                      & 87.30\stdv{0.61} & 89.30\stdv{0.02} \up{2.00} & 90.95\stdv{0.33} \up{3.65}\hphantom{8}  \\
Only-BG-B \cdownarrow & 31.29\stdv{2.46} & 29.60\stdv{0.89} \down{1.69} & 26.44\stdv{1.63} \down{4.85}\hphantom{8}
                      & 25.59\stdv{0.78} & 25.70\stdv{3.46} \up{0.11} & 27.28\stdv{0.04} \up{1.69}\hphantom{8}  \\
Only-BG-T \cdownarrow & 44.91\stdv{0.16} & 41.95\stdv{0.38} \down{2.96} & 40.11\stdv{0.58} \down{4.80}\hphantom{8}
                      & 42.83\stdv{0.51} & 39.94\stdv{0.52} \down{2.89} & 41.16\stdv{0.17} \down{1.67}\hphantom{8}  \\
% No-FG  & 46.35\stdv{0.63} & 48.55\stdv{0.54} \up{2.20} & 45.74\stdv{0.83} \down{0.61} & 46.20\stdv{0.45} & 46.48\stdv{0.32} \up{0.28} & 45.79\stdv{0.45} \down{0.41}  \\
Only-FG \cuparrow     & 63.62\stdv{4.71} & 70.55\stdv{1.71} \up{6.93} & 72.68\stdv{0.69} \up{9.06}\hphantom{8}
                      & 61.04\stdv{0.94} & 67.53\stdv{0.30} \up{6.49} & 72.63\stdv{1.13} \up{11.59}  \\
Mixed-Same \cuparrow  & 80.98\stdv{0.34} & 84.13\stdv{0.33} \up{3.15} & 84.48\stdv{0.17} \up{3.50}\hphantom{8}
                      & 79.30\stdv{0.31} & 81.28\stdv{0.53} \up{1.98} & 84.94\stdv{0.47} \up{5.64}\hphantom{8}  \\
Mixed-Rand \cuparrow  & 60.34\stdv{0.66} & 66.89\stdv{0.54} \up{6.55} & 71.95\stdv{0.54} \up{11.61}
                      & 58.03\stdv{0.85} & 63.83\stdv{0.53} \up{5.80} & 70.51\stdv{0.33} \up{12.48} \\
Mixed-Next \cuparrow  & 55.50\stdv{0.71} & 63.64\stdv{0.41} \up{8.14} & 70.25\stdv{0.14} \up{14.75}
                      & 53.35\stdv{0.36} &  63.05\stdv{3.54} \up{9.70} & 66.81\stdv{0.08} \up{13.46}  \\
\midrule
BG-Gap \cdownarrow    & 20.64\stdv{0.36} & 17.24\stdv{0.31} \down{3.40} & 12.53\stdv{0.69} \down{8.11}\hphantom{8}
                      & 21.27\stdv{0.64} & 17.45\stdv{0.15} \down{3.82} & 14.44\stdv{0.56} \down{6.83}\hphantom{8}  \\
\bottomrule
\end{tabular}}

%%% distribution shift %%%
\caption{
Test accuracy (\%) of a linear classifier evaluated on various distribution-shifted datasets, following the training of the table above, additionally comparing with Mixup \citep{zhang2018mixup} and CutMix \citep{yun2019cutmix}.
}\label{tab:bg-domain}
\resizebox{\textwidth}{!}{% 
\begin{tabular}{llllll}
\toprule
Model & Augmentation & \multicolumn{4}{c}{Test dataset} \\
\cmidrule{3-6}
& & ImageNet-Sketch-9 & Stylized-ImageNet-9  & ImageNet-R-9 & ImageNet-C-9 \\
\midrule
MoCov2 & Baseline                      & 46.70\stdv{0.67} & 25.66\stdv{0.54} & 37.51\stdv{0.80} & 31.82\stdv{0.40} \\
MoCov2 & +Mixup \citep{zhang2018mixup} & 51.18\stdv{0.88} \up{4.48} & 32.36\stdv{0.12} \up{6.70} & 41.00\stdv{0.12} \up{3.49} & 40.15\stdv{2.07} \up{8.33}\\
MoCov2 & +CutMix \citep{yun2019cutmix} & 45.92\stdv{0.88} \down{0.78} & 26.46\stdv{0.68} \up{0.80} & 37.07\stdv{0.31} \down{0.44} & 32.29\stdv{0.60} \up{0.47}\\
% MoCov2 & +BG-HardMix (GT) & 51.60\stdv{0.91} \up{4.90} & 29.95\stdv{2.64} \up{4.09} & 40.15\stdv{0.34} \up{3.39} & 31.45\stdv{1.20} \down{0.37}\\
MoCov2 & +BG-Mixup (ours)              & \textbf{52.15}\stdv{0.93} \up{5.45} & \textbf{33.36}\stdv{0.61} \up{7.70} & \textbf{41.50}\stdv{0.45} \up{3.99} & \textbf{44.39}\stdv{0.89} \up{12.57} \\
\midrule
BYOL   & Baseline                      & 45.15\stdv{1.12} & 23.80\stdv{0.45} & 36.21\stdv{0.31} & 28.62\stdv{0.06} \\
BYOL   & +Mixup \citep{zhang2018mixup} & 50.12\stdv{1.61} \up{1.97} & \textbf{28.11}\stdv{1.15} \up{4.31} & 37.90\stdv{0.44} \up{1.69} & 32.48\stdv{0.55} \up{3.86}\\
BYOL   & +CutMix \citep{yun2019cutmix} & 46.07\stdv{0.05} \up{1.39} & 23.98\stdv{0.05} \up{0.18} & 35.43\stdv{0.44} \down{0.78} & 29.68\stdv{0.39} \up{1.06}\\
% BYOL   & +BG-HardMix (GT)              & 51.57\stdv{1.68} \up{6.42} & 26.72\stdv{0.38} \up{2.92} & \textbf{40.09}\stdv{0.41} \up{3.88} & 31.04\stdv{0.52} \up{2.42}\\
BYOL   & +BG-Mixup (ours)              & \textbf{52.40}\stdv{0.70} \up{7.25} & 27.01\stdv{0.74} \up{3.21} & \textbf{39.62}\stdv{0.21} \up{3.41} & \textbf{33.83}\stdv{0.28} \up{5.21}\\
\bottomrule
\end{tabular}}
\end{table}

