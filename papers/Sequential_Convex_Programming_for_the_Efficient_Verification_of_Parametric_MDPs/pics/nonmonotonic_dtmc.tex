\begin{tikzpicture}[scale=1, nodestyle/.style={draw,circle},baseline=(s0)]

    \node [nodestyle] (s0) at (0,0) {$s_0$};
    \node [nodestyle] (s1) [on grid, right=2cm of s0] {$s_1$};
    \node [nodestyle] (s2) [on grid, right=2cm of s1] {$s_2$};
    \node [nodestyle ,accepting] (s3) [on grid, right=2cm of s2] {$s_3$};
    \node [nodestyle, gray] (s4) [on grid, below=2cm of s1] {$s_4$};
    
  
    \draw[->] (s0) -- node [auto] {\scriptsize$p$} (s1);
    \draw[->,gray] (s0) -- node [auto] {\scriptsize$\overline p$} (s4);


    \draw[->] (s1) -- node [auto] {\scriptsize$\overline p$} (s2);
    \draw[->,gray] (s1) -- node [auto] {\scriptsize$p$} (s4);
    
    \draw[->] (s2) -- node [auto] {\scriptsize$p$} (s3);
    \draw[->,gray] (s2) -- node [auto] {\scriptsize$\overline p$} (s4);

    \draw(s3) edge[loop above] node [above] {\scriptsize$1$} (s3);
    \draw(s4) [gray] edge[loop below] node [auto] {\scriptsize$1$} (s3);
    
\end{tikzpicture}

