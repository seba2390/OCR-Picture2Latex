\begin{algorithm*}
    \caption{Training Algorithm of \frameworkName}
    \label{alg2}
    \textbf{Input:}\hspace{0mm} Data stream $\mathfrak{D}$, encoder $f$, projector $g$, classifier $\varphi$, and data augmentation $\operatorname{aug}$.\\
    \textbf{Initialization:} Memory bank $\mathcal{M}$ $\gets$ \{\},\\
    \For{$t$=1 to $T$}{
        \For{each mini-batch $X$ in $\mathcal{D}_t$ }{
            $X^\mathrm{b} \gets$ \dataaugname($\mathcal{M}$)
            \\
            $\widehat{X}, \widehat{X}^\mathrm{b} \gets \operatorname{aug}(X, X^\mathrm{b})$\\
            $\mathbf{z}$, $\mathbf{z^\mathrm{b}}$ = $g$($f$($X \cup \widehat{X}$)), $g$($f$($X^\mathrm{b} \cup \widehat{X}^\mathrm{b}$))\\
            Compute online prototypes $\mathcal{P}$ and $\mathcal{P^\mathrm{b}}$ \Comment{Eq.~\eqref{eq:cal_p} in the main paper}
            \\
            $\mathcal{L}_\mathrm{\frameworkName} \gets$ $\mathcal{L}_\mathrm{\methodname}$($\mathcal{P}$, $\mathcal{P^\mathrm{b}}$) + $\mathcal{L}_{\mathrm{INS}}$($\mathbf{z}, \mathbf{z}^\mathrm{b}$)
            + $\mathcal{L}_\mathrm{CE}$($\varphi(f(\widehat{X}^\mathrm{b}))$)
            \\   
            $\theta_f, \theta_g \gets \mathcal{L}_\mathrm{\frameworkName}$\\
            $\mathcal{M}$ $\gets$ Update($\mathcal{M}, X$) 
        }
    }
\end{algorithm*}