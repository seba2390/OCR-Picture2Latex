\section{Minimal Random Coding}
\label{appendix:mrc}

Let $q(\svbz|\svbx)$ be an $\varepsilon$-LDP mechanism for all $\svbx \in \cX$ and $\svbz \in \cZ$. Let $p(\svbz)$ be the fixed reference distribution over $\cZ$ and let $\{\svbz_k\}_{k=1}^{N}$ be $N$ candidates drawn from $p(\svbz)$. From Algorithm \ref{alg:mrc}, the distribution over the indices $k \in [N]$ under minimal random coding $(\MRC)$ is as follows:
\begin{align}
  \piMRC_{\svbx}(k) \coloneqq \dfrac{q(\svbz_k|\svbx)/p(\svbz_k)}{\sum_{k'} q(\svbz_{k'}|\svbx)/p(\svbz_{k'})}  \label{eq:generic_pi} 
\end{align}
$\piMRC$ can be viewed as a function that maps $\svbx$ and $(\svbz_1,...,\svbz_N)$ to a distribution in $[N]$. However for notational convenience, when the context is clear, we will omit the dependence on $\svbx$ and $(\svbz_1,...,\svbz_N)$. 


Let $\qMRC$ denote the distribution of $\svbz_K$ where $K \sim \piMRC(\cdot)$ i.e., with $\delta(\cdot)$ denoting the Dirac delta function:
\begin{align}
    \qMRC(\svbz | \svbx) \coloneqq \sum_{k} \piMRC(k) \delta(\svbz - \svbz_k). \label{eq:qmrc}
\end{align}
% The Minimal Random Coding (MRC) scheme samples a candidate $\svbz_K \in \{\svbz_k\}_{k=1}^{N}$ where $K\sim \pi(k)$. It is easy to see that the distribution of $\svbz_K$ is 
% \begin{align}
%   \qMRC(\svbz | \svbx) \coloneqq \sum_{k} \pi(k)\cdot \Indicator{1}_{\lbp \svbz = \svbz_k \rbp}. \label{eq:q_mrc} 
% \end{align}
% Let $\qMRC$ denote the distribution of $\svbz_K$ where $K \sim \piMRC(\cdot)$.
% i.e., with $\delta(\cdot)$ denoting the Dirac delta function:
% \begin{align}
%     \qMRC(\svbz | \svbx) \coloneqq \sum_{k} \piMRC(k) \delta(\svbz - \svbz_k). \label{eq:qmrc}
% \end{align}


\subsection{Utility of \texorpdfstring{$\MRC$}{MRC}}\label{appendix:utility_mrc}
In this section, we prove Theorem \ref{theorem:mrc_accuracy_local} i.e., we show that $\MRC$ can simulate any $\varepsilon$-LDP mechanism in a nearly lossless fashion with about $\varepsilon$ bits of communication
\mrcaccuracylocal*
\begin{proof}
In order to prove this theorem, we invoke Theorem~3.2 of \citet{HPHJ19}.

Recall Theorem~3.2 \citep{HPHJ19}: Let $q'$ and $p$ be distributions over $\cZ$. Let $t \geq 0$ be some constant and let $N' = 2^{\lp \KLD{q'(\svbz)}{p(\svbz)} + t \rp}$.
Let $\tilde{q}$ be a discrete distribution constructed by drawing $N'$ samples $\{\svbz_k\}_{k=1}^{N'}$ from $p$ and defining \begin{align}
    \tilde{q}(\svbz) \coloneqq \sum_{k = 1}^{N'} \dfrac{q(\svbz_k)/p(\svbz_k)}{\sum_{k'}  q(\svbz_{k'})/p(\svbz_{k'})}\delta(\svbz - \svbz_k).
\end{align}
Furthermore, let $f$ be a measurable function and $\|f\|_{q'} = \sqrt{\Expectation_{q'(\svbz)}[f^2(\svbz)]}$ be its 2-norm under $q'$. Then it holds that 
\begin{align}
    \Probability\bigg(\Big|\Expectation_{\tilde{q}(\svbz)}[f(\svbz)] - \Expectation_{q'(\svbz)}[f(\svbz)] \Big| \geq \dfrac{2\|f\|_{q'} \alpha'}{1-\alpha'}\bigg) \leq 2\alpha'
\end{align}
where 
\begin{align}
\alpha' = \sqrt{2^{-t/4} + 2\sqrt{\Probability( \log(q'(\svbz)/p(\svbz)) > \KLD{q'(\svbz)}{p(\svbz)} + t/2)}}.
\end{align}

We apply Theorem~3.2 \citep{HPHJ19} to $q'(\svbz) \coloneqq q(\svbz|\svbx)$ and $f(\svbz) \coloneqq \|\svbz-\svbx\|^2$. We identify $\tilde{q}(\svbz) = \qMRC(\svbz|\svbx)$ and $N' = N$. To prove Theorem~\ref{theorem:mrc_accuracy_local}, it suffices to show that $\alpha \geq \alpha'$. Note that
\begin{align}
\KLD{q(\svbz|\svbx)}{p(\svbz)} \stackrel{(a)}{=} \Expectation_{q(\svbz|\svbx)}\bigg[\log\bigg(\dfrac{q(\svbz|\svbx)}{p(\svbz)}\bigg)\bigg] \stackrel{(b)}{\leq} \varepsilon \log e,
\end{align}
where $(a)$ follows the definition of KL-divergence and $(b)$ follows since $ |\log (q(\svbz|\svbx) / p(\svbz)) | \leq \varepsilon \log e$ by the assumption on $p$. We therefore have
\begin{align}
    t
    = (\log e + 4c)\varepsilon - \KLD{q(\svbz|\svbx)}{p(\svbz)}
    \geq 4c\varepsilon.
\end{align}
 %To bound $\alpha$, we bound $\Probability \big(\log (q(\svbz|\svbx)\|p(\svbz)) > \mathrm{KL}(q(\svbz|\svbx)\|p(\svbz)) + t/2\big)$ as follows
 It follows that
\begin{align}
    & \Probability \big(\log (q(\svbz|\svbx)\|p(\svbz)) > \KLD{q(\svbz|\svbx)}{p(\svbz)} + t/2\big)  \\
    & \qquad \leq
    \Probability \big(\log (q(\svbz|\svbx)\|p(\svbz)) > \Expectation\big[\log (q(\svbz|\svbx)\|p(\svbz))\big] + 2c\varepsilon\big)\\
    & \qquad \stackrel{(b)}{\leq} \exp(-2c^2/(\log e)^2)\\
    & \qquad = 2^{-2c^2/\log e}.
\end{align}
where $(b)$ follows from Hoeffding's inequality since $ |\log (q(\svbz|\svbx) / p(\svbz)) | \leq \varepsilon \log e$ by the assumption on $p$. Therefore,
\begin{align}
    \alpha'
    \leq \sqrt{2^{-c\varepsilon} + 2\sqrt{2^{-2c^2/\log e}}}
    = \sqrt{2^{-c\varepsilon} + 2^{-c^2/\log e + 1}} = \alpha.
\end{align}
\end{proof}

\begin{remark}\label{rmk:error_forth_moment}
For most $\varepsilon$-LDP mechanisms $q(\cdot|\svbx)$, the term $\Expectation_{q}\lb \|\svbz - \svbx\|^4\rb$ in \eqref{eq:mrc_utility} can be well-controlled. For instance, for \emph{$\SubsetSelection$} and \emph{$\PrivUnit$}, the output spaces are bounded, and therefore, $\sqrt{\Expectation_{q}[\|\svbz - \svbx\|^4]}$ is of the same order as $\Expectation_{q}\big[\|\svbz - \svbx\|^2\big]$. Therefore, by making $\alpha$ small enough (in Theorem~\ref{theorem:mrc_accuracy_local}) i.e. by increasing $c$, the estimation error of \emph{$\MRC$} can be arbitrarily close to the estimation error of the underlying scheme it is simulating.
\end{remark}

\subsection{Privacy of \texorpdfstring{$\MRC$}{MRC}}
\label{appendix:privacy_mrc}
\subsubsection{Pure Privacy of \texorpdfstring{$\MRC$}{MRC}}\label{appendix:pure_privacy_mrc}
In this section, we prove Theorem \ref{theorem:mrc_pure_privacy} i.e., we show that $\piMRC$ is a $2\varepsilon$-LDP mechanism.
\mrcpureprivacy*
\begin{proof}
% [Proof of Theorem \ref{theorem:mrc_pure_privacy}]
For any $\svbx, \svbx' \in \cX, \svbz \in \cZ$, using the definition of an $\varepsilon$-LDP mechanism, we have
\begin{align}
    q(\svbz|\svbx) \leq \exp(\varepsilon) q(\svbz|\svbx'). \label{eq:ldp_definition}
\end{align}
For any $\svbx, \svbx' \in \cX, \{\svbz_k\}_{k=1}^{N} \in \cZ^N$ and $k \in [N]$, we have
\begin{align}
    \frac{\piMRC_{\svbx}(k)}{\piMRC_{\svbx'}(k)} & \stackrel{(a)}{=} \frac{q(\svbz_k | \svbx)}{q(\svbz_k | \svbx')} \times \frac{\sum_{k'} q(\svbz_{k'} | \svbx')/p(\svbz_{k'})}{\sum_{k'} q(\svbz_{k'} | \svbx)/p(\svbz_{k'})} \\
    & \stackrel{(b)}{\leq} \exp(\varepsilon) \times \frac{\sum_{k'} \exp(\varepsilon) q(\svbz_{k'} | \svbx)/p(\svbz_{k'})}{\sum_{k'} q(\svbz_{k'} | \svbx)/p(\svbz_{k'})} \\
    & = \exp(\varepsilon) \times \frac{\exp(\varepsilon) \sum_{k'}  q(\svbz_{k'} | \svbx)/p(\svbz_{k'})}{\sum_{k'} q(\svbz_{k'} | \svbx)/p(\svbz_{k'})} \\
    & = \exp(2\varepsilon).
\end{align}
where $(a)$ follows from the definition of $\piMRC$ and $(b)$ follows from \eqref{eq:ldp_definition}.
\end{proof}

\subsubsection{Approximate Privacy of \texorpdfstring{$\MRC$}{MRC}}\label{appendix:approx_privacy_mrc}
In this section, we prove Theorem \ref{theorem:mrc_approximate_privacy} i.e., we provide the approximate DP guarantee of $\piMRC$.
\mrcapproxprivacy*
\begin{proof}
Fix any $\svbx \in \cX$. Let us define the following random variable:
\begin{align}
w(\svbz|\svbx) = q(\svbz|\svbx) / p(\svbz). \label{eq:importance_weights}
\end{align}
Assuming $\svbz \sim p(\cdot)$, the expected value of the random variable $w(\svbz|\svbx)$ is 
\begin{align}
\Expectation_{p}[w(\svbz|\svbx)] = \Expectation_{p}[q(\svbz|\svbx) / p(\svbz)] = \int_{\svbz \in \cZ} q(\svbz|\svbx) = 1.
\end{align}
Further, the random variable $w(\svbz|\svbx)$ can be bounded as follows:
\begin{align}
| w(\svbz|\svbx) | = | q(\svbz|\svbx) / p(\svbz) | \stackrel{(a)}{\leq} \exp(\varepsilon).
\end{align}
where $(a)$ follows from the assumption on $p(\cdot)$. Therefore, we have
\begin{align}
    \Probability\bigg( \bigg| \frac{1}{N}\sum_{k=1}^{N} w(\svbz_k|\svbx) - 1 \bigg| \geq a_0 \bigg) & \stackrel{(a)}{\leq}  2 \exp\bigg(\frac{-2Na_0^2}{(\exp(\varepsilon)-\exp(-\varepsilon))^2}\bigg) \\
    & \leq 2 \exp\bigg(\frac{-2Na_0^2}{\exp(2\varepsilon)}\bigg) \stackrel{(b)}{=} \delta \label{eq:hoeffdings_inequality}
\end{align}
where $(a)$ follows from Hoeffding's inequality and $(b)$ follows from the definition of $a_0$ and $N$. Now, for any $\svbx, \svbx' \in \cX, \{\svbz_k\}_{k=1}^{N} \in \cZ^N$ and $k \in [N]$, we have
\begin{align}
    \frac{\piMRC_{\svbx}(k)}{\piMRC_{\svbx'}(k)} & 
    \stackrel{(a)}{=} \frac{q(\svbz_k | \svbx)}{q(\svbz_k | \svbx')} \times \frac{\sum_{k'} q(\svbz_{k'} | \svbx')/p(\svbz_{k'})}{\sum_{k'} q(\svbz_{k'} | \svbx)/p(\svbz_{k'})} \\
    & \stackrel{(b)}{=} \frac{q(\svbz_k | \svbx)}{q(\svbz_k | \svbx')} \times \frac{\sum_{k'} w(\svbz_{k'}|\svbx')}{\sum_{k'} w(\svbz_{k'}|\svbx)} \\
    & \stackrel{(c)}{\leq} \exp(\varepsilon) \times \frac{\frac{1}{N}\sum_{k'} w(\svbz_{k'}|\svbx')}{\frac{1}{N}\sum_{k'} w(\svbz_{k'}|\svbx)} \label{eq:approx_dp_intermediate}
\end{align}
where $(a)$ follows from the definition of $\piMRC$, $(b)$ follows from \eqref{eq:importance_weights}
and $(c)$ follows from \eqref{eq:ldp_definition}. Now, using \eqref{eq:hoeffdings_inequality} in \eqref{eq:approx_dp_intermediate}, we have with probability at least $1-\delta$:
\begin{align}
    \frac{\piMRC_{\svbx}(k)}{\piMRC_{\svbx'}(k)} \leq \exp(\varepsilon) \times \frac{1+a_0}{1-a_0} \stackrel{(a)}{=} \exp(\varepsilon + \varepsilon_0)
\end{align}
 where $(a)$ follows from the definition of $\varepsilon_0$.
\end{proof}


