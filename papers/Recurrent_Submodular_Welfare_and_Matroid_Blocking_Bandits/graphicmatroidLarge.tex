\tikzstyle{ipe stylesheet} = [
  ipe import,
  even odd rule,
  line join=round,
  line cap=butt,
  ipe pen normal/.style={line width=0.4},
  ipe pen heavier/.style={line width=0.8},
  ipe pen fat/.style={line width=1.2},
  ipe pen ultrafat/.style={line width=2},
  ipe pen normal,
  ipe mark normal/.style={ipe mark scale=3},
  ipe mark large/.style={ipe mark scale=5},
  ipe mark small/.style={ipe mark scale=2},
  ipe mark tiny/.style={ipe mark scale=1.1},
  ipe mark normal,
  /pgf/arrow keys/.cd,
  ipe arrow normal/.style={scale=7},
  ipe arrow large/.style={scale=10},
  ipe arrow small/.style={scale=5},
  ipe arrow tiny/.style={scale=3},
  ipe arrow normal,
  /tikz/.cd,
  ipe arrows, % update arrows
  <->/.tip = ipe normal,
  ipe dash normal/.style={dash pattern=},
  ipe dash dashed/.style={dash pattern=on 4bp off 4bp},
  ipe dash dotted/.style={dash pattern=on 1bp off 3bp},
  ipe dash dash dotted/.style={dash pattern=on 4bp off 2bp on 1bp off 2bp},
  ipe dash dash dot dotted/.style={dash pattern=on 4bp off 2bp on 1bp off 2bp on 1bp off 2bp},
  ipe dash normal,
  ipe node/.append style={font=\normalsize},
  ipe stretch normal/.style={ipe node stretch=1},
  ipe stretch normal,
  ipe opacity 10/.style={opacity=0.1},
  ipe opacity 30/.style={opacity=0.3},
  ipe opacity 50/.style={opacity=0.5},
  ipe opacity 75/.style={opacity=0.75},
  ipe opacity opaque/.style={opacity=1},
  ipe opacity opaque,
]
\definecolor{red}{rgb}{1,0,0}
\definecolor{green}{rgb}{0,1,0}
\definecolor{blue}{rgb}{0,0,1}
\definecolor{yellow}{rgb}{1,1,0}
\definecolor{orange}{rgb}{1,0.647,0}
\definecolor{gold}{rgb}{1,0.843,0}
\definecolor{purple}{rgb}{0.627,0.125,0.941}
\definecolor{gray}{rgb}{0.745,0.745,0.745}
\definecolor{brown}{rgb}{0.647,0.165,0.165}
\definecolor{navy}{rgb}{0,0,0.502}
\definecolor{pink}{rgb}{1,0.753,0.796}
\definecolor{seagreen}{rgb}{0.18,0.545,0.341}
\definecolor{turquoise}{rgb}{0.251,0.878,0.816}
\definecolor{violet}{rgb}{0.933,0.51,0.933}
\definecolor{darkblue}{rgb}{0,0,0.545}
\definecolor{darkcyan}{rgb}{0,0.545,0.545}
\definecolor{darkgray}{rgb}{0.663,0.663,0.663}
\definecolor{darkgreen}{rgb}{0,0.392,0}
\definecolor{darkmagenta}{rgb}{0.545,0,0.545}
\definecolor{darkorange}{rgb}{1,0.549,0}
\definecolor{darkred}{rgb}{0.545,0,0}
\definecolor{lightblue}{rgb}{0.678,0.847,0.902}
\definecolor{lightcyan}{rgb}{0.878,1,1}
\definecolor{lightgray}{rgb}{0.827,0.827,0.827}
\definecolor{lightgreen}{rgb}{0.565,0.933,0.565}
\definecolor{lightyellow}{rgb}{1,1,0.878}
\definecolor{black}{rgb}{0,0,0}
\definecolor{white}{rgb}{1,1,1}
\begin{tikzpicture}[ipe stylesheet]
  \draw[red, ipe pen fat]
    (64, 704)
     -- (96, 704)
     -- (96, 704);
  \pic[ipe mark large, fill=darkgray]
     at (64, 704) {ipe fdisk};
  \pic[ipe mark large, fill=darkgray]
     at (96, 704) {ipe fdisk};
  \filldraw[draw=red, ipe pen fat, fill=darkgray, ipe opacity 75]
    (144, 736)
     -- (128, 704)
     -- (128, 704);
  \filldraw[ipe pen fat, fill=white]
    (128, 704)
     -- (160, 704);
  \filldraw[red, ipe pen fat]
    (144, 736)
     -- (160, 704);
  \pic[ipe mark large, fill=darkgray]
     at (144, 736) {ipe fdisk};
  \pic[ipe mark large, fill=white]
     at (128, 704) {ipe fdisk};
  \pic[ipe mark large, fill=white]
     at (160, 704) {ipe fdisk};
  \filldraw[ipe pen fat, fill=white]
    (192, 704)
     -- (224, 704);
  \filldraw[ipe pen fat, fill=white]
    (192, 704)
     -- (208, 736);
  \filldraw[ipe pen fat, fill=white]
    (208, 736)
     -- (224, 704);
  \filldraw[draw=red, ipe pen fat, fill=darkgray]
    (208, 736)
     -- (240, 736);
  \filldraw[draw=red, ipe pen fat, fill=darkgray]
    (192, 704)
     -- (240, 736);
  \filldraw[draw=red, ipe pen fat, fill=black]
    (224, 704)
     -- (240, 736);
  \pic[ipe mark large, fill=white]
     at (192, 704) {ipe fdisk};
  \pic[ipe mark large, fill=white]
     at (208, 736) {ipe fdisk};
  \pic[ipe mark large, fill=white]
     at (224, 704) {ipe fdisk};
  \pic[ipe mark large, fill=darkgray]
     at (240, 736) {ipe fdisk};
  \node[ipe node, font=\Large]
     at (64, 672) {$G_1$};
  \node[ipe node, font=\Large]
     at (128, 672) {$G_2$};
  \node[ipe node, font=\Large]
     at (192, 672) {$G_3$};
  \node[ipe node, font=\Huge]
     at (256, 704) {. . .};
  \node[ipe node, font=\Large]
     at (320, 672) {$G_d$};
  \node[ipe node, font=\Large]
     at (323.895, 717.398) {$G_{d-1}$};
  \draw[ipe pen fat, ipe dash dashed]
    (362.6667, 730.6667)
     .. controls (362.6667, 741.3333) and (341.3333, 746.6667) .. (330.6667, 744)
     .. controls (320, 741.3333) and (320, 730.6667) .. (320, 725.3333)
     .. controls (320, 720) and (320, 720) .. (320, 714.6667)
     .. controls (320, 709.3333) and (320, 698.6667) .. (330.6667, 701.3333)
     .. controls (341.3333, 704) and (362.6667, 720) .. cycle;
  \filldraw[draw=red, ipe pen fat, fill=darkgray]
    (358.3048, 719.1079)
     -- (383.7055, 704.3703);
  \pic[ipe mark large, fill=darkgray]
     at (384, 704) {ipe fdisk};
  \filldraw[draw=red, ipe pen fat, fill=darkgray]
    (348.8779, 710.1407)
     -- (383.7886, 703.0978);
  \filldraw[draw=red, ipe pen fat, fill=darkgray]
    (364.0388, 730.0229)
     -- (385.3779, 704.2612);
  \filldraw[draw=red, ipe pen fat, fill=darkgray]
    (341.3156, 704.9987)
     -- (383.412, 702.607);
  \pic[ipe mark large, fill=darkgray]
     at (384, 704) {ipe fdisk};
\end{tikzpicture}
