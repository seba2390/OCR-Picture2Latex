\documentclass[sigconf, screen]{acmart}

%\settopmatter{printacmref=false}


\input{math_commands.tex}

\usepackage{hyperref}
\usepackage{url}
\usepackage{times}
\usepackage{latexsym}
\usepackage{verbatim}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{microtype}
\usepackage{algorithm} 
\usepackage{algpseudocode}
\usepackage{balance}
\usepackage{breqn}
\usepackage{lipsum,graphicx}
\usepackage{booktabs}
\usepackage[export]{adjustbox}
\usepackage{layouts}
\renewcommand{\UrlFont}{\ttfamily\small}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{multirow}
\usepackage{makecell}
\usepackage{pifont}% http://ctan.org/pkg/pifont
\usepackage{geometry} 
\usepackage{tikz} 
\usepackage{lipsum}

%%%%%%%%%%%%% Defined Commands %%%%%%%%%%%%%%%%%%%
\newcommand{\myboxx}[4]{
    \begin{figure}[h]
        \centering
    \begin{tikzpicture}
        \node[anchor=text,text width=\columnwidth-1cm, draw, rounded corners, line width=1pt, fill=#3, inner sep=mm] (big) {\\#4};
        \node[draw, rounded corners, line width=.5pt, fill=#2, anchor=west, xshift=5mm] (small) at (big.north west) {#1};
    \end{tikzpicture}
    \vspace{-6pt}
    \end{figure}
    }
    
\newcommand{\mybox}[4]{
\vspace{4pt}
\noindent{}\fbox{\parbox{0.963\columnwidth}{\textbf{#1:} 
#4
}
}
\vspace{4pt}


}
    
\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}%
\newcommand\BibTeX{B\textsc{ib}\TeX}
\newcommand\jdime{\textsc{JDime}}
\newcommand\jsfstmerge{\textsc{jsFSTMerge}}
\newcommand\fstmerge{\textsc{FSTMerge}}
\newcommand\thistool{MergeBERT}
\newcommand{\ic}[1]{\begin{small}\texttt{#1}\end{small}}

%%%%%%%%%%%%% Research Questions %%%%%%%%%%%%%%%%%%%
\newcommand{\rqOne}{How effective is \thistool{} in producing merge conflict resolutions?}
\newcommand{\rqTwo}{How well does \thistool{} perform across different languages?}
\newcommand{\rqThree}{How do different choices of context encoding impact performance of \thistool{}?}
\newcommand{\rqFour}{How do users perceive \thistool{} resolutions?}



\title{Program Merge Conflict Resolution via Neural Transformers}


\author{Alexey Svyatkovskiy}
\affiliation{%
  \institution{Microsoft}
  \city{Redmond}
  \state{WA}
  \country{USA}
}
%\email{alsvyatk@microsoft.com}

\author{Sarah Fakhoury}
\affiliation{%
  \institution{Washington State University}
  \city{Pullman}
  \state{WA}
  \country{USA}
}

\author{Negar Ghorbani}
\affiliation{%
  \institution{UC Irvine}
  \city{Irvine}
  \state{CA}
  \country{USA}
}

\author{Todd Mytkowicz}
\affiliation{%
  \institution{Microsoft Research}
  \city{Redmond}
  \state{WA}
  \country{USA}
}

\author{Elizabeth Dinella}
\affiliation{%
  \institution{University of Pennsylvania}
  \city{Philadelphia}
  \state{PA}
  \country{USA}
}

\author{Christian Bird}
\affiliation{%
  \institution{Microsoft Research}
  \city{Redmond}
  \state{WA}
  \country{USA}
}

\author{Jinu Jang}
\affiliation{%
  \institution{Microsoft}
  \city{Redmond}
  \state{WA}
  \country{USA}
}

\author{Neel Sundaresan}
\affiliation{%
  \institution{Microsoft}
  \city{Redmond}
  \state{WA}
  \country{USA}
}

\author{Shuvendu K. Lahiri}
\affiliation{%
  \institution{Microsoft Research}
  \city{Redmond}
  \state{WA}
  \country{USA}
}

\newcommand{\fix}{\marginpar{FIX}}
\newcommand{\new}{\marginpar{NEW}}

\renewcommand{\shortauthors}{Svyatkovskiy, Fakhoury, Ghorbani, Mytkowicz, Dinella, Bird, Jang, Sundaresan, Lahiri}


\begin{document}

\begin{abstract}
Collaborative software development is an integral part of the modern software development life cycle, essential to the success of large-scale software projects. When multiple developers make concurrent changes around the same lines of code, a merge conflict may occur. Such conflicts stall pull requests and continuous integration pipelines for hours to several days, seriously hurting developer productivity. To address this problem, we introduce \thistool{}, a novel neural program merge framework based on token-level three-way differencing and a transformer encoder model. By exploiting the restricted nature of merge conflict resolutions, we reformulate the task of generating the resolution sequence as a classification task over a set of primitive merge patterns extracted from real-world merge commit data. Our model achieves 63--68\% accuracy for merge resolution synthesis, yielding nearly a 3$\times$ performance improvement over existing semi-structured, and 2$\times$ improvement over neural program merge tools. Finally, we demonstrate that \thistool{} is sufficiently flexible to work with source code files in Java, JavaScript, TypeScript, and C\# programming languages.
To measure the practical use of \thistool{}, we conduct a user study to evaluate \thistool{} suggestions with 25 developers from large OSS projects on 122 real-world conflicts they encountered. Results suggest that in practice, \thistool{} resolutions would be accepted at a higher rate than estimated by automatic metrics for precision and accuracy. Additionally, we use participant feedback to identify future avenues for improvement of \thistool{}.

\end{abstract}


\begin{CCSXML}
<ccs2012>
   <concept>
       <concept_id>10011007.10011074.10011111.10011695</concept_id>
       <concept_desc>Software and its engineering~Software version control</concept_desc>
       <concept_significance>500</concept_significance>
       </concept>
   <concept>
       <concept_id>10011007.10011074.10011092.10011782</concept_id>
       <concept_desc>Software and its engineering~Automatic programming</concept_desc>
       <concept_significance>500</concept_significance>
       </concept>
 </ccs2012>
\end{CCSXML}

\ccsdesc[500]{Software and its engineering~Software version control}
\ccsdesc[500]{Software and its engineering~Automatic programming}

\keywords{Software evolution, program merge, ml4code}

%%% The following is specific to ESEC/FSE '22 and the paper
%%% 'Program Merge Conflict Resolution via Neural Transformers'
%%% by Alexey Svyatkovskiy, Sarah Fakhoury, Negar Ghorbani, Todd Mytkowicz, Elizabeth Dinella, Christian Bird, Jinu Jang, Neel Sundaresan, and Shuvendu K. Lahiri.
%%%
\setcopyright{acmcopyright}
\acmPrice{15.00}
\acmDOI{10.1145/3540250.3549163} 
\acmYear{2022}
\copyrightyear{2022}
\acmSubmissionID{fse22main-p1294-p}
\acmISBN{978-1-4503-9413-0/22/11}
\acmConference[ESEC/FSE '22]{Proceedings of the 30th ACM Joint European Software Engineering Conference and Symposium on the Foundations of Software Engineering}{November 14--18, 2022}{Singapore, Singapore}
\acmBooktitle{Proceedings of the 30th ACM Joint European Software Engineering Conference and Symposium on the Foundations of Software Engineering (ESEC/FSE '22), November 14--18, 2022, Singapore, Singapore}


\maketitle

\input{introduction.tex}

\input{motivation}

\input{datadriven_merge}

\input{ml.tex}

\input{research-questions.tex}

\input{dataset.tex}

\input{evaluation_combined}

\input{survey}

\input{related_work.tex}

\input{threats}

\input{conclusion.tex}


\bibliography{refs}
\bibliographystyle{ACM-Reference-Format}

\end{document}