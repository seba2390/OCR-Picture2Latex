\section{Introduction}\label{introduction}
Suppose we have a set of $m$ indivisible items, and wish to distribute them among $n$ agents. Agents have  valuations for each set of items that are not necessarily identical. How hard is it to divide the items between the agents to make sure everyone receives a fair share?

%What is the maximum value that we can guarantee for each agent \{in a division\}?
\setcounter{page}{1}
Fair division problems have been vastly studied in the past 60 years, (see, e.g.~\cite{amanatidis2015approximation,asadpour2010approximation, Bouveret:first,Budish:first, Dubins:first,Procaccia:first,Steinhaus:first,alijani2017envy}). This line of research was initiated by the work of {\steinhausfirst}   in 1948~\cite{Steinhaus:first} in which the author introduced the \emph{cake cutting} problem as follows: given a heterogeneous cake and a set of agents with different valuation functions, the goal is to find a fair allocation of the cake to the agents.

In order to study this problem, several notions of fairness are proposed, the most famous of which are \emph{proportionality} and \emph{envy-freeness}, introduced by {\steinhausfirst} in 1948~\cite{Steinhaus:first} and {\foleyfirst} in 1967~\cite{Foley:first}. A division is called proportional, if the total value of the allocated pieces to each agent is at least $1/n$ fraction of his total value for the entire cake, where $n$ is the number of agents. In an envy-free division, no agent wishes to exchange his share with another agent, i.e., every agent's valuation for his share is at least as much as his valuation for the other agents' shares. Clearly, proportionality is implied by envy-freeness.%, i.e. an envy-free division is also proportional.

{\dubinsfirst} in 1961~\cite{Dubins:first} propose a simple {\emph{moving knife} procedure that can guarantee a proportional division of the cake. For envy-freeness, Selfridge and Conway design an algorithm that guarantees envy-freeness when the number of agents is limited to 3. Later, Brams and Taylor extend this guarantee to an arbitrary number of agents in the additive setting~\cite{brams}.

\begin{comment}
Despite the simplicity of the cake cutting problem
\end{comment}
The problem becomes even more subtle when we assume the items are indivisible. It is not hard to show that for indivisible items, neither of proportionality nor envy-freeness can be guaranteed; for instance, when the number of items is smaller than the number of agents, at least one agent receives no items. 

%\edit{Several attempts were made to determine necessary and sufficient conditions under which a proportional or an envy-free allocation exists. For example, Lukas' \emph{method of markers}  guarantees proportionality when a very strong \emph{linearity assumption} holds: if the items are placed in a line, each agent can partition them into $n$ continuous bundles of equal value (see~\cite{brams1996fair}).}

From a theoretical standpoint, proportionality and envy-freeness are too strong to be delivered in the case of indivisible goods. Therefore, Budish~\cite{Budish:first} proposed a newer notion of fairness for indivisible goods, namely \textit{the maxmin share}, which attracted a lot of attention in recent years \cite{Procaccia:first,amanatidis2015approximation,kurokawa2015can,Bouveret:first,caragiannis2016unreasonable,barman2017approximation,suksompong2017approximate,farhadi2017fair}. Imagine that we ask an agent $\agent_i$ to partition a set $\cal M$ of $m$ items into $n$ bundles and collect the bundle with the smallest value. To maximize his profits, agent $\agent_i$ tries to divide $\cal M$ in a way that maximizes the value of the bundle with the lowest value to him. Based on this, the maxmin share of an agent $\agent_i$, denoted by $\MMS_i$, is the value of the least valuable bundle in agent $\agent_i$'s allocation; that is, the maximum profit $\agent_i$ can obtain in this procedure. Clearly, $\MMS_i$ is the most that can be guaranteed to an agent, since if all valuations are the same, at least one agent obtains a valuation of at most $\MMS_i$ from his allocated set. The question is then, whether $\MMS_i$ is a feasible guarantee? Therefore, we call an allocation $\MMS$, if every agent $\agent_i$ receives a collection of items that are together worth at least $\MMS_i$ to him. Bouverret~\cite{Bouveret:first} showed that for the restricted cases, when the valuations of the items for each agent are either $0$ or $1$, or when $m \leq n+3$, an $\MMS$ allocation is guaranteed to exist. In other words, each $\agent_i$ can be guaranteed to receive a profit of at least $\MMS_i$ from his allocated items. 


%\saberifirstful~\cite{Saberi:first} study the problem of finding an allocation with the minimum envy. They propose a polynomial time algorithm that bounds the maximum envy of an agent to others	shares. They also show that the problem of finding an allocation with the minimum envy is NP-hard. Later \bezacovafirst~\cite{Bezacova:first} present a simple approximation algorithm for dividing $m$ items between $n$ agents, which allocates to each agent a $1/n$ fraction of all items except the $n-1$ items with the highest value. 


While the experiments support the existence of an $\MMS$ allocation in general~\cite{Bouveret:first}, this theory was refuted by the pioneering work of \procacciafirst~\cite{Procaccia:first}. {\procacciafirst}~\cite{Procaccia:first} provided a surprising counter-example that admits no $\MMS$ allocation. They also show that a $2/3$-$\MMS$ allocation always exists, i.e. there exists an algorithm that allocates the items to the agents in such a way that every agent $\agent_i$ receives a share that is worth at least $2/3 \MMS_i$ to him.
 %In fact, their algorithm guarantees a $\rho$-$\MMS$ allocation, where $\rho$ approaches $2/3$ as the number of agents goes to infinity. 
 In particular, they show for $n \leq 4$, their algorithm finds a $3/4$-$\MMS$ allocation. However, their algorithm does not run in polynomial time unless we assume the number of agents is bounded by a constant number. In a recent work, \amanatidisapproximationful~\cite{amanatidis2015approximation}, improve this result by presenting a PTAS algorithm for finding a $(2/3 - \epsilon)$-$\MMS$ allocation to any number of agents. However, the heart of their algorithm is the same as~\cite{Procaccia:first}. In addition to this, \amanatidisapproximation\enspace prove that for $n=3$, a $7/8$-$\MMS$ allocation is always possible. Note that, the counter example provided by \procacciafirst~\cite{Procaccia:first}  requires a number of goods that is exponential to the number of agents. Kurokawa, Procaccia, and Wang in ~\cite{kurokawa2015can} provided a better construction for the counter-example with a linear number of goods. 


 In this work, we improve the result of \procacciafirst~\cite{Procaccia:first} by proving that a $3/4$-$\MMS$ allocation always exists. We also give a PTAS algorithm to find such an allocation in polynomial time. Of course, this only holds if the valuation of the agents for the items are additive. We further go beyond the additive setting and extend this result to the case of submodular, XOS, and subadditive settings. More precisely, we give constant approximation algorithms for submodular and XOS settings that run in polynomial time. For the subadditive case, we prove that a $1/10 \lceil\log m\rceil$-$\MMS$ allocation is guaranteed to exist. We emphasize that finding the exact value of $\MMS_i$ for an agent is NP-hard. Furthermore, to the best of our knowledge, no PATS is known for computing the  $\MMS$ values  in non-additive settings. Thus, any $\alpha$-$\MMS$ allocation algorithm in non-additive settings must overcome the difficulty that the value of $\MMS_i$ is not known in advance. Therefore, our algorithms don't immediately follow from our existential proofs.

In order to present the results and techniques, we briefly state the fair allocation problem. Note that you can find a formal definition of the problem with more details in Section \ref{prelim}. The input to a maxmin fair allocation problem is a set $\items$ of $m$ items and a set $\agents$ of $n$ agents. Fix an agent $\agent_i \in \agents$ and let $V_i: 2^\items \rightarrow \mathbb{R}^+$ be the valuation function of $\agent_i$. Consider the set $\Pi_r$ of all partitionings of the items in $\items$ into $r$ non-empty sets. We define $\MMS_{V_i}^r(\items)$ as follows:
 $$\MMS_{V_i}^r(\items) =  \max_{P^* = \langle P^*_1,P^*_2,\ldots,P^*_r\rangle \in \Pi_r} \min_{1 \leq j \leq r} V_i(P^*_j).$$
In the context of fair allocation, we denote the maxmin value of an agent $\agent_i$ by $\MMS_i = \MMS^n_{V_i}(\items)$. The fair allocation problem is defined as follows: \textit{for a given parameter $\alpha$, can we distribute the items among the agents in such a way that every agent $\agent_i$ receives a set of items with a value of at least $\alpha \MMS_i$ to him?} Such an allocation is called an $\alpha$-$\MMS$ allocation. We consider the fair allocation problem in both additive and non-additive settings (including submodular, XOS, and subadditive valuations).  For non-additive settings, we use oracle queries to  access the valuations. Note that, for non-additive settings, eliciting the exact valuation function of each agent needs an exponential number of queries. However, our methods for allocating the items in non-additive settings only uses a polynomial number of queries.

There are many applications for finding fair allocations in the additive and non-additive settings. For example,  
\emph{spliddit}, a popular fair division website\footnote{
\url{http://www.spliddit.org}} suggests indisputable and provably fair solutions for many real-world problems such as sharing rents, distributing tasks, dividing goods, etc. For dividing goods, \emph{spliddit} uses the maximum Nash welfare allocation (the allocation that maximizes the product of utilities). In \cite{caragiannis2016unreasonable} (EC'17), Caragiannis et.al., proved with a tight analysis that a maximum Nash welfare allocation is a $2/(1+\sqrt{4n-3})$-$\MMS$ allocation. However, the current best approximation gurantee and the state-of-the-art method for allocating indivisible goods is based on the result of ~\cite{Procaccia:first} that guarantees a $2/3$-$\MMS$ allocation. We believe our results can improve their performance.  It is worth mentioning that despite the complexity of analysis, the idea behind our algorithm is simple and it can be easily implemented. The reader can find a set of materials including the implementation of our method and an animated explanation of our algorithm in \href{https://www.cs.umd.edu/\~saeedrez/fair.html}{https://www.cs.umd.edu/$\sim$saeedrez/fair.html}.


\subsection{Relation to other Fundamental Problems}
In this work, we study the allocation of indivisible items to maximize fairness. However, maximizing fairness is not the only goal that has been considered in the literature. In the following, we briefly explain other variants of this problem that are very fundamental and have received a lot of attention in recent years.

\textbf{Welfare maximization:} Perhaps the simplest version of the resource allocation problem with indivisible goods is \textit{the welfare maximization problem}. In this problem, we are given a set $\items$ of goods, and the goal is to allocate the items to a number of agents to maximize the welfare. The problem is trivial if we assume the agents to be additive. Therefore, the main focus has been on submodular, XOS, and subadditive agents~\cite{dobzinski2005approximation,dobzinski2006improved,feige2009maximizing,lehmann2001combinatorial}(STOC'05, SODA'06, STOC'06). \feigemaximizing~\cite{feige2009maximizing} gives tight algorithms that solve the problem in the subadditive and XOS settings with approximation factors $1/2$ and $1-1/e$, respectively. The approximation factors match the existing lower bounds for these settings.

\textbf{Max-min allocation:} Another variant of this problem is to maximize the least value that any agent obtains from the allocation.  \asadpourapproximation~\cite{asadpour2010approximation}(STOC'07) give the first polynomial time algorithm for this problem that approximates the optimal solution within a factor of $O(\sqrt{n}\log^3n)$ in the additive setting. This was later improved by \chakrabartyallocating~\cite{chakrabarty2009allocating}(FOCS'09) to an $O(m^\epsilon)$ approximation factor. This problem has also been studied with non-additive agents by \goemansapproximating~\cite{goemans2009approximating}(SODA'09). They give an $O(\sqrt{m}n^{1/4}\log n \log^{3/2}m)$ approximation algorithm that runs in polynomial time and solves the problem when the agents valuations are submodular.

\textbf{Santa Claus:} A special case of the above problem in which the valuation of every agent for an item is either 0, or a fixed value is called \textit{the Santa Claus problem}. This problem was first introduced by \bansalsanta~\cite{bansal2006santa} in STOC'09. In this paper, they give an $O(\log \log n/\log \log \log n)$ approximation algorithm for this problem that runs in polynomial time. Later Feige~\cite{feige2008allocations}(SODA'08) showed that the objective value of the problem can be approximated within a constant factor in polynomial time. This was later turned into a constructive proof by Annamalai \textit{et al.}~\cite{annamalai2015combinatorial}(SODA'14).
\input{our-contribution.tex}
%\textbf{Our work:}
%This paper consists of two parts and is mainly related to~\cite{Procaccia:first}. In the first part, we present a $3/4$-$\MMS$ allocation algorithm. 
%We also 
%show that for the algorithm, knowing the exact value of each item for each agent is not necessary. Instead, we define three simple types of queries that can fully implement the algorithm.

%In the second part, we investigate on the special case of $n=4$.We prove that a $\frac{4}{5}$-$\MMS$ allocation for four agents is possible. 
