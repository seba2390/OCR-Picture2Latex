\def\year{2021}\relax
%File: formatting-instructions-latex-2021.tex
%release 2021.1
\documentclass[letterpaper]{article} % DO NOT CHANGE THIS
\usepackage{aaai21}  % DO NOT CHANGE THIS
\usepackage{times}  % DO NOT CHANGE THIS
\usepackage{helvet} % DO NOT CHANGE THIS
\usepackage{courier}  % DO NOT CHANGE THIS
\usepackage[hyphens]{url}  % DO NOT CHANGE THIS
\usepackage{graphicx} % DO NOT CHANGE THIS
\urlstyle{rm} % DO NOT CHANGE THIS
\def\UrlFont{\rm}  % DO NOT CHANGE THIS
\usepackage{natbib}  % DO NOT CHANGE THIS AND DO NOT ADD ANY OPTIONS TO IT
\usepackage{caption} % DO NOT CHANGE THIS AND DO NOT ADD ANY OPTIONS TO IT
\frenchspacing  % DO NOT CHANGE THIS
\setlength{\pdfpagewidth}{8.5in}  % DO NOT CHANGE THIS
\setlength{\pdfpageheight}{11in}  % DO NOT CHANGE THIS


\usepackage{subcaption}
% \usepackage{algorithm}% http://ctan.org/pkg/algorithm
\usepackage{algorithm2e}
% \usepackage{algorithmic}
% \usepackage{algpseudocode}% http://ctan.org/pkg/algorithmicx

%\nocopyright
%PDF Info Is REQUIRED.
% For /Author, add all authors within the parentheses, separated by commas. No accents or commands.
% For /Title, add Title in Mixed Case. No accents or commands. Retain the parentheses.
\pdfinfo{
/Title (AAAI Press Formatting Instructions for Authors Using LaTeX -- A Guide)
/Author (AAAI Press Staff, Pater Patel Schneider, Sunil Issar, J. Scott Penberthy, George Ferguson, Hans Guesgen, Francisco Cruz, Marc Pujol-Gonzalez)
/TemplateVersion (2021.0001)
} %Leave this
% /Title ()
% Put your actual complete title (no codes, scripts, shortcuts, or LaTeX commands) within the parentheses in mixed case
% Leave the space between \Title and the beginning parenthesis alone
% /Author ()
% Put your actual complete list of authors (no codes, scripts, shortcuts, or LaTeX commands) within the parentheses in mixed case.
% Each author should be only by a comma. If the name contains accents, remove them. If there are any LaTeX commands,
% remove them.

% DISALLOWED PACKAGES
% \usepackage{authblk} -- This package is specifically forbidden
% \usepackage{balance} -- This package is specifically forbidden
% \usepackage{color (if used in text)
% \usepackage{CJK} -- This package is specifically forbidden
% \usepackage{float} -- This package is specifically forbidden
% \usepackage{flushend} -- This package is specifically forbidden
% \usepackage{fontenc} -- This package is specifically forbidden
% \usepackage{fullpage} -- This package is specifically forbidden
% \usepackage{geometry} -- This package is specifically forbidden
% \usepackage{grffile} -- This package is specifically forbidden
% \usepackage{hyperref} -- This package is specifically forbidden
% \usepackage{navigator} -- This package is specifically forbidden
% (or any other package that embeds links such as navigator or hyperref)
% \indentfirst} -- This package is specifically forbidden
% \layout} -- This package is specifically forbidden
% \multicol} -- This package is specifically forbidden
% \nameref} -- This package is specifically forbidden
% \usepackage{savetrees} -- This package is specifically forbidden
% \usepackage{setspace} -- This package is specifically forbidden
% \usepackage{stfloats} -- This package is specifically forbidden
% \usepackage{tabu} -- This package is specifically forbidden
% \usepackage{titlesec} -- This package is specifically forbidden
% \usepackage{tocbibind} -- This package is specifically forbidden
% \usepackage{ulem} -- This package is specifically forbidden
% \usepackage{wrapfig} -- This package is specifically forbidden
% DISALLOWED COMMANDS
% \nocopyright -- Your paper will not be published if you use this command
% \addtolength -- This command may not be used
% \balance -- This command may not be used
% \baselinestretch -- Your paper will not be published if you use this command
% \clearpage -- No page breaks of any kind may be used for the final version of your paper
% \columnsep -- This command may not be used
% \newpage -- No page breaks of any kind may be used for the final version of your paper
% \pagebreak -- No page breaks of any kind may be used for the final version of your paperr
% \pagestyle -- This command may not be used
% \tiny -- This is not an acceptable font size.
% \vspace{- -- No negative value may be used in proximity of a caption, figure, table, section, subsection, subsubsection, or reference
% \vskip{- -- No negative value may be used to alter spacing above or below a caption, figure, table, section, subsection, subsubsection, or reference
 
 
 
% In your preamble
\usepackage{xr}

\makeatletter
\newcommand*{\addFileDependency}[1]{% argument=file name and extension
  \typeout{(#1)}
  \@addtofilelist{#1}
  \IfFileExists{#1}{}{\typeout{No file #1.}}
}
\makeatother

\newcommand*{\myexternaldocument}[1]{%
    \externaldocument{#1}%
    \addFileDependency{#1.tex}%
    \addFileDependency{#1.aux}%
}

\myexternaldocument{paper}

\title{\vspace{-2cm} Supplementary Materials}

\begin{document}
\maketitle
% \section{Supplementary Materials}
 \vspace{-10cm}

%%%%%%%% BIG TABLES START
\begin{table*}[h!]

\caption{To check that our backdoor is not dependent on the choice of target class, we vary the target class of our backdoor experiments to cover all classes in our dataset, using our 3$\times$3 pixel trigger. The maximum and minimum values attained per class are presented in (a) and (c) respectively. We observe that the backdoor is compelling for most classes. We also perform experiments to gain insight into the ideal proportion of infected images to be injected into the training set $\mathcal{D}\textsubscript{train}$. The maximum and minimum values attained for each given proportion are presented in (b) and (d) respectively. A smooth upward trend in ASR, and downward trend in AUROC-TN is observed. The greater the percentage of infected images in training, the more strongly the neural network learns the trigger feature. We visualise this effect in our main paper in figure \ref{fig: trigger_perc}.  }


\begin{subtable}[t]{1.0\textwidth}


\small
% \caption{The table shows the trigger performance by class using the metrics, ASR and AUROC for each class. The ASR was calculated using the 2 thresholds 0.6 adn 0.9. The AUROC values were calculated throught he following variations, TT: Infected test-set against infected label, NN: normal test-set against normal label, TN: Infected test-set against normal label. The maximum scores over all trained epochs were taken.}
\caption{}
\begin{center}
\resizebox{0.6 \linewidth}{!}{
\begin{tabular}{||l||cc|ccc||}
\hline
Class & ASR(p=0.6) & ASR(p=0.9) & AUROC-TT & AUROC-NN & AUROC-TN \\
\hline\hline
 Atelectasis      & $0.999\pm0.000$  & $0.998\pm0.001$  & $1.000\pm0.000$ & $0.851\pm0.001$  & $0.704\pm0.038$ \\
 \hline
 Cardiomegaly      & $0.991\pm0.001$ & $0.988\pm0.000$ & $1.000\pm0.000$ & $0.851\pm0.004$ & $0.650 \pm0.021$ \\
 \hline
 Effusion          & $0.993\pm0.001$ & $0.989\pm0.002$ & $1.000\pm0.000$ & $0.849\pm0.002$ & $0.704\pm0.019$ \\
 \hline
 Infiltration      & $0.995\pm0.002$ & $0.991\pm0.001$ & $1.000\pm0.000$ & $0.851\pm0.002$ & $0.749\pm0.026$ \\ 
 \hline
 Mass              & $0.990\pm0.001$ & $0.985\pm0.002$ & $1.000\pm0.000$ & $0.850\pm0.003$ & $0.676\pm0.031$ \\
 \hline
 \hline
 Nodule            & $0.070\pm0.034$ & $0.020\pm0.014$ & $1.000\pm0.000$ & $0.847\pm0.004$ & $0.847\pm0.004$ \\
 \hline
 Pneumonia         & $0.990\pm0.001$ & $0.987\pm0.003$ & $1.000\pm0.000$ & $0.850\pm0.003$ & $0.654\pm0.021$ \\
 \hline
 Pneumothorax      & $0.993\pm0.001$ & $0.990\pm0.001$ & $1.000\pm0.000$ & $0.850\pm0.003$ & $0.686\pm0.014$ \\
 \hline
 Consolidation     & $0.993\pm0.002$ & $0.989\pm0.004$ & $1.000\pm0.000$ & $0.849\pm0.001$ & $0.669\pm0.021$ \\
 \hline
 Edema             & $0.993\pm0.002$ & $0.990\pm0.003$ & $1.000\pm0.000$ & $0.850\pm0.003$ & $0.627\pm0.017$ \\
 \hline
 Emphysema         & $0.992\pm0.002$ & $0.988\pm0.002$ & $1.000\pm0.000$ & $0.850\pm0.002$ & $0.664\pm0.020$ \\
 \hline
 Fibrosis          & $0.990\pm0.002$ & $0.987\pm0.003$ & $1.000\pm0.000$ & $0.850\pm0.003$ & $0.647\pm0.026$ \\
 \hline
 Pleural Thickening& $0.990\pm0.001$ & $0.986\pm0.003$ & $1.000\pm0.000$ & $0.849\pm0.003$ & $0.651\pm0.014$ \\
 \hline
 Hernia            & $0.991\pm0.001$ & $0.988\pm0.002$ & $1.000\pm0.000$ & $0.850\pm0.003$ & $0.651\pm0.025$ \\
\hline
\end{tabular}}
\end{center}
\label{table: classcompsmax}
% \end{table*}
\end{subtable} 
\vspace{-1em}


\begin{subtable}[t]{1.0\textwidth}

% \begin{table*}[t]
\small
% \caption{In order to see the the appropriate percentage of images that must be added to the training set by the attacker for a successful backdoor, the percentage of infected images in the training data-set was varied from 1\% to 100\%. The maximum trigger performance score was used among all epochs in training. }
\caption{}
\begin{center}
\resizebox{0.7\linewidth}{!}{
\begin{tabular}{||l||c|c|c|c|c|c|c||}
\hline
Class & 1 & 5 & 10  & 20  & 40  & 100 & $\mathcal{D}_{trig}$ \\
\hline\hline
 ASR(p=0.6) &$0.913\pm0.048$& $0.973\pm0.002$ & $0.972\pm0.021$ & $0.988\pm0.002$ & $0.999\pm0.000$ & $0.997\pm0.000$ & $1.000\pm0.000$  \\
 \hline
 ASR(p=0.9) & $0.841\pm0.053$ & $0.943\pm0.017$ & $0.944\pm0.034$ & $0.982\pm0.001$ & $0.998\pm0.001$ & $0.994\pm0.001$ & $1.000\pm0.000$ \\
 \hline
 AUROC-TT   & $0.998\pm0.001$ & $1.000\pm0.000$ & $1.000\pm0.000$ & $1.000\pm0.000$ & $1.000\pm0.000$ & $1.000\pm0.000$ & $1.000\pm0.000$ \\
 \hline
 AUROC-NN   & $0.843\pm0.006$ & $0.851\pm0.006$ & $0.851\pm0.004$ & $0.851\pm0.003$ & $0.851\pm0.001$ & $0.876\pm0.042$ & $0.536\pm0.003$ \\ 
 \hline
 AUROC-TN   & $0.821\pm0.015$ & $0.776\pm0.016$ & $0.774\pm0.026$ & $0.742\pm0.009$ & $0.704\pm0.038$ & $0.638\pm0.035$ & $0.535\pm0.004$ \\
 \hline
\end{tabular}}
\end{center}
\label{table: perccompsmax}
% \end{table*}
\end{subtable} 
\vspace{-1em}

\begin{subtable}[t]{1.0\textwidth}

% \begin{table*}[t]
\small
% \caption{The table shows the trigger performance by class using the metrics, ASR and AUROC for each class. The ASR was calculated using the 2 thresholds 0.6 and 0.9. The AUROC values were calculated through the following variations, TT: Infected test-set against infected label, NN: normal test-set against normal label, TN: Infected test-set against normal label. The minimum scores over all trained epochs were taken.}
\caption{}
\begin{center}
\resizebox{0.6\linewidth}{!}{
\begin{tabular}{||l||cc|ccc||}
\hline
Class & ASR(p=00.6) & ASR(p=0.9) & AUROC-TT & AUROC-NN & AUROC-TN \\
\hline\hline
 Atelectasis      & $0.994\pm0.031$  & $0.674\pm0.239$  & $1.000\pm0.000$  & $0.813\pm0.004$   & $0.539\pm0.004$  \\
 \hline
 Cardiomegaly      & $0.962\pm0.008$ & $0.926\pm0.022$ & $1.000 \pm0.000$ & $0.810\pm0.008$ & $0.535\pm0.013$ \\
 \hline
 Effusion          & $0.973\pm0.012$ & $0.926\pm0.032$ & $1.000 \pm0.000$ & $0.813\pm0.004$ & $0.582\pm0.013$ \\
 \hline
 Infiltration      & $0.963\pm0.030$ & $0.757\pm0.273$ & $1.000 \pm0.001$ & $0.814\pm0.011$ & $0.656\pm0.014$ \\ 
 \hline
 Mass              & $0.866\pm0.065$ & $0.960\pm0.006$ & $1.000 \pm0.000$ & $0.805\pm0.008$ & $0.552\pm0.013$ \\
 \hline
 \hline
 Nodule            & $0.009\pm0.012$ & $0.001\pm0.001$ & $0.999\pm0.001$ & $0.810\pm0.004$ & $0.810\pm0.004$ \\
 \hline
 Pneumonia         & $0.927\pm0.056$ & $0.968\pm0.015$ & $1.000 \pm0.000$ & $0.811\pm0.004$ & $0.514\pm0.017$ \\
 \hline
 Pneumothorax      & $0.975\pm0.007$ & $0.936\pm0.023$ & $1.000 \pm0.000$ & $0.812\pm0.008$ & $0.553\pm0.017$ \\
 \hline
 Consolidation     & $0.922\pm0.055$ & $0.808\pm0.158$ & $0.999\pm0.001$ & $0.798\pm0.020 $ & $0.524\pm0.011$ \\
 \hline
 Edema             & $0.977\pm0.004$ & $0.951\pm0.007$ & $1.000 \pm0.000$ & $0.806\pm0.010 $ & $0.505\pm0.021$ \\
 \hline
 Emphysema         & $0.964\pm0.007$ & $0.889\pm0.025$ & $1.000 \pm0.000$ & $0.802\pm0.009$ & $0.532\pm0.011$ \\
 \hline
 Fibrosis          & $0.954\pm0.013$ & $0.884\pm0.041$ & $0.999\pm0.000$ & $0.808\pm0.003$ & $0.516\pm0.017$ \\
 \hline
 Pleural Thickening& $0.956\pm0.016$ & $0.878\pm0.044$ & $1.000 \pm0.001$ & $0.807\pm0.011$ & $0.522\pm0.017$ \\
 \hline
 Hernia            & $0.941\pm0.047$ & $0.871\pm0.094$ & $1.000 \pm0.000$ & $0.807\pm0.013$ & $0.522\pm0.012$ \\
\hline
\end{tabular}}
\end{center}
\label{table: classcompsmin}
% \end{table*}
\end{subtable} 

\vspace{1em}

\begin{subtable}{1.0\textwidth}
% \begin{table*}[t]
\small
% \caption{In order to see the the appropriate percentage of images that must be added to the training set by the attacker for a successful backdoor, the percentage of infected images in the training data-set was varied from 1\% to 100\%. The minimum trigger performance score was used among all epochs in training. }
\caption{}
\begin{center}
\resizebox{0.7\linewidth}{!}{
\begin{tabular}{||l||c|c|c|c|c|c|c||}
\hline
Class & 1 & 5 & 10 & 20 & 40 & 100 & $\mathcal{D}_{trig}$ \\
\hline\hline
 ASR(p=0.6) & $0.343\pm0.232$& $0.705\pm0.103$ & $0.599\pm0.195$ & $0.939\pm0.021$ & $0.994\pm0.031$ & $0.986\pm0.005$ & $0.000\pm0.000 $  \\
 \hline
 ASR(p=0.9) & $0.092\pm0.134$ & $0.278\pm0.191$ & $0.262\pm0.214$ & $0.750 \pm0.085$ & $0.674\pm0.239$ & $0.957\pm0.017$ & $0.000  \pm0.000 $ \\
 \hline
 AUROC-TT   & $0.844\pm0.059$ & $0.968\pm0.041$ & $0.965\pm0.036$ & $0.999\pm0.001$ & $0.000\pm0.000$ & $0.000\pm0.000$ & $0.000\pm0.000$ \\
 \hline
 AUROC-NN   & $0.761\pm0.044$ & $0.796\pm0.010 $ & $0.803\pm0.011$ & $0.816\pm0.006$ & $0.813\pm0.004$ & $0.812\pm0.003$ & $0.486\pm0.038$  \\
 \hline
 AUROC-TN   & $0.588\pm0.030$ & $0.572\pm0.019$ & $0.620 \pm0.020$ & $0.591\pm0.032$ & $0.539\pm0.004$ & $0.547\pm0.007$ & $0.486\pm0.039$ \\
\hline
\end{tabular}}
\end{center}
\label{table: perccompsmin}

\end{subtable} 

\end{table*}

%%%%%%%% BIG TABLES END

\newpage

% \include{appendix}

\end{document}




% table containing the same info as the asr and auroc figure
% \begin{table}[!h]
% \normalsize
% \centering
% \caption{We present the minimum scores over all epochs for various trigger sizes. The minimum ASR scores inform of the lower bound performance from backdoor injection, agnostic of the specific training procedures.}
% \resizebox{1.000\linewidth}{!}{
% \begin{tabular}{||l||ccccc||} \hline
% Trigger Size & Clean  & $1^2px$ & $2^2 px$ & $3^2 px$ & $4^2 px$ \\ 
%  \hline\hline

%  ASR(p=0.6) & $0.029\pm0.019$ & $0.136\pm0.074$ & $0.090\pm0.018$ & $0.994\pm0.031$  & $0.781\pm0.171$ \\
%  \hline
%  ASR(p=0.9) & $0.002\pm0.002$ & $0.007\pm0.003$ & $0.005\pm0.002$ & $0.674\pm0.239$ & $0.548\pm0.238$ \\
%  \hline
%  AUROC-TT & $0.675\pm0.052$ & $0.959\pm0.008$ & $0.945\pm0.004$ & $1.000\pm0.000$  & $1.000\pm0.000$  \\
%  \hline
%  AUROC-NN & $0.722\pm0.067$  & $0.776\pm0.031$ & $0.796\pm0.007$ & $0.813\pm0.004$ & $0.817\pm0.005$  \\ 
%  \hline
%  AUROC-TN  & $0.722\pm0.067$ & $0.776\pm0.031$ & $0.796\pm0.007$ & $0.539\pm0.004$ & $0.556\pm0.024$ \\ 
% \hline
% \end{tabular}}
% \label{table: triggersize_min}
% \end{table}