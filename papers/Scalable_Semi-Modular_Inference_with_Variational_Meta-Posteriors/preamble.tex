
\usepackage[utf8]{inputenc} % allow utf-8 input
\usepackage[T1]{fontenc}    % use 8-bit T1 fonts

\usepackage[UKenglish]{babel}

% Recommended, but optional, packages for figures and better typesetting:
\usepackage{microtype}      % microtypography
\usepackage{subfigure}
\usepackage{booktabs}       % professional-quality tables
\usepackage{nicefrac}       % compact symbols for 1/2, etc.

\usepackage{url}            % simple URL typesetting

\usepackage{multicol} % text in multiple columns

\usepackage{todonotes}

%\usepackage[margin=1in]{geometry}
%\usepackage{times} % Set the typeface to Times Roman

\usepackage{import} % svg drawings
\usepackage{afterpage}

% \usepackage{hyperref}       % hyperlinks
% Bayesian Analysis links colours
\usepackage[colorlinks,citecolor=blue,urlcolor=blue,filecolor=blue,backref=page]{hyperref}

\usepackage{graphicx}
\graphicspath{{images/}} % define folder with images
\usepackage[section]{placeins}

%\usepackage[ruled, lined, longend, linesnumbered]{algorithm2e}
\usepackage{algorithm}% http://ctan.org/pkg/algorithm
\usepackage{algorithmic}% http://ctan.org/pkg/algorithm

\usepackage{amsmath,amssymb,amsthm,amsfonts} % for math equations
%\usepackage{breqn} % automatic multiline math equations
\usepackage{arydshln} %dashed lines in math arrays (eg. matrices)
\usepackage{bbm} % richer fonts in math environment (eg. identity matrix \mathbbm{1})
%\usepackage[cal=boondox]{mathalfa} % for math calligraphy, specially lowercase
\usepackage{bm} % bold symbols in maths mode
% \newtheorem{theorem}{Theorem}[section]

% for cancelation lines
\usepackage{cancel}

\usepackage{cleveref}
\theoremstyle{definition}
\newtheorem{definition}{Definition}
% \newtheorem{definition}{Definition}[section] % definition numbered by section

\theoremstyle{remark}
\newtheorem{remark}{Remark}

% Defines assumption environment
\theoremstyle{definition}
\newtheorem{assumption}{Assumption}
\crefname{assumption}{assumption}{assumptions}
% Defines subassumption environment
\newtheorem{subassumption}{Assumption}[assumption]
\renewcommand{\thesubassumption}{\theassumption\alph{subassumption}}

% Some math symbols
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator{\E}{\mathbb{E}}
\DeclareMathOperator{\elbo}{\text{ELBO}}
\DeclareMathOperator{\smi}{\text{smi}}
\DeclareMathOperator{\pow}{\text{pow}}
\DeclareMathOperator{\cut}{\text{cut}}
\DeclareMathOperator{\msmi}{\text{msmi}}
\DeclareMathOperator{\elpd}{\text{elpd}}
\DeclareMathOperator{\bayes}{\text{bayes}}
\def\bmo{{}} %check with Chris we dont need \bm
\newcommand{\indep}{\perp \!\!\! \perp}

% KL divergence
\usepackage{mathtools}
\DeclarePairedDelimiterX{\infdivx}[2]{(}{)}{%
  #1\;\delimsize\|\;#2%
}
\newcommand{\kl}{D_{KL}\infdivx}
% absolute value
\DeclarePairedDelimiter{\abs}{\lvert}{\rvert}%
% norm
\DeclarePairedDelimiter{\norm}{\lVert}{\rVert}

% Change chapter style on appendices
\usepackage[T1]{fontenc}
\usepackage{titlesec, blindtext, color}
%\definecolor{gray75}{gray}{0.75}
\newcommand{\hsp}{\hspace{20pt}}
\titleformat{\chapter}[hang]{\Huge\bfseries}{\thechapter\hsp\textcolor{gray}{|}\hsp}{0pt}{\Huge\bfseries}
\usepackage[titletoc]{appendix} % richer apendices
% Adapts cleverref to deal with appendices
\usepackage{etoolbox}
\AtBeginEnvironment{appendices}{\crefalias{section}{appendix}}

% Define acronyms
\usepackage[acronym]{glossaries}
% \makeglossaries
\newacronym{smi}{SMI}{Semi-Modular Inference}
\newacronym{vsmi}{VSMI}{Variational Semi-Modular Inference}
\newacronym{sgd}{SGD}{Stochastic Gradient Descent}
\newacronym{vi}{VI}{Variational Inference}
\newacronym{vae}{VAE}{Variational Auto-Encoder}
\newacronym{mfvi}{MFVI}{Mean Field Variational Inference}
\newacronym{mcmc}{MCMC}{Markov Chain Monte Carlo}
\newacronym{bbvi}{BBVI}{Black Box Variational Inference}
\newacronym{svi}{SVI}{Stochastic Variational Inference}
\newacronym{dsvi}{DSVI}{Doubly Stochastic Variational Inference}
\newacronym[longplural={Gaussian Processes}]{gp}{GP}{Gaussian Process}
\newacronym{elbo}{ELBO}{Evidence Lower Bound}
\newacronym{elpd}{ELPD}{Expected Log-pointwise Predictive Density}
\newacronym{gbi}{GBI}{Generalised Bayesian Inference}
\newacronym{lpd}{LPD}{Log-pointwise Predictive Density}
\newacronym{nf}{NF}{Normalizing Flow}
\newacronym{iaf}{IAF}{Inverse Autoregressive Flow}
\newacronym{kl}{KL}{Kullback-Leibler Divergence}
\newacronym{vmp}{VMP}{Variational Meta-Posterior}
\newacronym{nsf}{NSF}{Neural Spline Flow}
\newacronym{mlp}{MLP}{Multi-Layer Perceptron}
\newacronym{hpv}{HPV}{Human Papilloma Virus}

\usepackage{algorithm}% http://ctan.org/pkg/algorithm
\usepackage{algorithmic}% http://ctan.org/pkg/algorithm

% \usepackage[round]{natbib} % richer citation
\usepackage{natbib} % richer citation
\usepackage{breakcites} % avoid overfull hbox for long cites
