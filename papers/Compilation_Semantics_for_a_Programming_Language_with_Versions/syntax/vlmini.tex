\begin{figure}[tb]
    \hrule
    \medskip
    \begin{minipage}{.9\textwidth}
        \textbf{\vlmini{} syntax (w/o data constructors and version control terms)}
    \end{minipage}
    \begin{minipage}{\textwidth}
        \vspace{-.8\baselineskip}
        \begin{minipage}{.475\textwidth}
          \begin{align*}
            t & ::= n \mid x \mid \app{t_1}{t_2} \mid \lam{p}{t} \mid \pr{t} \tag{terms}\\
            p & ::= x \mid [x] \tag{patterns}\\
            A, B & ::= \inttype{} \mid \alpha \mid \ftype{A}{B} \mid \vertype{r}{A} \tag{types}\\
            \kappa & ::= \typekind{} \mid \labelskind{} \tag{kinds}
          \end{align*}
        \end{minipage}
        \begin{minipage}{.475\textwidth}
          \begin{align*}
            \Gamma & ::= \emptyset \mid \Gamma, x:A \mid \Gamma, x:\verctype{A}{r} \tag{contexts}\\
            \Sigma & ::= \emptyset \mid \Sigma, \alpha:\kappa \tag{type variable kinds}\\
            R      & ::= - \mid r \tag{resource contexts}\\
          \end{align*}
        \end{minipage}
    \end{minipage}
    \begin{minipage}{.9\textwidth}
        \medskip\textbf{Extended with data constructors}
    \end{minipage}
    \begin{minipage}{\textwidth}
        \vspace{-.5\baselineskip}
        \begin{minipage}{.52\textwidth}
          \begin{align*}
            t & ::= \ldots \mid C\,\overline{t_i} \mid \caseof{t}{\overline{p_i \mapsto t_i}}\tag{terms}\\
            p & ::= \ldots \mid C\,\overline{p_i} \tag{patterns}\\
            C & ::= (,) \mid [,] \tag{constructors}
          \end{align*}
        \end{minipage}
        \begin{minipage}{.44\textwidth}
          \begin{align*}
            A, B & ::= ... \mid K \overline{A_i} \tag{types}\\
            K    & ::= (,) \mid [,] \tag{type constructors}\\
          \end{align*}
        \end{minipage}
    \end{minipage}
    \begin{minipage}{.9\textwidth}
        \medskip\textbf{Extended with version control terms}
    \end{minipage}
    \begin{minipage}{\textwidth}
        \vspace{-.5\baselineskip}
        \begin{minipage}{\textwidth}
          \begin{align*}
            t & ::= \ldots \mid \verof{\{\overline{M_i=V_i}\}}{t} \mid \unver{t}\hspace{6em}\tag{terms}
          \end{align*}
        \end{minipage}
    \end{minipage}
    \begin{minipage}{.9\textwidth}
        \medskip\textbf{\vlmini{} constraints}
    \end{minipage}
    \begin{minipage}{\textwidth}
      \vspace{-.5\baselineskip}
      \begin{align*}
        \mathcal{C} & ::= \underbrace{\top \mid \mathcal{C}_1 \land \mathcal{C}_2 \mid \mathcal{C}_1 \lor \mathcal{C}_2}_{\substack{\text{propositional}\\\text{formulae}}} \mid \underbrace{\vphantom{\mid}\alpha \preceq \alpha'}_{\substack{\text{variable}\\\text{dependencies}}} \mid \underbrace{\vphantom{\mid}\alpha \preceq \mathcal{D}}_{\substack{\text{label}\\\text{dependencies}}}\tag{dependency 
 constraints}\\
        \mathcal{D} & ::= \cs{\overline{M_i = V_i}} \tag{dependent labels}\\
        \Theta      & ::= \top \mid \Theta_1 \land \Theta_2 \mid \{A \sim B\} \tag{type constraints}
      \end{align*}
    \end{minipage}
  % \begin{align*}
  %   t & ::= n \mid x \mid \app{t_1}{t_2} \mid \lam{p}{t} \mid \pr{t} \mid C\,\overline{t_i} \mid \caseof{t}{\overline{p_i \mapsto t_i}}\tag{terms}\\
  %   p & ::= n \mid x \mid \_ \mid [p] \mid C\,\overline{p_i} \tag{patterns}\\
  %   C & ::= (,) \mid [,] \tag{constructors}\\
  %   A, B & ::= \inttype{} \mid K \overline{A_i} \mid \bgr{\alpha} \mid \ftype{A}{B} \mid \vertype{r}{A} \tag{types}\\
  %   K    & ::= (,) \mid [,] \tag{type constructors}\\
  %   \kappa & ::= \typekind{} \mid \labelskind{} \tag{kinds}\\
  %   \Gamma & ::= \emptyset \mid \Gamma, x:A \mid \Gamma, x:\verctype{A}{r} \tag{contexts}\\
  %   \Sigma & ::= \emptyset \mid \Sigma, \alpha:\kappa \tag{type variable kinds}\\
  %   R      & ::= - \mid r \tag{resource contexts}\\
  %   \mathcal{C} & ::= \top \mid \mathcal{C}_1 \land \mathcal{C}_2 \mid \mathcal{C}_1 \lor \mathcal{C}_2 \mid \underbrace{\vphantom{\mid}\alpha \preceq \alpha'}_{\textnormal{variable dependencies}} \mid \underbrace{\vphantom{\mid}\alpha \preceq L}_{\textnormal{label dependencies}}\tag{constraints}\\
  %   L & ::= \cs{\overline{M_i \mapsto V_i}} \tag{dependent labels}
  % \end{align*}
  \medskip
  \hrule
  \caption{The syntax of \vlmini{}.}
  \label{syntax:vlmini}
\end{figure}