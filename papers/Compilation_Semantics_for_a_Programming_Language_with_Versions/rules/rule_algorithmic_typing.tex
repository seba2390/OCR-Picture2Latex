\begin{figure*}[t]
  \centering
  \hrule
  \smallskip
  \begin{tabular}{c}
    \begin{minipage}{.9\linewidth{}}
        \textbf{\vlmini{} pattern type synthesis \ \ \ 
        \fbox{\ensuremath{\Sigma, R\,\vdash\, p : A \rhd \Gamma; \Sigma'; \Theta; \mathcal{C}}}}
    \end{minipage}
    \smallskip\\
    % \begin{minipage}{.55\linewidth}
    %   \infrule[\mbox{[}p\_\mbox{]}]{
    %     \Sigma \,\vdash\, r : \textsf{Labels}
    %     \andalso
    %     \Sigma \,\vdash\, A : \textsf{Type}\\
    %   }{
    %     \Sigma; r \,\vdash\, \_ : A \rhd \emptyset; \Sigma; \emptyset
    %   }
    % \end{minipage}
    % \\\\
    % \begin{minipage}{.45\linewidth}
    %   \infrule[pInt]{
    %     \\
    %   }{
    %     \Sigma; - \,\vdash\, n : \inttype \rhd \emptyset; \Sigma; \emptyset
    %   }
    % \end{minipage}
    % \begin{minipage}{.50\linewidth}
    %   \infrule[\mbox{[}pInt\mbox{]}]{
    %     \Sigma \,\vdash\, r : \textsf{Labels}
    %   }{
    %     \Sigma; r \,\vdash\, n : \inttype \rhd \emptyset; \Sigma; \emptyset
    %   }
    % \end{minipage}
    % \\\\
    \begin{minipage}{.475\linewidth}
      \infrule[pVar]{
        % \vdash \Sigma
        % \andalso
        % \Sigma \vdash A : \textsf{Type}
        \\
      }{
        \Sigma; - \vdash x : A \rhd x:A; \Sigma; \top; \top
      }
    \end{minipage}
    \begin{minipage}{.475\linewidth}
      \infrule[\mbox{[}pVar\mbox{]}]{
        % \vdash \Sigma
        % \andalso
        % \Sigma \vdash A : \textsf{Type}
        % \andalso
        % \Sigma \vdash r : \textsf{Labels}
        \\
      }{
        \Sigma; r \vdash x : A \rhd x:\verctype{A}{r}; \Sigma; \top; \top
      }
    \end{minipage}
    \smallskip\\
    \begin{minipage}{.85\linewidth}
      \infrule[p$\square$]{
        \Sigma, \alpha:\textsf{Labels}, \beta:\textsf{Type}; \alpha \vdash x : \beta \rhd \Delta; \Sigma'; \Theta; \mathcal{C}
      }{
        \Sigma; - \vdash [x] : A \rhd \Delta; \Sigma'; \Theta \land \{A \sim \vertype{\alpha}{\beta}\}; \mathcal{C}
      }
    \end{minipage}
    % \smallskip\\
    % \begin{minipage}{.85\linewidth}
    %   \infrule[\mbox{[}p$\square$\mbox{]}]{
    %     \Sigma, \alpha:\textsf{Labels}, \beta:\textsf{Type}; r \otimes \alpha \vdash p : \beta \rhd \Delta; \Sigma'; \Theta; \mathcal{C}
    %     % \textsf{flatten}(r,R,r',R')=(s,S)
    %   }{
    %     \Sigma; r \vdash [p] : A \rhd \Delta; \Sigma'; \Theta\land \{A \sim \vertype{\alpha}{\beta}\}; \mathcal{C}
    %   }
    % \end{minipage}
  \end{tabular}
  \smallskip
  \hrule
  \smallskip
  \begin{tabular}{c}
    \begin{minipage}{.9\linewidth{}}
        \textbf{\vlmini{} type synthesis (excerpt) \ \ \ \fbox{\ensuremath{\Sigma;\Gamma \vdash t \Rightarrow A;\Sigma';\Theta; \mathcal{C}}}}
    \end{minipage}
    \smallskip\\
    % \begin{minipage}{.95\linewidth}
    %   \infrule[$\Rightarrow_{\textsc{int}}$]{
    %     \\% \\
    %   }{
    %     \Sigma; \Gamma \vdash n \Rightarrow \textsf{Int}; \Sigma; \emptyset; \top
    %   }
    % \end{minipage}
    % \\\\
    \begin{minipage}{.45\linewidth}
      \infrule[$\Rightarrow_{\textsc{lin}}$]{
        % \vdash \Sigma
        % \andalso
        % \Sigma \vdash \Gamma
        % \andalso
        x:A\in\Gamma
      }{
        \Sigma; \Gamma \vdash x \Rightarrow A; \Sigma; x:A; \top; \top
      }
    \end{minipage}
    \begin{minipage}{.45\linewidth}
      \infrule[$\Rightarrow_{\textsc{gr}}$]{
        % \vdash \Sigma
        % \andalso
        % \Sigma \vdash \Gamma
        % \andalso
        x:\verctype{A}{r}\in\Gamma
      }{
        \Sigma; \Gamma \vdash x \Rightarrow A; \Sigma; x:\verctype{A}{1}; \top; \top
      }
    \end{minipage}
    \medskip\\
    \begin{minipage}{.95\linewidth}
      \infrule[$\Rightarrow_{\textsc{abs}}$]{
        \Sigma_1, \alpha:\textsf{Type};- \vdash p:\alpha \rhd \Gamma'; \Sigma_2; \Theta_1
        \andalso
        \Sigma_2;\Gamma,\Gamma' \vdash t \Rightarrow B;\Sigma_3;\Delta; \Theta_2; \mathcal{C}
      }{
        \Sigma_1;\Gamma \vdash \lam{p}{t} \Rightarrow \ftype{\alpha}{B};\Sigma_3;\Delta\backslash\Gamma' ; \Theta_1\land\Theta_2; \mathcal{C}
      }
    \end{minipage}
    \medskip\\
    % \begin{minipage}{.95\linewidth}
    %   \infrule[$\Rightarrow_{\textsc{app}}$]{
    %     \Sigma_1; \Gamma \vdash t_1 \Rightarrow A ; \Sigma_2; \theta_1; \mathcal{C}_1
    %     \andalso
    %     \Sigma_2; \Gamma \vdash t_2 \Rightarrow A'; \Sigma_3; \theta_2; \mathcal{C}_2
    %     \andalso\\
    %     \Sigma_4 = \Sigma_3, \beta:_{\exists}\typekind
    %     \andalso
    %     \Sigma_4 \vdash A \sim \ftype{A'}{\beta} \rhd \theta_3
    %     \andalso
    %     \theta_4 = \theta_1 \uplus \theta_2 \uplus \theta_3
    %   }{
    %     \Sigma_1;\Gamma \vdash \app{t_1}{t_2} \Rightarrow \theta_4 \beta; \Sigma_4; \theta_4; \mathcal{C}_1 \land \mathcal{C}_2
    %   }
    % \end{minipage}
    % \\\\
    \begin{minipage}{.95\linewidth}
      \infrule[$\Rightarrow_{\textsc{pr}}$]{
        \Sigma_1 \vdash [\Gamma\cap\textsf{FV}(t)]_{\textsf{Labels}} \rhd \Gamma'
        \andalso
        \Sigma_1; \Gamma' \vdash t \Rightarrow A; \Sigma_2; \Delta; \Theta; \mathcal{C}_1
        \andalso\\
        \Sigma_3 = \Sigma_2, \alpha:\textsf{Labels}
        \andalso
        \Sigma_3 \vdash \alpha \sqsubseteq_c \Gamma' \rhd \mathcal{C}_2
      }{
        \Sigma_1;\Gamma \vdash [t] \Rightarrow \vertype{\alpha}{A}; \Sigma_3; \alpha \cdot \Delta ;\Theta; \mathcal{C}_1 \land \mathcal{C}_2
      }
    \end{minipage}
  \end{tabular}
  \smallskip
  \hrule
  \smallskip
  \begin{tabular}{c}
    \begin{minipage}{.9\linewidth{}}
        % \medskip
        \textbf{\vlmini{} constraints generation \ \ \ 
        \fbox{\ensuremath{\Sigma \,\vdash\, \alpha \sqsubseteq_{c} \Gamma \rhd \mathcal{C}}}}
    \end{minipage}
    \smallskip\\
    \begin{minipage}{.35\linewidth}
      \infrule[$\emptyset$]{
        % \Sigma \,\vdash\, \alpha : \textsf{Labels}
        \\
      }{
        \Sigma \,\vdash\, \alpha \sqsubseteq_{c} \emptyset \rhd \top
      }
    \end{minipage}
    \begin{minipage}{.60\linewidth}
      \infrule[$\alpha$]{
        % \Sigma \,\vdash\, \alpha : \textsf{Labels}
        % \andalso
        \Sigma \,\vdash\, \alpha \sqsubseteq_{c} \Gamma \rhd \mathcal{C}
      }{
        \Sigma \,\vdash\, \alpha \sqsubseteq_{c} (x:[A]_r, \Gamma) \rhd (\alpha \preceq r \land \mathcal{C})
      }
    \end{minipage}
  \end{tabular}
  \smallskip
  \hrule
  \caption{\vlmini{} algorithmic typing.}
  %\ecaption{Typing of \corelang}
  % \Description{\corelang algorithmic typing}
  \label{fig:rule_algorithmic_typing}
\end{figure*}