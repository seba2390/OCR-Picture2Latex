\documentclass[camera,letterpaper,nomarginnotes,nonarrowgutter]{jpaper} 

\usepackage{cite}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{algorithmic}
\usepackage{graphicx}
\usepackage{textcomp}
%\usepackage[hyphens]{url}
\usepackage[bookmarks=true,breaklinks=true,letterpaper=true,colorlinks,linkcolor=black,citecolor=black,urlcolor=black]{hyperref}
\usepackage{balance} % for balance
\usepackage{fancyhdr}

\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em
    T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}
    
\usepackage[linesnumbered,ruled]{algorithm2e}
\usepackage{algorithmic}
\usepackage{graphicx}
\usepackage{textcomp}
\usepackage{xcolor}
\usepackage{fancyhdr}
\usepackage{xspace}
\usepackage{datetime} 
\usepackage[normalem]{ulem}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{setspace}
\usepackage{siunitx}
\usepackage{marginnote}
\usepackage{pifont}
\usepackage{enumitem}
\newcommand{\boldone}{\ding{202}}
\newcommand{\boldtwo}{\ding{203}}
\newcommand{\boldthree}{\ding{204}}
\newcommand{\boldfour}{\ding{205}}
\newcommand{\boldfive}{\ding{206}}
\newcommand{\boldsix}{\ding{207}}
\newcommand{\boldseven}{\ding{208}}
\newcommand{\boldeight}{\ding{209}}

\usepackage[colorinlistoftodos,prependcaption,textsize=small]{todonotes}
\usepackage{xargs}                    
\usepackage{titlesec}
\usepackage{titletoc}
\usepackage{clipboard}
\usepackage[all]{nowidow}
\usepackage[framemethod=tikz]{mdframed}
\usepackage[most]{tcolorbox}
\tcbuselibrary{breakable}
\tcbuselibrary{hooks}
\usepackage[font={small,bf}]{caption}
\usepackage{subcaption}
\usepackage{titlesec}
\usepackage{dblfloatfix}

\iffalse
\makeatletter
\g@addto@macro{\normalsize}{%
  \setlength{\abovedisplayskip}{3pt plus 0.5pt minus 1pt}
  \setlength{\belowdisplayskip}{3pt plus 0.5pt minus 1pt}
  \setlength{\abovedisplayshortskip}{0pt}
  \setlength{\belowdisplayshortskip}{0pt}
  \setlength{\intextsep}{4pt plus 1pt minus 1pt}
  \setlength{\textfloatsep}{4pt plus 1pt minus 1pt}
  \setlength{\skip\footins}{5pt plus 1pt minus 1pt}}
  \setlength{\abovecaptionskip}{3pt plus 1pt minus 1pt}
\makeatother

% requires \usepackage{titlesec}
\titlespacing\section{0pt}{2pt plus 1pt minus 1pt}{3pt plus 1pt minus 2pt}
\titlespacing\subsection{0pt}{2pt plus 1pt minus 1pt}{3pt plus 1pt minus 2pt}
\titlespacing\subsubsection{0pt}{2pt plus 1pt minus 1pt}{3pt plus 1pt minus 2pt}
\fi

\newcommand{\onur}[1]{{#1}}

\newcommand\X[0]{PiDRAM\xspace}

\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}%

\newcommand\outline[1]{\textcolor{orange}{\textbf{Outline:} #1}}

\newif\ifrebuttal
\rebuttalfalse
\newif\iftacorev
\tacorevfalse

\ifrebuttal
\newcommand{\reva}[1]{\textcolor{red}{#1}}
\definecolor{dark-green}{rgb}{0.00, 0.45, 0.00}
\newcommand{\revb}[1]{\textcolor{dark-green}{#1}}
\definecolor{goldbutdark}{rgb}{0.85, 0.65, 0.12}
\newcommand{\revd}[1]{\textcolor{goldbutdark}{#1}}
\newcommand{\revf}[1]{\textcolor{blue}{#1}}
\newcommand{\revcommon}[1]{\textcolor{purple}{#1}}
\definecolor{pink-hot}{rgb}{0.98, 0.40, 0.78}
\newcommand{\reve}[1]{\textcolor{pink-hot}{#1}}
\else
\newcommand{\reva}[1]{#1}
\newcommand{\revb}[1]{#1}
\newcommand{\revd}[1]{#1}
\newcommand{\revf}[1]{#1}
\newcommand{\revcommon}[1]{#1}
\newcommand{\reve}[1]{#1}
\fi

\iftacorev
\newcommand{\tacoreva}[1]{\textcolor{red}{#1}}
\definecolor{dark-green}{rgb}{0.00, 0.45, 0.00}
\newcommand{\tacorevb}[1]{\textcolor{dark-green}{#1}}
\definecolor{goldbutdark}{rgb}{0.85, 0.65, 0.12}
\newcommand{\tacorevc}[1]{\textcolor{goldbutdark}{#1}}
\newcommand{\tacorevd}[1]{\textcolor{purple}{#1}}
\definecolor{pink-hot}{rgb}{0.98, 0.40, 0.78}
\newcommand{\tacoreve}[1]{\textcolor{pink-hot}{#1}}
\newcommand{\tacorevcommon}[1]{\textcolor{blue}{#1}}
\fi

\newif\ifsubmission
%\submissionfalse
\submissiontrue

\ifsubmission

\newcommand{\new}[1]{#1}
\newcommand{\newnew}[1]{#1}
\newcommand{\omi}[1]{#1}
\newcommand{\omu}[1]{#1}
%\newcommandx{\change}[2][1=]{\todo[linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,#1,size=\scriptsize]{#2}}
\newcommand{\revdel}[1]{}

%ATB
\definecolor{ups-truck}{rgb}{0.53, 0.28, 0.21}
\newcommand{\atb}[1]{\textcolor{black}{#1}}
\newcommand{\atbc}[1]{\textcolor{black}{\textbf{[@atb: #1]}}}

%JGL
\definecolor{dgreen}{rgb}{0.00, 0.75, 0.00}
\newcommand{\jgl}[1]{[\textit{{\color{black}JGL: #1}}]}
\newcommand{\juan}[1]{{\color{black}#1}}

%Behzad
\definecolor{dblue}{rgb}{0.00, 0.00, 1.00}
\newcommand{\behzadC}[1]{[\textit{{\color{black}Behzad: #1}}]}
\newcommand{\behzadT}[1]{{\color{black}#1}}

%\newcommand{\om}[1]{\textcolor{blue}{#1}}

\else
%ATB
\definecolor{ups-truck}{rgb}{0.53, 0.28, 0.21}
\newcommand{\atb}[1]{\textcolor{ups-truck}{#1}}
\newcommand{\atbc}[1]{\textcolor{ups-truck}{\textbf{[@atb: #1]}}}

%JGL
\definecolor{dgreen}{rgb}{0.00, 0.75, 0.00}
\newcommand{\jgl}[1]{[\textit{{\color{dgreen}JGL: #1}}]}
\newcommand{\juan}[1]{{\color{dgreen}#1}}

%Behzad
\definecolor{dblue}{rgb}{0.00, 0.00, 1.00}
\newcommand{\behzadC}[1]{[\textit{{\color{dblue}Behzad: #1}}]}
\newcommand{\behzadT}[1]{{\color{dblue}#1}}

\fi

\newcommand{\affilETH}[0]{\textsuperscript{\S}}
\newcommand{\affilETU}[0]{\textsuperscript{$\dagger$}}
\newcommand{\affilBSC}[0]{\textsuperscript{*}}

% Ensure letter paper
\pdfpagewidth=8.5in
\pdfpageheight=11in

\pagenumbering{arabic}

\definecolor{lightblue}{rgb}{0.980, 0.956, 0.623}
\newcommand{\MA}{}% Error, if \MA is already defined.
\DeclareRobustCommand{\MA}[1]{{\sethlcolor{lightblue}\hl{#1}}}

\let\oldmarginnote\marginnote
% renew the \marginpar command to draw 
% a node; it has a default setting which 
% can be overwritten
\renewcommand*{\marginfont}{\tiny}
\renewcommand{\marginnote}[2][rectangle,draw,fill=blue!40,rounded corners]{%
        \oldmarginnote{%
        \tikz \node at (0,0) [#1]{#2};}%
        }
        
\definecolor{lightyellow}{rgb}{0.980, 0.956, 0.623}



\newcommand{\boxbegin} {
	\begin{tcolorbox}[enhanced, frame hidden, colback=gray!50, breakable]
}

\newcommand{\boxend} {
	\end{tcolorbox}
}

\newcommand{\yboxbegin} {
	\begin{tcolorbox}[breakable, enhanced, frame hidden, colback=yellow!50]
}

\newcommand{\yboxend} {
	\end{tcolorbox}
}


\mdfdefinestyle{graybox}{
    splittopskip=0,%
    splitbottomskip=0,%
    frametitleaboveskip=0,
    frametitlebelowskip=0,
    skipabove=0,%
    skipbelow=0,%
    leftmargin=0,%
    rightmargin=0,%
    innertopmargin=0mm,%
    innerbottommargin=0mm,%
    roundcorner=1mm,%
    backgroundcolor=lightblue,
    hidealllines=true}
    
\mdfdefinestyle{graybox2}{
    splittopskip=0,%
    splitbottomskip=0,%
    frametitleaboveskip=0,
    frametitlebelowskip=0,
    skipabove=0,%
    skipbelow=0,%
    leftmargin=0,%
    rightmargin=0,%
    innertopmargin=2mm,%
    innerbottommargin=2mm,%
    roundcorner=2mm,%
    backgroundcolor=lightblue,
    hidealllines=true}

\newcommand{\bboxbegin}{
    \begin{mdframed}[style=graybox]
}

\newcommand{\bboxend}{
    \end{mdframed}
}

\newcommand{\yyboxbegin}{
    \begin{mdframed}[style=graybox2]
}

\newcommand{\yyboxend}{
    \end{mdframed}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\setstretch{1.11}
\title{PiDRAM: A Holistic End-to-end FPGA-based Framework\\for \underline{P}rocessing-\underline{i}n-\underline{DRAM}}
\author{
{Ataberk Olgun\affilETH}\qquad%
{Juan G\'omez Luna\affilETH}\qquad
{Konstantinos Kanellopoulos\affilETH}\qquad
{Behzad Salami\affilETH}\qquad\\
{Hasan Hassan\affilETH}\qquad%
{O\=guz Ergin\affilETU}\qquad%
{Onur Mutlu\affilETH}\qquad\vspace{-3mm}\\\\
% {\affilCMU Carnegie Mellon University \qquad \affilETH ETH Z{\"u}rich}%
{\vspace{-3mm}\affilETH \emph{ETH Z{\"u}rich}} \qquad \affilETU \emph{TOBB University of Economics and Technology}% \qquad \affilGSC \emph{Galician Supercomputing Center} %
}
%%
%% The "author" command and its associated commands are used to define
%% the authors and their affiliations.
%% Of note is the shared affiliation of the first two authors, and the
%% "authornote" and "authornotemark" commands
%% used to denote shared contribution to the research.

%% By default, the full list of authors will be used in the page
%% headers. Often, this list is too long, and will overlap
%% other information printed in the page headers. This command allows
%% the author to define a more concise list
%% of authors' names for this purpose.

% \setstretch{0.99}

\begin{document}

\maketitle

\thispagestyle{plain}
\pagestyle{plain}

\begin{abstract}
\input{sections/00_abstract}
\end{abstract}

%%%%%% -- PAPER CONTENT STARTS-- %%%%%%%%

\section{Introduction}
\input{sections/01_introduction}

\section{Background}
\input{sections/02_background}

\section{Motivation}
\input{sections/03_motivation}

\section{PiDRAM}
\input{sections/04_pidram}

\section{Case Study \#1: End-to-end RowClone}
\input{sections/05_usecase1}

\section{Case Study \#2: End-to-end D-RaNGe}
\input{sections/06_usecase2}

%\section{Limitations of \X}
%\input{sections/07_limitations.tex}

\section{{Extending PiDRAM}}
\input{sections/071_extending_pidram.tex}

\section{Related Work}
\input{sections/07_relatedwork.tex}

\section{Conclusion}
\input{sections/08_conclusion.tex}

\section*{Acknowledgements}
\input{sections/09_ack}

%%%%%%%%% -- BIB STYLE AND FILE -- %%%%%%%%
\balance
\begin{spacing}{0.75}
\begin{footnotesize}
\bibliographystyle{IEEEtranS}
\bibliography{PiDRAM}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\end{footnotesize}
\end{spacing}
\newpage

\end{document}
