\usepackage{amsfonts}
\usepackage{amssymb}

\usepackage{empheq}

\usepackage{relsize}
\usepackage{bbm}

\usepackage{etoolbox}
\usepackage{setspace}
\AtBeginEnvironment{quote}{\par\singlespacing\small}

\usepackage{graphicx}
\usepackage{outlines}

\usepackage{tikz}
\usetikzlibrary{cd}
\usepackage[outline]{contour}
\usepackage{onimage}

\usepackage{xcolor}

\newcommand{\qedsymbol}{$\blacksquare$}


% wide box for emphasized equations
\newcommand*\widefbox[1]{\fbox{\hspace{2em}#1\hspace{2em}}}

\newcommand{\no}{\noindent}
\newcommand{\pf}[1]{{\partial \over \partial #1}}
\newcommand{\pp}[2]{{\partial #1 \over \partial #2}}


\newcommand{\fndict}{\mathcal{D}}
\newcommand{\manM}{\mathcal{M}}
\newcommand{\vf}{\mathfrak{X}}
\newcommand{\tf}{\mathfrak{T}}

\DeclareMathOperator{\Lie}{Lie}
\DeclareMathOperator{\graph}{gr}
\DeclareMathOperator{\image}{im}
\DeclareMathOperator{\sect}{\Sigma}
\DeclareMathOperator{\sym}{\mathfrak{sym}}
\DeclareMathOperator{\Sym}{Sym}

\DeclareMathOperator*{\argmin}{\arg\!\min\enskip}
\DeclareMathOperator*{\argmax}{\arg\!\max\enskip}
\DeclareMathOperator*{\minimize}{\min\!imize\enskip}
\DeclareMathOperator*{\maximize}{\max\!imize\enskip}
\DeclareMathOperator{\sgn}{sgn}
\DeclareMathOperator{\qf}{qf}
\DeclareMathOperator{\Tr}{Tr}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\codim}{codim}
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\vspan}{span}
\DeclareMathOperator{\Range}{Range}
\DeclareMathOperator{\Null}{Null}
\DeclareMathOperator{\vct}{vec}
\DeclareMathOperator{\col}{col}
\DeclareMathOperator{\row}{row}
\DeclareMathOperator{\grad}{grad}
\DeclareMathOperator{\diverg}{div}
\DeclareMathOperator{\td}{\mathrm{d}}
\DeclareMathOperator{\ddt}{\frac{\td}{\td t}}
\DeclareMathOperator{\D}{\mathrm{d}}
\DeclareMathOperator{\Id}{Id}
\DeclareMathOperator{\intmul}{\mathlarger{\lrcorner}}
\DeclareMathOperator{\vpr}{vpr} %vertical projection: Kolar, Michor, Slovak, Section 6.11
\DeclareMathOperator{\Flow}{Fl}
\DeclareMathOperator{\volform}{dV}

\DeclareMathOperator{\indic}{\mathbbm{1}}

\newcommand{\mat}[1]{{\pmb{#1}}}
\newcommand{\vect}[1]{{\boldsymbol{#1}}}

\newcommand{\mcal}[1]{{\mathcal{#1}}}
\newcommand{\mfrak}[1]{{\mathfrak{#1}}}

\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}

% separating lines in bmatrix environment
\makeatletter
\renewcommand*\env@matrix[1][*\c@MaxMatrixCols c]{%
  \hskip -\arraycolsep
  \let\@ifnextchar\new@ifnextchar
  \array{#1}}
\makeatother

\newcommand{\soremark}[1]{\textcolor{blue}{[SO: #1]}}
\newcommand{\nzremark}[1]{\textcolor{orange}{[NZ: #1]}}
\newcommand{\sbremark}[1]{\textcolor{red}{[SB: #1]}}
\newcommand{\nkremark}[1]{\textcolor{green}{[NK: #1]}}