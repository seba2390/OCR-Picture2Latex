\documentclass[final]{cvpr}

\usepackage{titling}
\usepackage{cvprtitle} % redefine cvpr title style
\usepackage{times}
\usepackage{epsfig}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{bm}
\usepackage{multibib}


% Include other packages here, before hyperref.
\usepackage{bbding}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage[keeplastbox]{flushend}
\usepackage{newtxtt}
\usepackage{etoolbox,siunitx}
\robustify\bfseries
\sisetup{detect-all = true}

% drawing boxes
% make it less epileptic
\usepackage{color}
\definecolor{mybar}{rgb}{1.0, 0.4, 0.0}
\newcommand\cbar[3][mybar]{\colorbox{#1}{\color{black}\framebox(#2,#3){}}}

\definecolor{mygreen}{rgb}{0.2, 0.7, 0.1}
\definecolor{turquoise}{rgb}{0.173, 0.627, 0.537}


% If you comment hyperref and then uncomment it, you should delete
% egpaper.aux before re-running latex.  (Or just hit 'q' on the first latex
% run, let it finish, and you should be clear).
\usepackage[pagebackref=true,breaklinks=true,colorlinks,citecolor={mygreen},bookmarks=false]{hyperref}


% figure and equations with cref.
\usepackage[capitalize]{cleveref}
\crefname{section}{Sec.}{Section}

\usepackage[format=plain,labelformat=simple,labelsep=period,font=small,skip=4pt,compatibility=false]{caption}
\usepackage[font=footnotesize,skip=2pt,subrefformat=parens]{subcaption}

% \cmark & \xmark
\usepackage{pifont} % http://ctan.org/pkg/pifont
\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}%

\usepackage[inline]{enumitem}
\usepackage{listings}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2
}

\lstset{style=mystyle}
%
% Commands
%

% abbreviations
\usepackage{xspace}
\newcommand{\iid}{\emph{i.\thinspace{}i.\thinspace{}d.}\@\xspace}
\renewcommand{\cf}{\emph{cf.}\@\xspace}
%\newcommand{\etc}{\emph{etc}}
\newcommand{\Eq}{Eq.\@\xspace}
\newcommand{\Eqs}{Eqs.\@\xspace}
\newcommand{\Fig}{Fig.\@\xspace}
\newcommand{\Figs}{Figs.\@\xspace}
\newcommand{\Tab}{Tab.\@\xspace}
\newcommand{\Tabs}{Tabs.\@\xspace}
\newcommand{\Sec}{Sec.\@\xspace}
\newcommand{\Secs}{Secs.\@\xspace}
\newcommand{\Def}{Def.\@\xspace}
\newcommand{\resp}{resp.\@\xspace}

\newcommand{\norm}[1]{\left\lVert#1\right\rVert}
\newcommand*{\myparagraph}[1]{\smallskip\noindent\textbf{#1}\hspace{0.5em}}

\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}

% footnote w/o a marker
\newcommand\blfootnote[1]{%
  \begingroup
  \renewcommand\thefootnote{}\footnote{#1}%
  \addtocounter{footnote}{-1}%
  \endgroup
}

% Custom footer for title page
\usepackage{fancyhdr}
\usepackage{setspace}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
\fancyhf{}
\lfoot{{\footnotesize
\begin{spacing}{.5}
\parbox{\linewidth}{\vspace{2.5em}%
To appear in Proceedings of the \emph{IEEE/CVF Conference on Computer Vision and Pattern Recognition (CVPR)}, virtual, 2021. \\ \hrule \vspace {\baselineskip}
\copyright~2021 IEEE. Personal use of this material is permitted. Permission from IEEE must be obtained for all other uses, in any current or future media, including reprinting/republishing this material for advertising or promotional purposes, creating new collective works, for resale or redistribution to servers or lists, or reuse of any copyrighted component of this work in other works.
}\end{spacing}}}

\newcites{supp}{References}

\begin{document}

%%%%%%%%% TITLE
\title{Self-supervised Augmentation Consistency \\for Adapting Semantic Segmentation}

\author{Nikita Araslanov$^1$ \hspace{1cm} Stefan Roth$^{1,2}$\\
$\ ^1$Department of Computer Science, TU Darmstadt \hspace{1cm} $\ ^2$ hessian.AI}

\maketitle
\thispagestyle{fancy}

%%%%%%%%% ABSTRACT
\begin{abstract}
\input{sections/abstract}
\end{abstract}

%%%%%%%%% BODY TEXT
\section{Introduction}
\label{sec:intro}
\input{sections/intro}

\pagestyle{plain}
\section{Related Work}
\input{sections/related_work}

\section{Self-Supervised Augmentation Consistency}
\input{sections/method}

\section{Experiments}
\label{sec:exp}
\input{sections/experiments}

\section{Conclusion}
\input{sections/conclusion}

{\small
\bibliographystyle{ieee_fullname}
\bibliography{egbib}
}

\clearpage
\pagenumbering{roman}
\appendix

%%%%%%%%% TITLE
\title{Self-supervised Augmentation Consistency \\for Adapting Semantic Segmentation\\[1mm]\large -- Supplemental Material --}
\author{Nikita Araslanov$^1$ \hspace{1cm} Stefan Roth$^{1,2}$\\
$\ ^1$Department of Computer Science, TU Darmstadt \hspace{1cm} $\ ^2$ hessian.AI}

\maketitle

%%%%%%%%% BODY TEXT
\section{Overview}
In this appendix, we first provide further training and implementation details of our framework.
We then take a closer look at the accuracy of long-tail classes, before and after adaptation.
Next, we discuss our strategy for hyperparameter selection and perform a sensitivity analysis.
We also evaluate our framework using another segmentation architecture, FCN8s \citesupp{ShelhamerLD17}.
Finally, we discuss the limitations of the current evaluation protocol and propose a revision based on the best practices in the field at large.

\section{Further Technical Details}
\label{sec:supp_impl}
\input{supp_sections/supp_impl}

\section{Additional Experiments}
\label{sec:supp_class}
\input{supp_sections/supp_class}

\section{Towards Best-practice Evaluation}
\label{sec:supp_eval}
\input{supp_sections/supp_eval}

{\small
\bibliographystylesupp{ieee_fullname}
\bibliographysupp{supp_egbib}
}

\end{document}
