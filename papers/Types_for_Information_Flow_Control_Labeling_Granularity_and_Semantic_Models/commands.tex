\theoremstyle{plain}
\newtheorem{thm}{Theorem}[section]
\newtheorem{asm}[thm]{Assumption}
\newtheorem{lem}[thm]{Lemma}
\newtheorem{cor}[thm]{Corollary}
\theoremstyle{definition}
\newtheorem{dfn}[thm]{Definition}

\newenvironment{definition}[1][]{%
\ifthenelse
{\not\equal{#1}{}}
{\begin{dfn}[#1]}
{\begin{dfn}}%
\normalfont%
}{\renewcommand{\qedsymbol}{\ensuremath{\lozengemnsymbol}}\qed\end{dfn}}

\newenvironment{example}{\begin{exa}\normalfont}{\renewcommand{\qedsymbol}{\ensuremath{\medtriangleup}}\qed\end{exa}}
\newenvironment{example*}{\begin{exa*}\normalfont}{\renewcommand{\qedsymbol}{\ensuremath{\medtriangleup}}\qed\end{exa*}}

\newenvironment{theorem}{\begin{thm}\normalfont}{\end{thm}}
\newenvironment{theoremqed}[1][]{%
\ifthenelse
{\not\equal{#1}{}}
{\begin{thm}[#1]}
{\begin{thm}}%
\normalfont}{\renewcommand{\qedsymbol}{\ensuremath{\medsquare}}\qed\end{thm}}

\newenvironment{lemma}{\begin{lem}\normalfont}{\end{lem}}
\newenvironment{lemmaqed}[1][]{%
\ifthenelse
{\not\equal{#1}{}}
{\begin{lem}[#1]}
{\begin{lem}}%
\normalfont}{\renewcommand{\qedsymbol}{\ensuremath{\medsquare}}\qed\end{lem}}

\newenvironment{corollary}{\begin{cor}\normalfont}{\end{cor}}
\newenvironment{corollaryqed}[1][]{%
\ifthenelse
{\not\equal{#1}{}}
{\begin{cor}[#1]}
{\begin{cor}}%
\normalfont}{\renewcommand{\qedsymbol}{\ensuremath{\medsquare}}\qed\end{cor}}

\newenvironment{proposition}{\begin{prp}\normalfont}{\end{prp}}
\newenvironment{propositionqed}{\begin{prp}\normalfont}{\renewcommand{\qedsymbol}{\ensuremath{\medsquare}}\qed\end{prp}}

\newenvironment{proofqed}{\begin{proof}\renewcommand{\qedsymbol}{\ensuremath{\filledmedsquare}}}{\end{proof}}

\newcommand{\todo}[1]{\textcolor{red}{TODO: #1}}
\newcommand{\NI}{\textit{non-interference}}
\newcommand{\cg}{CG}
\newcommand{\fg}{FG}
\newcommand{\cf}{CF}
\newcommand{\fc}{FC}
\newcommand{\rfg}{$\mbox{\fg}^-$}

\newcommand{\update}[1]{#1}
\newcommand{\kw}[1]{\mathsf{#1}}
\newcommand{\efst}{\kw{fst}}
\newcommand{\esnd}{\kw{snd}}
\newcommand{\ecase}{\kw{case}}
\newcommand{\einl}{\kw{inl}}
\newcommand{\einr}{\kw{inr}}
\newcommand{\elet}{\kw{let}}
\newcommand{\eret}{\kw{ret}}
\newcommand{\ebind}{\kw{bind}}
\newcommand{\elabel}[1]{\kw{Lb}_{#1}}
\newcommand{\etolabeled}{\kw{toLabeled}}
\newcommand{\eunlabel}{\kw{unlabel}}
\newcommand{\eref}{\kw{ref}}
\newcommand{\enew}{\kw{new}~}

\newcommand{\appCG}{\kw{appCG}}

\newcommand{\subtype}{\mathrel{<:}}

\newcommand{\utype}{\kw{A}}
\newcommand{\tbase}{\kw{b}}
\newcommand{\tmonad}[1]{T_{#1}}
\newcommand{\tlabeled}[2]{\kw{Labeled}\;#1\;#2}
\newcommand{\tslio}[3]{\mathbb{C}\;#1\;#2\;#3}
\newcommand{\tunit}{\kw{unit}}
\newcommand{\tbool}{\kw{bool}}
% \newcommand{\tint}{\kw{int}}
\newcommand{\tnat}{\kw{nat}}
\newcommand{\tref}{\kw{ref}}

\newcommand{\rname}[1]{\;\mbox{\small #1}}

\newcommand{\llabel}{\ell}
\newcommand{\lelement}{\mathit{l}}
\newcommand{\ljoin}{\sqcup}
\newcommand{\lmeet}{\sqcap}
\newcommand{\lbelow}{\sqsubseteq}
\newcommand{\lbelowstrict}{\sqsubset}

\newcommand{\cRightarrow}{~\overset{\llabel_e}\Rightarrow~}
\newcommand{\dcRightarrow}{~\overset{\lattice_e, \llabel_e}\Rightarrow~}
\newcommand{\clRightarrow}{~\overset{\llabel}\Rightarrow~}
\newcommand{\cRightarrowP}{\overset{\llabel_e'}\Rightarrow}
\newcommand{\dcRightarrowP}{\overset{\lattice_e', \llabel_e'}\Rightarrow}
\newcommand{\ftoL}{\overset{\llabel}\to}
\newcommand{\fto}{\overset{\llabel_e}\to}
\newcommand{\dfto}{\overset{\lattice_e, \llabel_e}\to}
\newcommand{\ftoP}{\overset{\llabel_e'}\to}
\newcommand{\dftoP}{\overset{\lattice_e', \llabel_e'}\to}
\newcommand{\pc}{\mathit{pc}}
\newcommand{\dom}{\mathtt{dom}}
\newcommand{\range}{\mathtt{range}}
\newcommand{\lvar}{\alpha}
\newcommand{\lcontext}{\Sigma}
\newcommand{\emptylcontext}{\emptyset}
\newcommand{\cContext}{\Psi}
\newcommand{\emptycContext}{\emptyset}
\newcommand{\lattice}{\mathcal{L}}
\newcommand{\twopt}{\ensuremath{\mathsf{LH}}}

\newcommand{\union}{\cup}

\newcommand{\transPC}[2]{{\left\llbracket #2 \right\rrbracket}_{#1}}

\newcommand{\transFR}[1]{\ensuremath{\llbracket #1 \rrbracket}}
\newcommand{\trans}[1]{\transFR {#1}}
\newcommand{\transRC}[1]{\ensuremath{\llceil #1 \rrceil}}
\newcommand{\transFC}[1]{\ensuremath{\llparenthesis #1 \rrparenthesis}}

\newcommand{\coerce}{\ensuremath{\mathtt{coerce\_taint}}}

\newcommand{\Blrv}[1]{\ensuremath{\lceil #1 \rceil}_{V}^{\attacker}}
\newcommand{\Blre}[1]{\ensuremath{\lceil #1 \rceil}_{E}^{\attacker}}
\newcommand{\lreb}[2]{\ensuremath{\lceil #1 \rceil}_{E}^{\attacker, #2}}

% \newcommand{\dBlrv}[1]{\ensuremath{\lceil #1 \rceil}_{V}^{\lattice, \attacker}}
% \newcommand{\dlrvb}[2]{\ensuremath{\lceil #1 \rceil}_{V}^{#2, \attacker}}
% \newcommand{\dBlre}[1]{\ensuremath{\lceil #1 \rceil}_{E}^{\lattice, \attacker}}
% \newcommand{\dlreb}[2]{\ensuremath{\lceil #1 \rceil}_{E}^{#2, \attacker}}

% \newcommand{\dlrvbBot}[2]{\ensuremath{\lceil #1 \rceil}_{V}^{#2, \bot}}
% \newcommand{\dlrebBot}[2]{\ensuremath{\lceil #1 \rceil}_{E}^{#2, \bot}}

\newcommand{\BlrvBot}[1]{\ensuremath{\lceil #1 \rceil}_{V}^{\bot}}
\newcommand{\BlreBot}[1]{\ensuremath{\lceil #1 \rceil}_{E}^{\bot}}

\newcommand{\Ulrv}[1]{\ensuremath{\lfloor #1 \rfloor}_{V}}
\newcommand{\Ulre}[1]{\ensuremath{\lfloor #1 \rfloor}_{E}^{\pc}}
\newcommand{\lreu}[2]{\ensuremath{\lfloor #1 \rfloor}_{E}^{#2}}

% \newcommand{\dUlrv}[1]{\ensuremath{\lfloor #1 \rfloor}_{V}}
% \newcommand{\dlrvu}[2]{\ensuremath{\lfloor #1 \rfloor}_{V}^{#2}}
% \newcommand{\dUlre}[1]{\ensuremath{\lfloor #1 \rfloor}_{E}^{\lattice, \pc}}
% \newcommand{\dlreu}[2]{\ensuremath{\lfloor #1 \rfloor}_{E}^{#2}}


\newcommand{\cBlrv}[1]{\ensuremath{\lceil #1 \rceil}_{V}^{\attacker}}
\newcommand{\cBlre}[1]{\ensuremath{\lceil #1 \rceil}_{E}^{\attacker}}
\newcommand{\clreb}[2]{\ensuremath{\lceil #1 \rceil}_{E}^{#2}}

\newcommand{\cBlrvBot}[1]{\ensuremath{\lceil #1 \rceil}_{V}^{\bot}}
\newcommand{\cBlreBot}[1]{\ensuremath{\lceil #1 \rceil}_{E}^{\bot}}


\newcommand{\cUlrv}[1]{\ensuremath{\lfloor #1 \rfloor}_{V}}
\newcommand{\cUlre}[1]{\ensuremath{\lfloor #1 \rfloor}_{E}}
\newcommand{\clreu}[1]{\ensuremath{\lfloor #1 \rfloor}_{E}}

\newcommand{\cfUlrv}[1]{\ensuremath{\lfloor #1 \rfloor}_{V}^{\pb}}
\newcommand{\cflrvu}[2]{\ensuremath{\lfloor #1 \rfloor}_{V}^{#2}}
\newcommand{\cfUlre}[1]{\ensuremath{\lfloor #1 \rfloor}_{E}^{\pb}}
\newcommand{\cflreu}[2]{\ensuremath{\lfloor #1 \rfloor}_{E}^{#2}}

\newcommand{\fcUlrv}[2]{\ensuremath{{^{#1}}\lfloor #2 \rfloor}_{V}^{\pb}}
\newcommand{\fclrvu}[3]{\ensuremath{{^{#1}}\lfloor #2 \rfloor}_{V}^{#3}}
\newcommand{\fcUlre}[2]{\ensuremath{{^{#1}}\lfloor #2 \rfloor}_{E}^{\pb}}
\newcommand{\fclreu}[3]{\ensuremath{{^{#1}}\lfloor #2 \rfloor}_{E}^{#3}}

\newcommand{\fcUlrvn}[1]{\ensuremath{\lfloor #1 \rfloor}_{V}^{\pb}}
\newcommand{\fclrvun}[2]{\ensuremath{\lfloor #1 \rfloor}_{V}^{#2}}
\newcommand{\fcUlren}[1]{\ensuremath{\lfloor #1 \rfloor}_{E}^{\pb}}
\newcommand{\fclreun}[2]{\ensuremath{\lfloor #1 \rfloor}_{E}^{#2}}

\newcommand{\pop}{\mathit{pop}}
\newcommand{\world}{\mathit{W}}
% \newcommand{\vWorld}{\mathit{S}}
% \newcommand{\vuWorld}{\Theta}
\newcommand{\emptyWorld}{\emptyset}
\newcommand{\unrWorld}{\mathit{U}}
\newcommand{\uWorld}{\theta}
\newcommand{\uWorlds}{{^s}\theta}
\newcommand{\uWorldt}{{^t}\theta}
\newcommand{\Loc}{\mathit{Loc}}
\newcommand{\loc}{\mathit{a}}
\newcommand{\Type}{\mathit{Type}}
\newcommand{\val}{\mathit{v}}
\newcommand{\sval}{{^s}\mathit{v}}
\newcommand{\tval}{{^t}\mathit{v}}
\newcommand{\attacker}{\mathcal{A}}
\newcommand{\wExtends}{\sqsubseteq}
\newcommand{\wExtendsR}{\sqsupseteq}
\newcommand{\pb}{\hat{\beta}}
\newcommand{\heap}{\mathit{H}}
\newcommand{\emptyHeap}{\emptyset}
\newcommand{\wDefined}[1]{\overset{#1}\triangleright}
\newcommand{\reducesTo}[1]{\rightarrow_{#1}}
\newcommand{\reducesToC}[1]{\overset{*}\rightarrow_{#1}}
\newcommand{\ReducesTo}[1]{\Downarrow_{#1}}
\newcommand{\ReducesToF}[1]{\Downarrow_{#1}^{f}}
\newcommand{\proj}[1]{{\downarrow_{#1}}}
\newcommand{\vsubstp}{\gamma}
\newcommand{\vsubsts}{\delta}
\newcommand{\vsubstsS}{\delta^s}
\newcommand{\vsubstsT}{\delta^t}
\newcommand{\lsubst}{\sigma}

\newcommand{\wildcard}{\ensuremath{\_}}
\newcommand{\fv}{\mbox{FV}}

\newcommand{\sIndex}{\mathbb{N}}

\newcommand{\valEq}{\textit{ValEq}}
\newcommand{\expEq}{\mathit{ExprEq}}
\newcommand{\cgSem}{cg}
\newcommand{\fgSem}{fg}

\newcommand{\wff}{WF}
