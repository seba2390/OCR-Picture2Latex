\documentclass[aop]{imsart}
%% Packages

\RequirePackage{amsthm,amsmath,amsfonts,amssymb}
%\RequirePackage[numbers]{natbib}
\RequirePackage[authoryear]{natbib}%% uncomment this for author-year citations
%\bibliographystyle{apalike}
\RequirePackage[colorlinks,citecolor=blue,urlcolor=blue]{hyperref}
\RequirePackage{graphicx}

\startlocaldefs
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% Uncomment next line to change            %%
%% the type of equation numbering           %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\numberwithin{equation}{section}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% For Axiom, Claim, Corollary, Hypothesis, %%
%% Lemma, Theorem, Proposition              %%
%% use \theoremstyle{plain}                 %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\theoremstyle{plain}
\newtheorem{axiom}{Axiom}
\newtheorem{claim}[axiom]{Claim}
\newtheorem{theorem}{Theorem}[section]
%\newtheorem{lemma}[theorem]{Lemma}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% For Assumption, Definition, Example,     %%
%% Notation, Property, Remark, Fact         %%
%% use \theoremstyle{remark}                %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\theoremstyle{remark}
\newtheorem{definition}[theorem]{Definition}
\newtheorem*{example}{Example}
\newtheorem*{fact}{Fact}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Please put your definitions here:        %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{math_stat.tex}

\newcommand{\figs}{figs}
\newcommand{\ltriangle}{\tikz[baseline=-1mm]{
\draw (0,-.1) -- (.25,.1) -- (.25,-.1);
}}
\newcommand{\rtriangle}{\tikz[baseline=-1mm]{
\draw (0,-.1) -- (0,.1) -- (.25,-.1);
}}
\newcommand{\lrtriangle}{\tikz[baseline=-1mm]{
\draw (0,-.1) -- (.25,.1) -- (.5,-.1);
}}
\newcommand{\upcollapse}{\tikz[baseline=-1mm]{
\draw (0,-.1) -- (.25,.1) -- (.5,-.3);
}}
\newcommand{\collapse}{\tikz[baseline=-1mm]{
\draw (0,-.1) -- (0,.1) -- (.25,-.3);
}}
\newcommand{\plateaudown}{\tikz[baseline=-1mm]{
\draw (0,.1) -- (.25,.1) -- (.5,-.1);
}}

\newcommand{\lintervalr}{\tikz[baseline=-1mm]{
\draw (0,.1) -- (0,-.1);
\draw (0,0) -- (1,0);
\draw (1,.1) -- (1,-.1);
}}

\newcommand{\linterval}{\tikz[baseline=-1mm]{
\draw (0,.1) -- (0,-.1);
\draw (0,0) -- (.5,0);
}}

\newcommand{\intervalr}{\tikz[baseline=-1mm]{
\draw (0,0) -- (.5,0);
\draw (.5,.1) -- (.5,-.1);
}}
\newcommand{\longlinterval}{\tikz[baseline=-1mm]{
\draw (0,.1) -- (0,-.1);
\draw (0,0) -- (1,0);
}}
\newcommand{\longintervalr}{\tikz[baseline=-1mm]{
\draw (0,0) -- (1,0);
\draw (1,.1) -- (1,-.1);
}}

\newcommand{\longltriangle}{\tikz[baseline=-1mm]{
\draw (0,-.1) -- (.5,.1) -- (.5,-.1);
}}
\newcommand{\longrtriangle}{\tikz[baseline=-1mm]{
\draw (0,-.1) -- (0,.1) -- (.5,-.1);
}}
\newcommand{\longlrtriangle}{\tikz[baseline=-1mm]{
\draw (0,-.1) -- (.5,.1) -- (1,-.1);
}}

\DeclareMathOperator{\AV}{AV}


%%%%%% Yoann's notation %%%%%%
\newcommand{\reels}{\mathbb{R}}
\newcommand{\naturels}{\mathbb{N}}
\newcommand{\relatifs}{\mathbb{Z}}
\newcommand{\rat}{\mathbb{Q}}
\newcommand{\complex}{\mathbb{C}}
\newcommand{\esp}{\mathbb{E}}
\newcommand{\proba}{\mathbb{P}}
%\newcommand{\var}{\operatorname{Var}}
%\newcommand{\cov}{\operatorname{Cov}}
\newcommand{\Tau}{\mathrm{T}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endlocaldefs

\begin{document}

\begin{frontmatter}
\title{Explicit formula of boundary crossing probabilities for continuous local martingales to constant boundary}
\runtitle{Formula of boundary crossing probabilities}
%\thankstext{T1}{A sample additional note to the title.}

\begin{aug}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Only one address is permitted per author. %%
%% Only division, organization and e-mail is %%
%% included in the address.                  %%
%% Additional information can be included in %%
%% the Acknowledgments section if necessary. %%
%% ORCID can be inserted by command:         %%
%% \orcid{0000-0000-0000-0000}               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\author[A]{\fnms{Yoann}~\snm{Potiron}\ead[label=e1]{potiron@fbc.keio.ac.jp}},
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Addresses                                %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\address[A]{Faculty of Business and Commerce, Keio University\printead[presep={,\ }]{e1}}
\end{aug}




\begin{abstract}
An explicit formula for the probability that a continuous local martingale crosses a one or two-sided random constant boundary in a finite time interval is derived. We obtain that the boundary crossing probability of a continuous local martingale to a constant boundary is equal to the boundary crossing probability of a standard Wiener process to a constant boundary up to a time change of quadratic variation value. This relies on the constancy of the boundary and the Dambis, Dubins-Schwarz theorem for continuous local martingale. The main idea of the proof is the scale invariant property of the time-changed Wiener process and thus the scale invariant property of the first-passage time.
\end{abstract}

\begin{keyword}[class=MSC]
\kwd[Primary ]{60J65}
\kwd[; secondary ]{60G40}
\kwd{60H05}
\end{keyword}

\begin{keyword}
\kwd{First-passage time problem}
\kwd{boundary crossing probabilities}
\kwd{continuous local martingale}
\kwd{constant random boundary}
\kwd{Dambis Dubins-Schwarz theorem}
\end{keyword}


\end{frontmatter}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Please use \tableofcontents for articles %%
%% with 50 pages and more                   %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\tableofcontents

\section{Introduction}
Let $(Z_t)_{t \in \reels^+}$ be a continuous local martingale, while $g$ and $h$ are two random constant boundaries. We are concerned with one-sided and two-sided boundary crossing probabilities of the form
\begin{eqnarray}
\label{def_bcp}
P_g^Z(t) & = & \proba \big( \sup_{0 \leq s \leq t} Z_s    \geq g\big),\\ \label{def_bcp2} P_{g,h}^Z(t) & = & \proba \big( \sup_{0 \leq s \leq t} Z_s   \geq g \text{ or } \inf_{0 \leq s \leq t} Z_s  \leq h \big), 
\end{eqnarray}
i.e., the probability that the process $Z$ crosses the boundary or one of both boundaries between $0$ and $t$ for a finite time $t \geq 0$. The main application when $Z$ is a continuous local martingale is in pricing barrier options in finance and financial econometrics. Numerous works on boundary crossing probabilities have been done under the assumption that the price process is a Wiener process with constant variance, whereas it is well-known that it is empirically wrong and theoretically wrong since under arbitrage theory the asset price is assumed to follow a semi-martingale process. Despite the growing importance of these results for applications, there is no explicit formula for general continuous local martingale in the literature.

There has been a first main focus of boundary crossing probabilities when the stochastic process $Z$ is a random walk. Since the problem is harder to solve in that case, the literature relies on a continuous approximation and develop theoretical tools when the stochastic process $Z$ is a Wiener process (see \cite{gut1974moments}, \cite{woodroofe1976renewal}, \cite{woodroofe1977second}, \cite{lai1977nonlinear}, \cite{lai1979nonlinear} and \cite{siegmund1986boundary}). Although there are very important for applications, explicit formulae of these boundary crossing probabilities (\ref{def_bcp})-(\ref{def_bcp2}) are only found in a few combinations of processes $Z$ and boundaries. When $Z$ is a standard Wiener process with linear drift and the boundaries are linear, \cite{doob1949heuristic} gives explicit formulae (Equations (4.2)-(4.3), pp. 397-398) based on elementary geometrical and analytical arguments when $T=\infty$, $\sigma$ is nonrandom, the drift is null and the boundaries are nonrandom linear with nonnegative upper trend and nonpositive lower trend. \cite{malmquist1954certain} uses Doob's transformation (Section 5, pp. 401-402) to obtain an explicit formula conditioned on the starting and final values of the Wiener process (Theorem 1, p. 526) in the one-sided boundary case. \cite{anderson1960modification} derives an explicit formula conditioned on the final value of the Wiener process (Theorem 4.2, pp. 178-179) and integrate with respect to the final value of the Wiener process to get an explicit formula (Theorem 4.3, p. 180) in the two-sided boundary case with linear drift. \cite{potiron2023formula} gives a formula for the probability that a Wiener process with stochastic drift process and random variance crosses a one-sided stochastic boundary process by the Girsanov theorem but the formula is not completely explicit.

There are also some instances where formulae of the Laplace transform are obtained. For square root boundaries $g(t) = \sqrt{a+ t}$ with $a >0$ we can use Doob's transformation, and express Equations (\ref{def_bcp})-(\ref{def_bcp2}) as boundary crossing probabilities of an Ornstein-Unlenbeck process to a constant boundary (see \cite{breiman1967first}). However, the boundary crossing probabilities of an Ornstein-Unlenbeck process to a constant boundary are only known in the form of Laplace transform. \cite{daniels1969minimum} studies the probability that an Ornstein-Uhlenbeck process crosses a certain curved boundary, by equating it to the corresponding probability for a Wiener process to cross a transformed boundary which is chosen to yield an explicit formula. \cite{nobile1985exponential} investigate the asymptotic behaviour of the first-passage time (FPT) probability distribution function (pdf) to a large constant boundary by an Ornsteinâ€“Uhlenbeck process. The boundary crossing probabilities of a jump diffusion process with linear drift to a constant boundary are obtained in the form of Laplace transform (see \cite{kou2003first}). Finally, \cite{borovkov2008exit} find an explicit formula for the Laplace transform of the FPT of Levy-driven Ornsteinâ€“Uhlenbeck processes to a two-sided constant boundary under the assumption that positive jumps of the Levy process are exponentially distributed. 
 
Since there is no available explicit formula in general, there is a large literature on approximating and computing numerically these boundary crossing probabilities (\ref{def_bcp})-(\ref{def_bcp2}). When $Z$ is a standard Wiener process, \cite{strassen1967almost} (Lemma 3.3, p. 323) shows that $P_g^Z$ is continuous with continuous derivative when $g$ is continuous with continuous derivative. \cite{durbin1971boundary}, \cite{wang1997boundary} and \cite{novikov1999approximations} use piecewise-linear boundaries to approximate the general boundaries. \cite{durbin1985first} gives
a formula for a general boundary but which depends on asymptotic conditional expectations whose approximations are studied in
\cite{salminen1988first}. \cite{buonocore1987new}, \cite{giorno1989evaluation} and \cite{gutierrez1997first} consider the case when $Z$ is a general diffusion.

In this paper, we derive an explicit formula for these boundary crossing probabilities (\ref{def_bcp})-(\ref{def_bcp2}). We obtain that the boundary crossing probability of a continuous local martingale to a constant boundary is equal to the boundary crossing probability of a standard Wiener process to a constant boundary up to a time change of quadratic variation value. More specifically, we obtain that 
$$P_g^Z (t)  =  P_g^W \big(\langle Z\rangle_{t}\big)$$ 
for $t \geq 0$, where $W$ is defined as a standard Wiener process, in the case when the one-sided boundary is nonrandom and the quadratic variation is a time-varying function but not a stochastic process (see Theorem \ref{theorem_nrc1}). This relies on the constancy of the boundary and the Dambis, Dubins-Schwarz theorem for continuous local martingale. The main idea of the proof is the scale invariant property of the time-changed Wiener process and thus the scale invariant property of the FPT. 

The main result of this paper adapts to the two-sided constant boundary case since the arguments of boundary constancy and Dambis, Dubins-Schwarz theorem still hold. We obtain that 
$$P_{g,h}^Z (t)  =  P_{g,h}^W \big(\langle Z\rangle_{t}\big)$$ 
for $t \geq 0$ in the case when the two-sided boundary is nonrandom and the quadratic variation is a time-varying function but not a stochastic process (see Theorem \ref{theorem_nrc2}). 

To apply the Dambis, Dubins-Schwarz theorem when the one-sided boundary is random and the quadratic variation is a stochastic process, the main idea is to rewrite the FPT to a random boundary as an equivalent FPT to a nonrandom boundary, i.e., by defining the new stochastic process as $Y = \frac{W}{g}$. If we define the set of nonrandom nondecreasing functions as $\mathcal{I}(\reels^+,\reels^+)$ and the distribution of $\langle Y\rangle$ as $F_{\langle Y\rangle}$, we get $P_1^Y$ by integrating 
$$\proba (\sup_{0 \leq s \leq t} Y_s \geq g |\langle Y\rangle=y)$$ 
with respect to the value of $y \in \mathcal{I}(\reels^+,\reels^+)$. We obtain that
\begin{eqnarray*}
P_1^Y (t) & = & \int_{\mathcal{I}(\reels^+,\reels^+)} P_1^W \big(y_t\big) dF_{\langle Y\rangle}(y)\text{ for } t \geq 0
\end{eqnarray*}
(see Theorem \ref{theorem_rc1}).

To apply the Dambis, Dubins-Schwarz theorem when the two-sided boundary is random and the quadratic variation is a stochastic process, we cannot rewrite the FPT to a random two-sided boundary as an equivalent FPT to a nonrandom two-sided boundary since there are two boundaries. However, we are able to adapt the arguments with a two-sided boundary. We define $u=(g,h,\langle Z\rangle)$, its distribution as $F_{u}$ and $\mathcal{S} = \mathcal{J} \times \mathcal{I}(\reels^+,\reels^+)$. We get $P_{g,h}^Z$ by integrating 
$$\proba (\sup_{0 \leq s \leq t} Z_s   \geq g \text{ or } \inf_{0 \leq s \leq t} Z_s  \leq h | u=(g_0,h_0,z))$$ with respect to the value of $(g_0,h_0,z) \in \mathcal{S}$.
If we assume that the stochastic process $Z$ is independent from the two-sided boundary $(g,h)$, we have that
\begin{eqnarray}
\label{eq_theorem_rc2}
P_{g,h}^Z (t) & = & \int_{\mathcal{S}} P_{g_0,h_0}^W \big(z_t\big) dF_{u}(g_0,h_0,z)\text{ for } t \geq 0
\end{eqnarray}
(see Theorem \ref{theorem_rc2}).

\section{One-sided nonrandom boundary case}
In this section, we consider the case when the one-sided boundary is nonrandom constant, and the quadratic variation of the continuous local martingale is a time-varying function but not a stochastic process. 

We consider the complete stochastic basis $\mathcal{B} = (\Omega, \proba, \Sigma, \mathcal{F})$, where $\Sigma$ is a $\sigma$-field and $\mathcal{F} = (\mathcal{F}_t)_{t \in \reels^+}$ is a filtration. For $A \subset \reels^+$ and $B \subset \reels$ such that $0 \in A$, we define the set of nonrandom constant functions as $\mathcal{K}(A,B)$. We first give the definition of the set of boundary functions. 
\begin{definition}\label{defboundaryset_nrc1}
We define the set of nonrandom constant boundary functions as $\mathcal{G} = \mathcal{K} (\reels^+,\reels_*^+).$
\end{definition}
\noindent Since we consider constant boundary functions, we will abuse notation and identify $g \in \mathcal{G}$ with $g \in \reels_*^+$. We now give the definition of the FPT. 
\begin{definition}\label{defFPT_nrc1}
We define the FPT of an $\mathcal{F}$-adapted continuous stochastic process $(Z_t)_{t \in \reels^+}$ started at 0, i.e., with $Z_0=0$, to a nonrandom constant boundary
$g \in \mathcal{G}$ as
\begin{eqnarray}
\label{TgZdef_nrc1}
\Tau_g^Z = \inf \{t \in \reels^+ \text{ s.t. } Z_t \geq g\}.
\end{eqnarray}
\end{definition}
\noindent Since $Z$ is a continuous and 
$\mathcal{F}$-adapted stochastic process, and $\inf \{t \in \reels^+ \text{ s.t. } Z_t \geq g\} = \inf \{t \in \reels^+ \text{ s.t. } Z_t > g\} = \inf \{t \in \reels^+ \text{ s.t. } Z_t \in G\}$ where $G= \{(t,u) \in \reels^+ \times \reels \text{ s.t. } u > g\}$ is an open subset of $\reels^2$, the FPT $\Tau_{g}^{Z}$ is an $\mathcal{F}$-stopping time by Theorem I.1.28(a) (p. 7) in \cite{JacodLimit2003}. We can rewrite the boundary crossing probability $P_g^Z$ as the cumulative distribution function (cdf) of $\Tau_g^Z$, i.e., 
\begin{eqnarray}
\label{PgZdef_nrc1}
P_g^Z(t)= \proba (\Tau^Z_g \leq t) \text{ for any } t \geq 0.
\end{eqnarray}
If the cdf is absolutely continuous, we can also define its pdf $f_g^Z: \reels^+  \rightarrow  \reels^+$ as
\begin{eqnarray}
\label{fZgt_nrc1}
f_g^Z(t) & = & \frac{dP_g^Z(t)}{dt}.
\end{eqnarray}
We define an $\mathcal{F}$-adapted standard Wiener process as $(W_t)_{t \in \reels^+}$. We first consider the case when the stochastic process is a standard Wiener process, i.e., when $Z_t = W_t$ for any $t \in \reels^+$. The next lemma gives an explicit formula of $P_g^Z$ and $f_g^Z$, e.g., Levy distribution, which are known results by integrating the explicit formula conditioned on the final value of the Wiener process \cite{malmquist1954certain} (p. 526) with respect to the Wiener process final value as in \cite{wang1997boundary} (Equations (3), p. 55).
%We also define $\mathrm{ss}_{t}(v, w)$ as
%\begin{eqnarray}
%\label{sst}
% \displaystyle \mathrm{ss}_{t}(v, w)=\sum_{k=-\infty}^{\infty} \frac{w-v+2 k w}{\sqrt{2 \pi} t^{3 / 2}} e^{-(w-v+2 k w)^{2} / 2 t} \text{ for any } 0<v<w .  
%\end{eqnarray}
We define the standard normal cdf as 
\begin{eqnarray}
\label{def_standardgaussian}
\phi (t)=\int_{-\infty}^{t} \frac{1}{\sqrt{2 \pi}} exp{\big(-\frac{u^2}{2}\big)}  du 
\end{eqnarray}
for any $t \in \reels^+$.
\begin{lemma}
\label{lemma_nrc1} We obtain a Levy distribution with $P_g^W (0)  =  0$, $f_g^W (0)  =  0$, 
\begin{eqnarray}
 \label{eqP_lemma_nrc1}
P_g^W (t) & = & 1 - \Phi \left(\frac{g}{\sqrt{t}}\right) + \Phi \left(\frac{-g}{\sqrt{t}}\right) \text{ for } t>0,\\
\label{eqf_lemma_nrc1} f_g^W (t) & = & \frac{g}{\sqrt{2 \pi t^3}} e^{\frac{-g^2}{2t}} \text{ for } t>0.
\end{eqnarray}
%In the upper and lower boundary case, we obtain that $f_g^W (0)  =  0$, $P_g^W (0)  =  0$,
%\begin{eqnarray}
%\label{fgWex21} f_g^W (t) & = & \operatorname{ss}_t\left(g,g-g^{(1)}\right)+\operatorname{ss}_t\left(-g^{(1)},g-g^{(1)}\right),\\
%P_g^W (t) & = &\sum_{k=-\infty}^{\infty}{\left(2-\operatorname{erf}\left(\frac{-g^{(1)}+2k(g-g^{(1)})}{\sqrt{2t}}\right)-\operatorname{erf}\left(\frac{g+2k(g-g^{(1)})}{\sqrt{2t}}\right)\right)}.
%\end{eqnarray}
\end{lemma}
\begin{proof}[Proof of Lemma \ref{lemma_nrc1}]
By \cite{malmquist1954certain} (Theorem 1, p. 526), we have that the probability that a standard Wiener process crosses a constant boundary $g$ conditioned on its arrival value $x$ at arrival time $T$ is given by
\begin{eqnarray}
\label{malmquisteq0}
\proba (\Tau^Z_g \leq T | W_T = x) = \exp{\Big(-\frac{2g(g-x)}{T}\Big)}\mathbf{1}_{\{x \leq g\}} + \mathbf{1}_{\{x > g\}}
\end{eqnarray}
for any $x \in \reels$. \cite{wang1997boundary} (Equations (3), p. 55) integrate Equation (\ref{malmquisteq0}) with respect to the Wiener process arrival value $s$ and derive the cdf as $P_g^W (0)  =  0$ and Equation (\ref{eqP_lemma_nrc1}). Then, we can deduce the pdf for $t>0$ as
\begin{align*}
f_g^W(t)&=\frac{d}{dt} P_g^W(t)\\
&=\frac{d}{dt}\left(1 - \Phi \left(\frac{g}{\sqrt{t}}\right) + \Phi \left(\frac{-g}{\sqrt{t}}\right)\right)\\
&=\frac{d}{dt}\left(1 - \int_{- \infty}^{\frac{g}{\sqrt{t}}} {\displaystyle {\frac {1}{ {\sqrt {2\pi }}}}e^{-{\frac {u^2}{2}}}} du + \int_{- \infty}^{\frac{- g}{\sqrt{t}}} {\displaystyle {\frac {1}{ {\sqrt {2\pi }}}}e^{-{\frac {u^2}{2}}}} du \right)\\ &=\frac{ge^{-\frac{g^2}{2t}}}{\sqrt{2\pi t^3}},
\end{align*}
where we use Equation (\ref{fZgt_nrc1}) in the first equality, Equation (\ref{eqP_lemma_nrc1}) in the second equality, Equation (\ref{def_standardgaussian}) in the third equality, the fundamental theorem of calculus along with the chain rule in the fourth equality. We have thus shown Equation (\ref{eqf_lemma_nrc1}). 

%We consider now the upper and lower boundary case. In view of \cite{anderson1960modification} (Theorem 5.1, p. 191), we can deduce Equation (\ref{fgWex21}). We provide the derivation of $P_g^W(t)$ in what follows. In order to integrate $f_g^W(t)$, i.e., Equation (\ref{fgWex21}), we first derive the integral of $\operatorname{ss}_t(v,w)$ for any $0<v<w$ as
%\begin{eqnarray}
%\nonumber \int_0^t{\mathrm{ss}_{x}(v, w)dx}&=&\sum_{k=-\infty}^{\infty}\frac{w-v+2kw}{\sqrt{2\pi}}\int_0^t{x^{-3/2}e^{-(w-v+2kw)^{2}/2x}dx}\\ \label{intssx}
%&=&\sum_{k=-\infty}^{\infty}\left(1-\operatorname{erf}\left(\frac{w-v+2kw}{\sqrt{2t}}\right)\right),
%\end{eqnarray}
%where we use Equation (\ref{sst}) in the first equality and Equation (\ref{erf}) in the second equality. 
%Then, we can obtain $P_g^W (0)  = 0$ and $P_g^W(t)$ by integrating Equation (\ref{fgWex21}) with the use of Equation (\ref{intssx}) for any $t>0$ in the first equality and algebraic manipulation in the second equality:
%\begin{align*}
%P_g^W (t) &= \sum_{k=-\infty}^{\infty}{\left(1-\operatorname{erf}\left(\frac{-g^{(1)}+2k(g-g^{(1)})}{\sqrt{2t}}\right)\right)}+\sum_{k=-\infty}^{\infty}{\left(1-\operatorname{erf}\left(\frac{g+2k(g-g^{(1)})}{\sqrt{2t}}\right)\right)}\\
%&=\sum_{k=-\infty}^{\infty}{\left(2-\operatorname{erf}\left(\frac{-g^{(1)}+2k(g-g^{(1)})}{\sqrt{2t}}\right)-\operatorname{erf}\left(\frac{g+2k(g-g^{(1)})}{\sqrt{2t}}\right)\right)}.
%\end{align*}
\end{proof}
\noindent The main result of this paper in the simplest case, i.e., Theorem \ref{theorem_nrc1}, states that the boundary crossing probability of a continuous local martingale to a constant boundary is equal to the boundary crossing probability of a standard Wiener process to a constant boundary up to a time change of quadratic variation value. It relies on the constancy of the boundary and Dambis, Dubins-Schwarz theorem for continuous local martingale (Th. V.1.6 in \cite{revuz2013continuous}).  Accordingly, we provide the assumption on the continuous local martingale which is required to apply Dambis, Dubins-Schwarz theorem.
\begin{proof}[\textbf{Assumption A}]
We assume that $Z$ is a continuous $\mathcal{F}$-adapted local martingale with nonrandom quadratic variation $\langle Z\rangle$ and such that $Z_0=0$ and $\langle Z\rangle_{\infty} = \infty$.
\phantom\qedhere
\end{proof} 
\begin{example}
We can consider a continuous It\^{o} process with no drift of the form 
\begin{eqnarray}
\label{Xdef}
Z_t = \int_0^t \sigma_s dW_s \text{ for } t \geq 0,
\end{eqnarray}
where $\sigma : \reels^+ \rightarrow \reels $ is a nonrandom function. For any function $h:  \reels^+ \rightarrow  \reels^+$, $a \mapsto h(a)$, and any $A \subset \reels^+$, we define the restriction of $h$ to $A$ as $h \restriction_A$ such that $h \restriction_A:  A \rightarrow  \reels^+$, $ a \mapsto h(a)$. For  $p \in \reels$, $p \geq 1$, we define the set of p-integrable functions and the set of locally p-integrable functions as respectively
\begin{eqnarray*}
L_{p}(A) & =& \bigl\{h:A\to\reels^+ \text{ measurable s.t. }\,\int_A | h(x)|^p \,\mathrm{d}x <+\infty\bigr\} \text{ for } A \subset \reels^+  \text{ measurable},\\
L_{p,\mathrm{loc}}(\reels^+) & =& \bigl\{h:\reels^+\to\reels^+ \text{ measurable s.t. }\,h \restriction_K \in L_p(K)\ \forall\, K \subset \reels^+,\, K \text{ compact}\bigr\}.
\end{eqnarray*}
If we assume that $\sigma \in L_{2,\mathrm{loc}}(\reels^{+})$, then $Z$ is a local martingale with nonrandom quadratic variation $\langle Z\rangle_{t} = \int_0^t \sigma_u^2 du$ by Theorem I.4.40 (p. 48) in \cite{JacodLimit2003}. If we further assume that $\int_0^t \sigma_u^2 du \rightarrow \infty$ as $t \rightarrow \infty$, we have that $Z$ satisfies \textbf{Assumption A}.
\end{example}
\noindent The main idea to prove Theorem \ref{theorem_nrc1} is the scale invariant property of the time-changed Wiener process and thus the scale invariant property of the FPT. More specifically, we can apply by \textbf{Assumption A} the Dambis, Dubins-Schwarz theorem for continuous local martingale. We define the generalized inverse function of the non-decreasing function $\langle Z\rangle$ for any $t \geq0$ as 
$$\langle Z\rangle_{t}^{-1}=\inf\{s \geq 0 \text{ s.t. }\langle Z\rangle_{s}>t\}.$$ 
We also define the canonical filtration of any stochastic process $Z$ as $\mathcal{F}_t^Z = \sigma \big(Z(C), C \in \mathcal{B}(\reels^+), C \subset [0,t] \big)$, where $\mathcal{B}(\reels^+)$ is the usual Borel $\sigma$-field generated by the open sets of $\reels^+$. Then $(B_{t})_{t\geq 0}=(Z_{\langle Z\rangle_{t}^{-1}})_{t\geq 0}$ is a $({\mathcal {F}}_t^{\langle Z\rangle^{-1}})_{t\geq 0}$-Wiener process and 
\begin{eqnarray}
\label{proof230110}
Z_{t}=B_{\langle Z\rangle_{t}} \text{ for } t \geq 0.
\end{eqnarray}
\begin{lemma}
\label{lemmaDDS_nrc1}
Under \textbf{Assumption A}, we have that
\begin{eqnarray}
\label{eq_lemmaDDS_nrc1}
\big\{ \Tau_g^Z =t \big\} & = & \big\{ \Tau_g^B = \langle Z\rangle_{t} \big\} \text{ for } t \geq 0.
\end{eqnarray}
\end{lemma}
\begin{proof}[Proof of Lemma \ref{lemmaDDS_nrc1}]
We have that for any $t \geq 0$
\begin{eqnarray}
\nonumber \big\{ \Tau_g^Z =t \big\} 
& = & \big\{ \inf \{s \geq 0 \text{ s.t. } Z_s \geq g\} = t \big\}\\ \label{eq_proof_lemmaDDS_nrc1} 
& = & \big\{ \inf \{s \geq 0\text{ s.t. } B_{\langle Z\rangle_{s}} \geq g\} = t \big\},
\end{eqnarray}
where we use Equation (\ref{TgZdef_nrc1}) in the first equality, and Equation (\ref{proof230110}) in the second equality. Since $B$ is a $({\mathcal {F}}_{\langle Z\rangle_{t}^{-1}})_{t\geq 0}$-Wiener process, $W$ is an $({\mathcal {F}}_{t})_{t\geq 0}$-Wiener process and the boundary is constant, we can use a time change of quadratic variation $\langle Z\rangle_t$ value to obtain that
\begin{eqnarray}
\label{eq_proof_lemmaDDS_nrc2} \big\{ \inf \{s \geq 0\text{ s.t. } B_{\langle Z\rangle_{s}} \geq g\} = t \big\} = \big\{\inf \{s \geq 0 \text{ s.t. } B_s \geq g \} = \langle Z\rangle_t \big\}.
\end{eqnarray}
Then, we can calculate by Equation (\ref{TgZdef_nrc1}) that
\begin{eqnarray}
\label{eq_proof_lemmaDDS_nrc3} \big\{\inf \{s \geq 0 \text{ s.t. } B_s \geq g \} = \langle Z\rangle_t \big\} & = & \big\{ \Tau^B_g = \langle Z\rangle_t \big\}, 
\end{eqnarray}
By Equations (\ref{eq_proof_lemmaDDS_nrc1}), (\ref{eq_proof_lemmaDDS_nrc2}) and (\ref{eq_proof_lemmaDDS_nrc3}), we can deduce Equation (\ref{eq_lemmaDDS_nrc1}).
\end{proof}

\begin{theorem}
\label{theorem_nrc1}
Under \textbf{Assumption A}, we have that
\begin{eqnarray}
\label{eq_theorem_nrc1}
P_g^Z (t) & = & P_g^W \big(\langle Z\rangle_{t}\big) \text{ for } t \geq 0.
\end{eqnarray}
\end{theorem}
\begin{proof}[Proof of Theorem \ref{theorem_nrc1}]
We have that for any $t \geq 0$
\begin{eqnarray}
\nonumber P_g^Z(t) & = & \proba (\Tau^Z_g \leq t)\\ \nonumber 
& = & \proba \big(\inf \{s \geq 0 \text{ s.t. } Z_s \geq g\} \leq t \big)\\ \label{eq_proof_theorem_nrc1} 
& = & \proba \big(\inf \{s \geq 0\text{ s.t. } B_{\langle Z\rangle_{s}} \geq g\} \leq t\big),
\end{eqnarray}
where we use Equation (\ref{PgZdef_nrc1}) in the first equality, Equation (\ref{TgZdef_nrc1}) in the second equality, and Equation (\ref{proof230110}) in the third equality. By Lemma \ref{lemmaDDS_nrc1} along with \textbf{Assumption A}, we obtain that
\begin{eqnarray}
\label{eq_proof_theorem_nrc2}\proba \Big(\inf \{s \geq 0 \text{ s.t. } B_{\langle Z\rangle_s}\geq g\} \leq t \Big)=\proba \Big(\inf \{s \geq 0 \text{ s.t. } B_s \geq g \} \leq \langle Z\rangle_t \Big).
\end{eqnarray}
Then, we can calculate that
\begin{eqnarray}
\nonumber \proba \Big(\inf \{s \geq 0 \text{ s.t. } B_s \geq g \} \leq \langle Z\rangle_t \Big)& = & \proba \Big(\inf \{s \geq 0 \text{ s.t. } W_s \geq g \} \leq \langle Z\rangle_t \Big)\\ \nonumber & = &\proba \Big(\Tau^W_g \leq \langle Z\rangle_t\Big),\\ \label{eq_proof_theorem_nrc3}
& = & P_g^W\big(\langle Z\rangle_t\big), 
\end{eqnarray}
where we use the fact that $B$ and $W$ have the same distribution in the first equality, Equation (\ref{TgZdef_nrc1}) in the second equality, and Equation (\ref{PgZdef_nrc1}) in the third equality. By Equations (\ref{eq_proof_theorem_nrc1}), (\ref{eq_proof_theorem_nrc2}) and (\ref{eq_proof_theorem_nrc3}), we can deduce Equation (\ref{eq_theorem_nrc1}).
\end{proof}
\noindent As a corollary, we obtain the pdf of the FPT of a continuous local martingale to a constant boundary if we assume that the quadratic variation is absolutely continuous.
\begin{corollary}
\label{corollary_nrc1}
Under \textbf{Assumption A} and if we assume that the quadratic variation $\langle Z\rangle$ is absolutely continuous on $\reels^+$, we have that
\begin{eqnarray}
\label{eq_corollary_nrc1}
f_g^X (t) & = & \langle Z\rangle_t ' f_g^W \big(\langle Z\rangle_t\big) \text{ for } t \geq 0.
\end{eqnarray}
\end{corollary}
\begin{proof}[Proof of Corollary \ref{corollary_nrc1}]
We have for $t \geq 0$
\begin{eqnarray*}
f_g^X (t) & = & \frac{dP_g^X(t)}{dt}\\
& = & \frac{d(P_g^W(\langle Z\rangle_t))}{dt}\\
& = & \langle Z\rangle_t ' f_g^W \big(\langle Z\rangle_t\big),
\end{eqnarray*}
where we use Equation (\ref{fZgt_nrc1}) in the first equality, Equation (\ref{eq_theorem_nrc1}) from Theorem \ref{theorem_nrc1} along with \textbf{Assumption A} in the second equality, and the fundamental theorem of calculus along with chain rule and the assumption that the quadratic variation $\langle Z\rangle$ is absolutely continuous on $\reels^+$ in the third equality.
\end{proof}

\section{Two-sided nonrandom boundary case}
In this section, we consider the case when the two-sided boundary is nonrandom constant, and the quadratic variation of the continuous local martingale is a time-varying function but not a stochastic process. 

We first give the definition of the set of two-sided boundary functions. 
\begin{definition}\label{defboundaryset_nrc2}
We define the set of nonrandom constant two-sided boundary functions as $\mathcal{H} = \mathcal{K} (\reels^+,\reels_*^+) \times \mathcal{K} (\reels^+,\reels_*^-).$
\end{definition} 
\begin{definition}\label{defFPT_nrc2}
We define the FPT of an $\mathcal{F}$-adapted continuous stochastic process $(Z_t)_{t \in \reels^+}$ started at 0, i.e., with $Z_0=0$, to a nonrandom constant two-sided boundary
$(g,h) \in \mathcal{H}$ as
\begin{eqnarray}
\label{TgZdef_nrc2}
\Tau_{g,h}^Z = \inf \{t \in \reels^+ \text{ s.t. } Z_t \geq g \text{ or } Z_t \leq h \}.
\end{eqnarray}
\end{definition}
\noindent Since $Z$ is a continuous and 
$\mathcal{F}$-adapted stochastic process and $\inf \{t \in \reels^+ \text{ s.t. } Z_t \geq g \text{ or } Z_t \leq h \} = \inf \{t \in \reels^+ \text{ s.t. } Z_t > g \text{ or } Z_t < h \} = \inf \{t \in \reels^+ \text{ s.t. } Z_t \in G\}$ where $G= \{(t,u) \in \reels^+ \times \reels \text{ s.t. } u > g \text{ or } u < h \}$ is an open subset of $\reels^2$, the FPT $\Tau_{g,h}^{Z}$ is an $\mathcal{F}$-stopping time by Theorem I.1.28(a) (p. 7) in \cite{JacodLimit2003}. We can rewrite the boundary crossing probability $P_{g,h}^Z$ as the cdf of $\Tau_{g,h}^Z$, i.e., 
\begin{eqnarray}
\label{PgZdef_nrc2}
P_{g,h}^Z(t)= \proba (\Tau^Z_{g,h} \leq t) \text{ for any } t \geq 0.
\end{eqnarray}
If the cdf is absolutely continuous, we can also define its pdf $f_{g,h}^Z: \reels^+  \rightarrow  \reels^+$ as
\begin{eqnarray}
\label{fZgt_nrc2}
f_{g,h}^Z(t) & = & \frac{dP_{g,h}^Z(t)}{dt}.
\end{eqnarray}
We first consider the case when the stochastic process is a standard Wiener process, i.e., when $Z_t = W_t$ for any $t \in \reels^+$. The next lemma gives an explicit formula of $P_{g,h}^Z$ and $f_{g,h}^Z$ which are respectively known results from Theorem 4.3 (p. 180) and Theorem 5.1 (p. 191) in \cite{anderson1960modification}.
We define $\mathrm{ss}_{t}(v, w)$ as
\begin{eqnarray}
\label{sst}
 \displaystyle \mathrm{ss}_{t}(v, w)=\sum_{k=-\infty}^{\infty} \frac{w-v+2 k w}{\sqrt{2 \pi} t^{3 / 2}} e^{-(w-v+2 k w)^{2} / 2 t} \text{ for any } 0<v<w .  
\end{eqnarray}

\begin{lemma}
\label{lemma_nrc2} We obtain that $P_{g,h}^W (0)  =  0$, $f_{g,h}^W (0)  =  0$, 
\begin{eqnarray}
\label{eqP_lemma_nrc2} P_{g,h}^W (t) & = &\sum_{k=-\infty}^{\infty}{\left(4-2\phi\left(\frac{-h+2k(g-h)}{\sqrt{t}}\right)-2\phi\left(\frac{g+2k(g-h)}{\sqrt{t}}\right)\right)},\\
\label{eqf_lemma_nrc2} f_{g,h}^W (t) & = & \operatorname{ss}_t\left(g,g-h\right)+\operatorname{ss}_t\left(-h,g-h\right).
\end{eqnarray}
\end{lemma}
\begin{proof}[Proof of Lemma \ref{lemma_nrc2}] Equation (\ref{eqf_lemma_nrc2}) is a more compact form of the explicit formulae (4.3)-(4.4) (Theorem 5.1, p. 191) in \cite{anderson1960modification}. Then, we derive the integral of $\operatorname{ss}(v,w)$ for any $0<v<w$ as
\begin{eqnarray}
\nonumber \int_0^t{\mathrm{ss}_{x}(v, w)dx}&=&\sum_{k=-\infty}^{\infty}\frac{w-v+2kw}{\sqrt{2\pi}}\int_0^t{x^{-3/2}e^{-(w-v+2kw)^{2}/2x}dx}\\ \label{intssx}
&=&\sum_{k=-\infty}^{\infty}\left(2-2 \phi\left(\frac{w-v+2kw}{\sqrt{t}}\right)\right),
\end{eqnarray}
where we use Equation (\ref{sst}) in the first equality. Then, we can obtain $P_{g,h}^W (0)  = 0$ and Equation (\ref{eqP_lemma_nrc2}) by integrating Equation (\ref{eqf_lemma_nrc2}) with the use of Equation (\ref{intssx}) for any $t>0$.
\end{proof}
\noindent The main result of this paper adapts to the two-sided constant boundary case since the arguments of boundary constancy and Dambis, Dubins-Schwarz theorem still hold. More specifically, we can apply by \textbf{Assumption A} the Dambis, Dubins-Schwarz theorem for continuous local martingale. We define the generalized inverse function of the non-decreasing function $\langle Z\rangle$ for any $t \geq0$ as 
$$\langle Z\rangle_{t}^{-1}=\inf\{s \geq 0 \text{ s.t. }\langle Z\rangle_{s}>t\}.$$ 
Then $(B_{t})_{t\geq 0}=(Z_{\langle Z\rangle_{t}^{-1}})_{t\geq 0}$ is a $({\mathcal {F}}_t^{\langle Z\rangle^{-1}})_{t\geq 0}$-Wiener process and 
\begin{eqnarray}
\label{proof230110_nrc2}
Z_{t}=B_{\langle Z\rangle_{t}} \text{ for } t \geq 0.
\end{eqnarray}
\begin{lemma}
\label{lemmaDDS_nrc2}
Under \textbf{Assumption A}, we have that
\begin{eqnarray}
\label{eq_lemmaDDS_nrc2}
\big\{ \Tau_{g,h}^Z =t \big\} & = & \big\{ \Tau_{g,h}^B = \langle Z\rangle_{t} \big\} \text{ for } t \geq 0.
\end{eqnarray}
\end{lemma}
\begin{proof}[Proof of Lemma \ref{lemmaDDS_nrc2}]
We have that for any $t \geq 0$
\begin{eqnarray}
\nonumber \big\{ \Tau_{g,h}^Z =t \big\} 
& = & \big\{ \inf \{s \geq 0 \text{ s.t. } Z_s \geq g \text{ or } Z_s \leq h\} = t \big\}\\ \label{eq_proof_lemmaDDS_nrc21} 
& = & \big\{ \inf \{s \geq 0\text{ s.t. } B_{\langle Z\rangle_{s}} \geq g \text{ or } B_{\langle Z\rangle_{s}} \leq h\} = t \big\},
\end{eqnarray}
where we use Equation (\ref{TgZdef_nrc2}) in the first equality, and Equation (\ref{proof230110_nrc2}) in the second equality. Since $B$ is a $({\mathcal {F}}_{\langle Z\rangle_{t}^{-1}})_{t\geq 0}$-Wiener process, $W$ is an $({\mathcal {F}}_{t})_{t\geq 0}$-Wiener process and the two-sided boundary is constant, we can use a time change of quadratic variation $\langle Z\rangle_t$ value to obtain that
\begin{eqnarray}
\label{eq_proof_lemmaDDS_nrc22} \big\{ \inf \{s \geq 0\text{ s.t. } B_{\langle Z\rangle_{s}} \geq g \text{ or } B_{\langle Z\rangle_{s}} \leq h\} = t \big\} \\ \nonumber = \big\{\inf \{s \geq 0 \text{ s.t. } B_s \geq g \text{ or } B_{s} \leq h \} = \langle Z\rangle_t \big\}.
\end{eqnarray}
Then, we can calculate by Equation (\ref{TgZdef_nrc2}) that
\begin{eqnarray}
\label{eq_proof_lemmaDDS_nrc23} \big\{\inf \{s \geq 0 \text{ s.t. } B_s \geq g \text{ or } B_{s} \leq h \} = \langle Z\rangle_t \big\} & = & \big\{ \Tau^B_{g,h} = \langle Z\rangle_t \big\}. 
\end{eqnarray}
By Equations (\ref{eq_proof_lemmaDDS_nrc21}), (\ref{eq_proof_lemmaDDS_nrc22}) and (\ref{eq_proof_lemmaDDS_nrc23}), we can deduce Equation (\ref{eq_lemmaDDS_nrc2}).
\end{proof}
\begin{theorem}
\label{theorem_nrc2}
Under \textbf{Assumption A}, we have that
\begin{eqnarray}
\label{eq_theorem_nrc2}
P_{g,h}^Z (t) & = & P_{g,h}^W \big(\langle Z\rangle_{t}\big) \text{ for } t \geq 0.
\end{eqnarray}
\end{theorem}
\begin{proof}[Proof of Theorem \ref{theorem_nrc2}] We have that for any $t \geq 0$
\begin{eqnarray}
\nonumber P_{g,h}^Z(t) & = & \proba (\Tau^Z_{g,h} \leq t)\\ \nonumber 
& = & \proba \big(\inf \{s \geq 0 \text{ s.t. } Z_s \geq g \text{ or } Z_s \leq h\} \leq t \big)\\ \label{eq_proof_theorem_nrc21} 
& = & \proba \big(\inf \{s \geq 0\text{ s.t. } B_{\langle Z\rangle_{s}} \geq g \text{ or } B_{\langle Z\rangle_{s}} \leq h\} \leq t\big),
\end{eqnarray}
where we use Equation (\ref{PgZdef_nrc2}) in the first equality, Equation (\ref{TgZdef_nrc2}) in the second equality, and Equation (\ref{proof230110_nrc2}) in the third equality. By Lemma \ref{lemmaDDS_nrc2} along with \textbf{Assumption A}, we obtain that
\begin{eqnarray}
\label{eq_proof_theorem_nrc22}\proba \Big(\inf \{s \geq 0 \text{ s.t. } B_{\langle Z\rangle_s}\geq g \text{ or } B_{\langle Z\rangle_{s}} \leq h\} \leq t \Big) \\ \nonumber =\proba \Big(\inf \{s \geq 0 \text{ s.t. } B_s \geq g \text{ or } B_s \leq h \} \leq \langle Z\rangle_t \Big).
\end{eqnarray}
Then, we can calculate that
\begin{eqnarray}
\nonumber & & \proba \Big(\inf \{s \geq 0 \text{ s.t. } B_s \geq g \text{ or } B_s \leq h \} \leq \langle Z\rangle_t \Big)\\
\nonumber &=& \proba \Big(\inf \{s \geq 0 \text{ s.t. } W_s \geq g \text{ or } W_s \leq h\} \leq \langle Z\rangle_t \Big)\\ \nonumber & = & \proba \Big(\Tau^W_{g,h} \leq \langle Z\rangle_t\Big),\\ \label{eq_proof_theorem_nrc23}
& = & P_{g,h}^W\big(\langle Z\rangle_t\big), 
\end{eqnarray}
where we use the fact that $B$ and $W$ have the same distribution in the second equality, Equation (\ref{TgZdef_nrc2}) in the third equality, and Equation (\ref{PgZdef_nrc2}) in the fourth equality. By Equations (\ref{eq_proof_theorem_nrc21}), (\ref{eq_proof_theorem_nrc22}) and (\ref{eq_proof_theorem_nrc23}), we can deduce Equation (\ref{eq_theorem_nrc2}).
\end{proof}

\begin{corollary}
\label{corollary_nrc2}
Under \textbf{Assumption A} and if we assume that the quadratic variation $\langle Z\rangle$ is absolutely continuous on $\reels^+$, we have that
\begin{eqnarray}
\label{eq_corollary_nrc2}
f_{g,h}^X (t) & = & \langle Z\rangle_t ' f_{g,h}^W \big(\langle Z\rangle_t\big) \text{ for } t \geq 0.
\end{eqnarray}
\end{corollary}
\begin{proof}[Proof of Corollary \ref{corollary_nrc1}]
We have for $t \geq 0$
\begin{eqnarray*}
f_{g,h}^X (t) & = & \frac{dP_{g,h}^X(t)}{dt}\\
& = & \frac{d(P_{g,h}^W(\langle Z\rangle_t))}{dt}\\
& = & \langle Z\rangle_t ' f_{g,h}^W \big(\langle Z\rangle_t\big),
\end{eqnarray*}
where we use Equation (\ref{fZgt_nrc2}) in the first equality, Equation (\ref{eq_theorem_nrc2}) from Theorem \ref{theorem_nrc2} along with \textbf{Assumption A} in the second equality, and the fundamental theorem of calculus along with chain rule  and the assumption that the quadratic variation $\langle Z\rangle$ is absolutely continuous on $\reels^+$ in the third equality.
\end{proof}

\section{One-sided random boundary case}
In this section, we consider the case when the one-sided boundary is random constant, and the quadratic variation of the continuous local martingale is a stochastic process.

\begin{definition}\label{defboundaryset_rc1}
We define the set of random constant boundary functions as $\mathcal{I} = \big\{ \reels^+ \times \Omega \rightarrow \reels_*^+$ such that for any $g \in \mathcal{I}$ and $\omega \in \Omega$ we have $g(\omega) \in \mathcal{G}$\big\}.
\end{definition}
 
\begin{definition}\label{defFPT_rc1}
We define the FPT of an $\mathcal{F}$-adapted continuous stochastic process $(Z_t)_{t \in \reels^+}$ started at 0, i.e., with $Z_0=0$, to a random constant boundary
$g \in \mathcal{I}$ as
\begin{eqnarray}
\label{TgZdef_rc1}
\Tau_g^Z = \inf \{t \in \reels^+ \text{ s.t. } Z_t \geq g\}.
\end{eqnarray}
\end{definition}
\noindent Since $Z-g$ is an $\mathcal{F}$-adapted continuous stochastic process and $\inf \{t \in \reels^+ \text{ s.t. } Z_t \geq g\} = \inf \{t \in \reels^+ \text{ s.t. } Z_t - g \geq 0\} = \inf \{t \in \reels^+ \text{ s.t. } Z_t - g > 0\} = \inf \{t \in \reels^+ \text{ s.t. } Z_t - g \in \reels^+_*\}$, the FPT $\Tau_{g}^{Z}$ is a $\mathcal{F}$-stopping time by Theorem I.1.28(a) (p. 7) in \cite{JacodLimit2003}. We can rewrite the boundary crossing probability $P_g^Z$ as the cdf of $\Tau_g^Z$, i.e., 
\begin{eqnarray}
\label{PgZdef_rc1}
P_g^Z(t)= \proba (\Tau^Z_g \leq t) \text{ for any } t \geq 0.
\end{eqnarray}
If the cdf is absolutely continuous, we can also define its pdf $f_g^Z: \reels^+  \rightarrow  \reels^+$ as
\begin{eqnarray}
\label{fZgt_rc1}
f_g^Z(t) & = & \frac{dP_g^Z(t)}{dt}.
\end{eqnarray}
\noindent To apply the Dambis, Dubins-Schwarz theorem in this case, the main idea is to rewrite the FPT to a random boundary as an equivalent FPT to a nonrandom boundary. More specifically, if we define the new process as $Y = \frac{W}{g}$, we observe that the FPT (\ref{TgZdef_rc1}) may be rewritten as 
\begin{eqnarray}
\Tau_g^Z = \Tau_{1}^Y.
\end{eqnarray}

\begin{proof}[\textbf{Assumption B}]
We assume that $Y$ is a continuous $\mathcal{F}$-local martingale with random quadratic variation $\langle Y\rangle$ and such that $Y_0=0$ and $\langle Y\rangle_{\infty} = \infty$.
\phantom\qedhere
\end{proof} 
\begin{example}
We can consider a continuous It\^{o} process with no drift of the form 
\begin{eqnarray}
\label{eq_example_rc1}
Y_t = \int_0^t \sigma_s dW_s \text{ for } t \geq 0,
\end{eqnarray}
where $\sigma : \reels^+ \rightarrow \reels $ is a predictable process on $\mathcal{B}$ such that the integral defined in Equation (\ref{eq_example_rc1}) is well-defined. Then, $Y$ is a local martingale with random quadratic variation $\langle Y\rangle_{t} = \int_0^t \sigma_u^2 du$. If we further assume that $\int_0^t \sigma_u^2 du \rightarrow \infty$ as $t \rightarrow \infty$, we have that $Z$ satisfies \textbf{Assumption B}.
\end{example}

\noindent We can apply by \textbf{Assumption B} the Dambis, Dubins-Schwarz theorem for continuous local martingale. We define the generalized inverse stochastic process of the non-decreasing stochastic process $\langle Y\rangle$ for any $t \geq0$ as 
$$\langle Y\rangle_{t}^{-1}=\inf\{s \geq 0 \text{ s.t. }\langle Y\rangle_{s}>t\}.$$ 
Then $(B_{t})_{t\geq 0}=(Y_{\langle Y\rangle_{t}^{-1}})_{t\geq 0}$ is a $({\mathcal {F}}_t^{\langle Y\rangle^{-1}})_{t\geq 0}$-Wiener process and 
\begin{eqnarray}
\label{proof230110_rc1}
Y_{t}=B_{\langle Y\rangle_{t}}.
\end{eqnarray}
\begin{lemma}
\label{lemmaDDS_rc1}
Under \textbf{Assumption B}, we have that
\begin{eqnarray}
\label{eq_lemmaDDS_rc1}
\big\{ \Tau_1^Y =t \big\} & = & \big\{ \Tau_1^B = \langle Y\rangle_{t} \big\} \text{ for } t \geq 0.
\end{eqnarray}
\end{lemma}
\begin{proof}[Proof of Lemma \ref{lemmaDDS_rc1}]
We have that for any $t \geq 0$
\begin{eqnarray}
\nonumber \big\{ \Tau_1^Y =t \big\} 
& = & \big\{ \inf \{s \geq 0 \text{ s.t. } Y_s \geq 1\} = t \big\}\\ \label{eq_proof_lemmaDDS_rc1} 
& = & \big\{ \inf \{s \geq 0\text{ s.t. } B_{\langle Y\rangle_{s}} \geq 1\} = t \big\},
\end{eqnarray}
where we use Equation (\ref{TgZdef_rc1}) in the first equality, and Equation (\ref{proof230110_rc1}) in the second equality. Since $B$ is a $({\mathcal {F}}_{\langle Z\rangle_{t}^{-1}})_{t\geq 0}$-Wiener process, $W$ is an $({\mathcal {F}}_{t})_{t\geq 0}$-Wiener process and the boundary is constant, we can use a time change of quadratic variation $\langle Z\rangle_t$ value to obtain that
\begin{eqnarray}
\label{eq_proof_lemmaDDS_rc2} \big\{ \inf \{s \geq 0\text{ s.t. } B_{\langle Y\rangle_{s}} \geq 1\} = t \big\} = \big\{\inf \{s \geq 0 \text{ s.t. } B_s \geq 1 \} = \langle Y\rangle_t \big\}.
\end{eqnarray}
Then, we can calculate by Equation (\ref{TgZdef_rc1}) that
\begin{eqnarray}
\label{eq_proof_lemmaDDS_rc3} \big\{\inf \{s \geq 0 \text{ s.t. } B_s \geq 1 \} = \langle Y\rangle_t \big\} & = & \big\{ \Tau^B_1 = \langle Y\rangle_t \big\}. 
\end{eqnarray}
By Equations (\ref{eq_proof_lemmaDDS_rc1}), (\ref{eq_proof_lemmaDDS_rc2}) and (\ref{eq_proof_lemmaDDS_rc3}), we can deduce Equation (\ref{eq_lemmaDDS_rc1}).
\end{proof}
\noindent For $A \subset \reels^+$ and $B \subset \reels$ such that $0 \in A$, we define the set of nonrandom nondecreasing functions as $\mathcal{I}(A,B)$. When seen as a function of $\omega$, the arrival space of $\langle Y\rangle$ is $\mathcal{I}(\reels^+,\reels^+)$. We define the distribution of $\langle Y\rangle$ as $F_{\langle Y\rangle}$. We get $P_1^Y$ in the next theorem by integrating $\proba (\Tau^{Y}_1 \leq t |\langle Y\rangle=y)$ with respect to the value of $y \in \mathcal{I}(\reels^+,\reels^+)$.
\begin{theorem}
\label{theorem_rc1}
Under \textbf{Assumption B}, we have that
\begin{eqnarray}
\label{eq_theorem_rc1}
P_1^Y (t) & = & \int_{\mathcal{I}(\reels^+,\reels^+)} P_1^W \big(y_t\big) dF_{\langle Y\rangle}(y)\text{ for } t \geq 0.
\end{eqnarray}
\end{theorem}
\begin{proof}[Proof of Theorem \ref{theorem_rc1}]
We have that for any $t \geq 0$
\begin{eqnarray}
\nonumber P_1^Y(t) & = & \proba (\Tau^Y_1 \leq t)\\ \nonumber & = & \int_{\mathcal{I}(\reels^+,\reels^+)} \proba (\Tau^{Y}_1 \leq t |\langle Y\rangle=y) dF_{\langle Y\rangle}(y)\\ \nonumber 
& = & \int_{\mathcal{I}(\reels^+,\reels^+)} \proba \big(\inf \{s \geq 0 \text{ s.t. } Y_s \geq 1\} \leq t |\langle Y\rangle=y\big)dF_{\langle Y\rangle}(y)\\ \label{eq_proof_theorem_rc1} 
& = & \int_{\mathcal{I}(\reels^+,\reels^+)} \proba \big(\inf \{s \geq 0\text{ s.t. } B_{y_{s}} \geq 1\} \leq t\big)dF_{\langle Y\rangle}(y),
\end{eqnarray}
where we use Equation (\ref{PgZdef_rc1}) in the first equality, regular conditional probability in the second equality,  Equation (\ref{TgZdef_rc1}) in the third equality, and Equation (\ref{proof230110_rc1}) in the fourth equality. By Lemma \ref{lemmaDDS_rc1} along with \textbf{Assumption B}, we obtain that
\begin{eqnarray}
\label{eq_proof_theorem_rc2}\int_{\mathcal{I}(\reels^+,\reels^+)} \proba \big(\inf \{s \geq 0\text{ s.t. } B_{y_{s}} \geq 1\} \leq t\big)dF_{\langle Y\rangle}(y)\\ \nonumber =\int_{\mathcal{I}(\reels^+,\reels^+)} \proba \big(\inf \{s \geq 0\text{ s.t. } B_{s} \geq 1\} \leq y_t \big)dF_{\langle Y\rangle}(y).
\end{eqnarray}
Then, we can calculate that
\begin{eqnarray}
\nonumber && \int_{\mathcal{I}(\reels^+,\reels^+)} \proba \big(\inf \{s \geq 0\text{ s.t. } B_{s} \geq 1\} \leq y_t \big)dF_{\langle Y\rangle}(y)\\ \nonumber & = & \int_{\mathcal{I}(\reels^+,\reels^+)} \proba \big(\inf \{s \geq 0\text{ s.t. } W_{s} \geq 1\} \leq y_t \big)dF_{\langle Y\rangle}(y)\\ \nonumber & = & \int_{\mathcal{I}(\reels^+,\reels^+)} \proba \big(\Tau^W_1  \leq y_t \big)dF_{\langle Y\rangle}(y)\\ \label{eq_proof_theorem_rc3}
& = & \int_{\mathcal{I}(\reels^+,\reels^+)} P_1^W\big(y_t\big) dF_{\langle Y\rangle}(y), 
\end{eqnarray}
where we use the fact that $B$ and $W$ have the same distribution in the first equality, Equation (\ref{TgZdef_rc1}) in the second equality, and Equation (\ref{PgZdef_rc1}) in the third equality. By Equations (\ref{eq_proof_theorem_rc1}), (\ref{eq_proof_theorem_rc2}) and (\ref{eq_proof_theorem_rc3}), we can deduce Equation (\ref{eq_theorem_rc1}).
\end{proof}

\begin{corollary}
\label{corollary_rc1}
Under \textbf{Assumption B} and if we assume that the quadratic variation $\langle Y\rangle$ is absolutely continuous on $\reels^+$, we have that
\begin{eqnarray}
\label{eq_corollary_rc1}
f_1^Y (t) & = & \int_{\mathcal{I}(\reels^+,\reels^+)} y_t ' f_1^W \big(y_t\big) dF_{\langle Y\rangle}(y) \text{ for } t \geq 0.
\end{eqnarray}
\end{corollary}
\begin{proof}[Proof of Corollary \ref{corollary_rc1}]
We have for $t \geq 0$
\begin{eqnarray*}
f_1^Y (t) & = & \frac{dP_1^Y(t)}{dt}\\
& = & \frac{d(\int_{\mathcal{I}(\reels^+,\reels^+)} P_1^W \big(y_t\big) dF_{\langle Y\rangle}(y))}{dt}\\
& = & \int_{\mathcal{I}(\reels^+,\reels^+)} \frac{d(P_1^W \big(y_t\big))}{dt} dF_{\langle Y\rangle}(y)\\
& = & \int_{\mathcal{I}(\reels^+,\reels^+)} y_t ' f_1^W \big(y_t\big) dF_{\langle Y\rangle}(y),
\end{eqnarray*}
where we use Equation (\ref{fZgt_rc1}) in the first equality, Equation (\ref{eq_theorem_rc1}) from Theorem \ref{theorem_rc1} along with \textbf{Assumption B} in the second equality, Tonelli's theorem in the third equality, and the fundamental theorem of calculus along with chain rule and the assumption that the quadratic variation $\langle Y\rangle$ is absolutely continuous on $\reels^+$ in the fourth equality.
\end{proof}


\section{Two-sided random boundary case}
In this section, we consider the case when the two-sided boundary is random constant, and the quadratic variation of the continuous local martingale is a stochastic process.
\begin{definition}\label{defboundaryset_rc2}
We define the set of random constant two-sided boundary functions as $\mathcal{J} = \big\{ \reels^+ \times \Omega \rightarrow \reels_*^+ \times \reels_*^-$ such that for any $(g,h) \in \mathcal{J}$ and $\omega \in \Omega$ we have $g(\omega) \in \mathcal{G}$ and $-h(\omega) \in \mathcal{G}$\big\}.
\end{definition}
 
\begin{definition}\label{defFPT_rc2}
We define the FPT of an $\mathcal{F}$-adapted continuous stochastic process $(Z_t)_{t \in \reels^+}$ started at 0, i.e., with $Z_0=0$, to a random constant two-sided boundary
$(g,h) \in \mathcal{J}$ as
\begin{eqnarray}
\label{TgZdef_rc2}
\Tau_{g,h}^Z = \inf \{t \in \reels^+ \text{ s.t. } Z_t \geq g \text{ or } Z_t \leq h \}.
\end{eqnarray}
\end{definition}
\noindent We can rewrite $\Tau_{g,h}^Z$ as the infimum of two $\mathcal{F}$-stopping times, i.e., $\Tau_{g,h}^Z = \inf (\Tau_{g}^Z,\Tau_{-h}^{-Z})$ thus it is an $\mathcal{F}$-stopping time. We can rewrite the boundary crossing probability $P_{g,h}^Z$ as the cdf of $\Tau_{g,h}^Z$, i.e., 
\begin{eqnarray}
\label{PgZdef_rc2}
P_{g,h}^Z(t)= \proba (\Tau^Z_{g,h} \leq t) \text{ for any } t \geq 0.
\end{eqnarray}
If the cdf is absolutely continuous, we can also define its pdf $f_{g,h}^Z: \reels^+  \rightarrow  \reels^+$ as
\begin{eqnarray}
\label{fZgt_rc2}
f_{g,h}^Z(t) & = & \frac{dP_{g,h}^Z(t)}{dt}.
\end{eqnarray}
\noindent To apply the Dambis, Dubins-Schwarz theorem, we cannot rewrite the FPT to a random two-sided boundary as an equivalent FPT to a nonrandom two-sided boundary since there are two boundaries. However, we are able to adapt the arguments with a two-sided boundary. 
\begin{proof}[\textbf{Assumption C}]
We assume that $Z$ is a continuous $\mathcal{F}$-local martingale with random quadratic variation $\langle Z\rangle$ and such that $Z_0=0$ and $\langle Z\rangle_{\infty} = \infty$.
\phantom\qedhere
\end{proof} 
\noindent We can apply by \textbf{Assumption C} the Dambis, Dubins-Schwarz theorem for continuous local martingale. We define the generalized inverse stochastic process of the non-decreasing stochastic process $\langle Z\rangle$ for any $t \geq0$ as 
$$\langle Z\rangle_{t}^{-1}=\inf\{s \geq 0 \text{ s.t. }\langle Z\rangle_{s}>t\}.$$ 
Then $(B_{t})_{t\geq 0}=(Z_{\langle Z\rangle_{t}^{-1}})_{t\geq 0}$ is a $({\mathcal {F}}_t^{\langle Z\rangle^{-1}})_{t\geq 0}$-Wiener process and 
\begin{eqnarray}
\label{proof230110_rc2}
Z_{t}=B_{\langle Z\rangle_{t}} \text{ for } t \geq 0.
\end{eqnarray}
\begin{lemma}
\label{lemmaDDS_rc2}
Under \textbf{Assumption C}, we have that
\begin{eqnarray}
\label{eq_lemmaDDS_rc2}
\big\{ \Tau_{g,h}^Z =t \big\} & = & \big\{ \Tau_{g,h}^B = \langle Z\rangle_{t} \big\} \text{ for } t \geq 0.
\end{eqnarray}
\end{lemma}
\begin{proof}[Proof of Lemma \ref{lemmaDDS_rc2}]
We have that for any $t \geq 0$
\begin{eqnarray}
\nonumber \big\{ \Tau_{g,h}^Z =t \big\} 
& = & \big\{ \inf \{s \geq 0 \text{ s.t. } Z_s \geq g \text{ or } Z_s \leq h\} = t \big\}\\ \label{eq_proof_lemmaDDS_rc21} 
& = & \big\{ \inf \{s \geq 0\text{ s.t. } B_{\langle Z\rangle_{s}} \geq g \text{ or } B_{\langle Z\rangle_{s}} \leq h\} = t \big\},
\end{eqnarray}
where we use Equation (\ref{TgZdef_rc2}) in the first equality, and Equation (\ref{proof230110_rc2}) in the second equality. Since $B$ is a $({\mathcal {F}}_{\langle Z\rangle_{t}^{-1}})_{t\geq 0}$-Wiener process, $W$ is an $({\mathcal {F}}_{t})_{t\geq 0}$-Wiener process and the two-sided boundary is constant, we can use a random time change of quadratic variation $\langle Z\rangle_t$ value to obtain that
\begin{eqnarray}
\label{eq_proof_lemmaDDS_rc22} \big\{ \inf \{s \geq 0\text{ s.t. } B_{\langle Z\rangle_{s}} \geq g \text{ or } B_{\langle Z\rangle_{s}} \leq h\} = t \big\} \\ \nonumber = \big\{\inf \{s \geq 0 \text{ s.t. } B_s \geq g \text{ or } B_{s} \leq h \} = \langle Z\rangle_t \big\}.
\end{eqnarray}
Then, we can calculate by Equation (\ref{TgZdef_rc2}) that
\begin{eqnarray}
\label{eq_proof_lemmaDDS_rc23} \big\{\inf \{s \geq 0 \text{ s.t. } B_s \geq g \text{ or } B_{s} \leq h \} = \langle Z\rangle_t \big\} & = & \big\{ \Tau^B_{g,h} = \langle Z\rangle_t \big\}. 
\end{eqnarray}
By Equations (\ref{eq_proof_lemmaDDS_rc21}), (\ref{eq_proof_lemmaDDS_rc22}) and (\ref{eq_proof_lemmaDDS_rc23}), we can deduce Equation (\ref{eq_lemmaDDS_rc2}).
\end{proof}
\noindent We define $u=(g,h,\langle Z\rangle)$, its distribution as $F_{u}$ and $\mathcal{S} = \mathcal{J} \times \mathcal{I}(\reels^+,\reels^+)$. We get $P_{g,h}^Z$ in the next theorem by integrating $\proba (\Tau^{Z}_{g,h} \leq t | u=(g_0,h_0,z))$ with respect to the value of $(g_0,h_0,z) \in \mathcal{S}$.
\begin{theorem}
\label{theorem_rc2}
Under \textbf{Assumption C} and if we assume that the stochastic process $Z$ is independent from the two-sided boundary $(g,h)$, we have that
\begin{eqnarray}
\label{eq_theorem_rc2}
P_{g,h}^Z (t) & = & \int_{\mathcal{S}} P_{g_0,h_0}^W \big(z_t\big) dF_{u}(g_0,h_0,z)\text{ for } t \geq 0.
\end{eqnarray}
\end{theorem}
\begin{proof}[Proof of Theorem \ref{theorem_rc2}]
We have that for any $t \geq 0$
\begin{eqnarray}
\nonumber P_{g,h}^Z(t) & = & \proba (\Tau^Z_{g,h} \leq t)\\ \nonumber & = & \int_{\mathcal{S}} \proba (\Tau^{Z}_{g,h} \leq t | u=(g_0,h_0,z)) dF_{u}(g_0,h_0,z)\\ \nonumber 
& = & \int_{\mathcal{S}} \proba \big(\inf \{s \geq 0 \text{ s.t. } Z_s \geq g \text{ or } Z_s \leq h \} \leq t |u=(g_0,h_0,z)) dF_{u}(g_0,h_0,z)\\ \label{eq_proof_theorem_rc21} 
& = & \int_{\mathcal{S}} \proba \big(\inf \{s \geq 0 \text{ s.t. } B_{\langle Z\rangle_{s}}  \geq g \text{ or } B_{\langle Z\rangle_{s}}  \leq h \} \leq t |u=(g_0,h_0,z)) dF_{u}(g_0,h_0,z),
\end{eqnarray}
where we use Equation (\ref{PgZdef_rc2}) in the first equality, regular conditional probability in the second equality, Equation (\ref{TgZdef_rc2}) in the third equality, and Equation (\ref{proof230110_rc2}) in the fourth equality. Since the stochastic process $Z$ is independent from the two-sided boundary $(g,h)$, we obtain that
\begin{eqnarray}
\label{eq_proof_theorem_rc211} 
&  & \int_{\mathcal{S}} \proba \big(\inf \{s \geq 0 \text{ s.t. } B_{\langle Z\rangle_{s}}  \geq g \text{ or } B_{\langle Z\rangle_{s}}  \leq h \} \leq t |u=(g_0,h_0,z)) dF_{u}(g_0,h_0,z) \\ \nonumber &=& \int_{\mathcal{S}} \proba \big(\inf \{s \geq 0 \text{ s.t. } B_{z_{s}}  \geq g_0 \text{ or } B_{z_{s}}  \leq h_0 \} \leq t) dF_{u}(g_0,h_0,z).
\end{eqnarray}
By Lemma \ref{lemmaDDS_rc2} along with \textbf{Assumption C}, we obtain that
\begin{eqnarray}
\label{eq_proof_theorem_rc22}&&\int_{\mathcal{S}} \proba \big(\inf \{s \geq 0 \text{ s.t. } B_{z_{s}}  \geq g_0 \text{ or } B_{z_{s}}  \leq h_0 \} \leq t) dF_{u}(g_0,h_0,z)\\ \nonumber &=& \int_{\mathcal{S}} \proba \big(\inf \{s \geq 0 \text{ s.t. } B_{s}  \geq g_0 \text{ or } B_{s}  \leq h_0 \} \leq z_t) dF_{u}(g_0,h_0,z).
\end{eqnarray}
Then, we can calculate that
\begin{eqnarray}
\nonumber && \int_{\mathcal{S}} \proba \big(\inf \{s \geq 0 \text{ s.t. } B_{s}  \geq g_0 \text{ or } B_{s}  \leq h_0 \} \leq z_t) dF_{u}(g_0,h_0,z)\\ \nonumber & = & \int_{\mathcal{S}} \proba \big(\inf \{s \geq 0 \text{ s.t. } W_{s}  \geq g_0 \text{ or } W_{s}  \leq h_0 \} \leq z_t) dF_{u}(g_0,h_0,z)\\ \nonumber & = & \int_{\mathcal{S}} \proba \big(\Tau^W_{g_0,h_0}  \leq z_t \big)dF_{u}(g_0,h_0,z)\\ \label{eq_proof_theorem_rc23}
& = & \int_{\mathcal{S}} P_{g_0,h_0}^W\big(z_t\big) dF_{u}(g_0,h_0,z), 
\end{eqnarray}
where we use the fact that $B$ and $W$ have the same distribution in the first equality, Equation (\ref{TgZdef_rc2}) in the second equality, and Equation (\ref{PgZdef_rc2}) in the third equality. By Equations (\ref{eq_proof_theorem_rc21}), (\ref{eq_proof_theorem_rc211}),(\ref{eq_proof_theorem_rc22}) and (\ref{eq_proof_theorem_rc23}), we can deduce Equation (\ref{eq_theorem_rc2}).
\end{proof}

\begin{corollary}
\label{corollary_rc2}
Under \textbf{Assumption C} and if we assume that the stochastic process $Z$ is independent from the two-sided boundary $(g,h)$ and that the quadratic variation $\langle Z\rangle$ is absolutely continuous on $\reels^+$, we have that
\begin{eqnarray}
\label{eq_corollary_rc2}
f_{g,h}^Z (t) & = & \int_{\mathcal{S}} z_t ' f_{g_0,h_0}^W \big(z_t\big) dF_{u}(g_0,h_0,z) \text{ for } t \geq 0.
\end{eqnarray}
\end{corollary}
\begin{proof}[Proof of Corollary \ref{corollary_rc2}]
We have for $t \geq 0$
\begin{eqnarray*}
f_{g,h}^Z (t) & = & \frac{dP_{g,h}^Z(t)}{dt}\\
& = & \frac{d(\int_{\mathcal{S}} P_{g_0,h_0}^W \big(z_t\big) dF_{u}(g_0,h_0,z))}{dt}\\
& = & \int_{\mathcal{S}} \frac{d(P_{g_0,h_0}^W \big(z_t\big))}{dt} dF_{u}(g_0,h_0,z)\\
& = & \int_{\mathcal{S}} z_t ' f_{g_0,h_0}^W \big(z_t\big) dF_{u}(g_0,h_0,z),
\end{eqnarray*}
where we use Equation (\ref{fZgt_rc2}) in the first equality, Equation (\ref{eq_theorem_rc2}) from Theorem \ref{theorem_rc2} along with \textbf{Assumption C} and the assumption that the stochastic process $Z$ is independent from the two-sided boundary $(g,h)$ in the second equality, Tonelli's theorem in the third equality, and the fundamental theorem of calculus along with chain rule and the assumption that the quadratic variation $\langle Z\rangle$ is absolutely continuous on $\reels^+$ in the fourth equality.
\end{proof}




%\section{Conclusion}






%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Example with single Appendix:            %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\begin{appendix}

%\section{Proofs}


%\end{appendix}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Support information, if any,             %%
%% should be provided in the                %%
%% Acknowledgements section.                %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage 
%\begin{acks}[Acknowledgments]
%\end{acks}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Funding information, if any,             %%
%% should be provided in the                %%
%% funding section.                         %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{funding}
The author was supported in part by Japanese Society for the Promotion of Science Grants-in-Aid for Scientific Research (B) 23H00807 and Early-Career Scientists 20K13470. 
\end{funding}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Supplementary Material, including data   %%
%% sets and code, should be provided in     %%
%% {supplement} environment with title      %%
%% and short description. It cannot be      %%
%% available exclusively as external link.  %%
%% All Supplementary Material must be       %%
%% available to the reader on Project       %%
%% Euclid with the published article.       %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\begin{supplement}
%\stitle{Title of Supplement A}
%\sdescription{Short description of Supplement A.}
%\end{supplement}





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                  The Bibliography                       %%
%%                                                         %%
%%  imsart-???.bst  will be used to                        %%
%%  create a .BBL file for submission.                     %%
%%                                                         %%
%%  Note that the displayed Bibliography will not          %%
%%  necessarily be rendered by Latex exactly as specified  %%
%%  in the online Instructions for Authors.                %%
%%                                                         %%
%%  MR numbers will be added by VTeX.                      %%
%%                                                         %%
%%  Use \cite{...} to cite references in text.             %%
%%                                                         %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% if your bibliography is in bibtex format, uncomment commands:
\bibliographystyle{imsart-nameyear} % Style BST file (imsart-number.bst or imsart-nameyear.bst)
\bibliography{biblio}       % Bibliography file (usually '*.bib')

\end{document}
