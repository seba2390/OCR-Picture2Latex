
% Macros

\theoremstyle{remark}
\newtheorem{remark}{Intermezzo}

\newcommand{\ifext}[2]{\ifdefined\extflag{#1}\else{#2}\fi}

%%% Arrays in mathpartir
\makeatletter % allow us to mention @-commands
\def\arcr{\@arraycr}
\makeatother

\definecolor{deepblue}{rgb}{0,0,0.5}
\definecolor{deepred}{rgb}{0.6,0,0}
\definecolor{deepgreen}{rgb}{0,0.5,0}
\definecolor{halfgray}{gray}{0.55}
\definecolor{ipythonframe}{RGB}{207, 207, 207}

\definecolor[named]{ACMBlue}{cmyk}{1,0.1,0,0.1}
\definecolor[named]{ACMYellow}{cmyk}{0,0.16,1,0}
\definecolor[named]{ACMOrange}{cmyk}{0,0.42,1,0.01}
\definecolor[named]{ACMRed}{cmyk}{0,0.90,0.86,0}
\definecolor[named]{ACMLightBlue}{cmyk}{0.49,0.01,0,0}
\definecolor[named]{ACMGreen}{cmyk}{0.20,0,1,0.19}
\definecolor[named]{ACMPurple}{cmyk}{0.55,1,0,0.15}
\definecolor[named]{ACMDarkBlue}{cmyk}{1,0.58,0,0.21}

\definecolor{ckeyword}{HTML}{7F0055}
\definecolor{ccomment}{HTML}{3F7F5F}
\definecolor{cnumber}{HTML}{2A0099}
\definecolor{pblue}{rgb}{0.13,0.13,1}
\definecolor{pgreen}{rgb}{0,0.5,0}
\definecolor{pred}{rgb}{0.9,0,0}
\definecolor{pgrey}{rgb}{0.46,0.45,0.48}

\def\lstlistingautorefname{Code}
\renewcommand{\lstlistingname}{Code}

\lstdefinestyle{OCaml}{
  language=Caml,
  identifierstyle=\color{black},
  sensitive=true,
  commentstyle=\color{ccomment}\sffamily,
  string=[b]",
  morekeywords={module, struct, open, include, val, nonrec, sig},  
  showstringspaces=false,
  showspaces=false,
  showtabs=false,
  breaklines=true,
  breakatwhitespace=true,
  lineskip=-0.6pt,
  basewidth={0.54em, 0.4em},%
  basicstyle=\scriptsize\ttfamily,
  keywordstyle={\color{ckeyword}\bfseries},
  ndkeywordstyle={\color{ACMDarkBlue}},
  commentstyle={\color{ccomment}\itshape},
  stringstyle={\color{pgreen}},
  numberstyle={\scriptsize\color{cnumber}\ttfamily},
}

\newcommand{\ccode}[1]{\lstinline[language=C,basicstyle=\small\ttfamily]{#1}}
\newcommand{\coqcode}[1]{\lstinline[language=Coq,basicstyle=\small\ttfamily]{#1}}
\newcommand{\code}[1]{\ccode{#1}}
\newcommand{\cname}[1]{\textsf{#1}}


\definecolor{eclipseStrings}{RGB}{42,0.0,255}
\definecolor{eclipseKeywords}{RGB}{127,0,85}
\colorlet{numb}{magenta!60!black}

\lstdefinelanguage{json}{
    basicstyle=\normalfont\ttfamily,
    commentstyle=\color{eclipseStrings}, % style of comment
    stringstyle=\color{eclipseKeywords}, % style of strings
    numbersep=8pt,
    showstringspaces=false,
    breaklines=true,
    frame=single,
    lineskip=-0.6pt,
  	basewidth={0.54em, 0.4em},%
 	basicstyle=\scriptsize\ttfamily,
    string=[s]{"}{"},
    comment=[l]{:\ "},
    morecomment=[l]{:"},
    literate=
        *{0}{{{\color{numb}0}}}{1}
         {1}{{{\color{numb}1}}}{1}
         {2}{{{\color{numb}2}}}{1}
         {3}{{{\color{numb}3}}}{1}
         {4}{{{\color{numb}4}}}{1}
         {5}{{{\color{numb}5}}}{1}
         {6}{{{\color{numb}6}}}{1}
         {7}{{{\color{numb}7}}}{1}
         {8}{{{\color{numb}8}}}{1}
         {9}{{{\color{numb}9}}}{1}
}


\definecolor{shadecolor}{gray}{1.00}
\definecolor{ddarkgray}{gray}{0.75}
\definecolor{darkgray}{gray}{0.30}
\definecolor{light-gray}{gray}{0.87}
\newcommand{\whitebox}[1]{\colorbox{white}{#1}}
\newcommand{\graybox}[1]{\colorbox{light-gray}{#1}}
\newcommand{\darkgraybox}[1]{\colorbox{ddarkgray}{#1}}
\newcommand{\gbm}[1]{\graybox{${#1}$}}
\newcommand{\Inv}{\text{\textsc{Inv}}}
\newcommand{\TPCInv}{\text{\textsc{TPCInv}}}

\newcommand{\fstar}{\text{F}^{\star}}
\newcommand{\etc}{\emph{etc}}
\newcommand{\ie}{\emph{i.e.}\xspace}
\newcommand{\aka}{\emph{aka}\xspace}
\newcommand{\Ie}{\emph{I.e.}\xspace}
\newcommand{\eg}{\emph{e.g.}\xspace}
\newcommand{\Eg}{\emph{E.g.}\xspace}
\newcommand{\vs}{\emph{vs.}\xspace}
\newcommand{\etal}{\emph{et~al.}\xspace}
\newcommand{\adhoc}{\emph{ad hoc}\xspace}
\newcommand{\viz}{\emph{viz.}\xspace}
\newcommand{\dom}[1]{\mathsf{dom}(#1)}
\newcommand{\cf}{\textit{cf.}\xspace}
\newcommand{\wrt}{\emph{wrt.}\xspace}
\newcommand{\Iff}{\emph{iff}\xspace}
\newcommand{\loef}{L\"{o}f}

\newcommand{\mute}[1]{{#1}}
\newcommand{\todo}[1]{\mute{\textcolor{red}{({#1})}}}
\newcommand{\ac}[1]{\mute{\textcolor{ACMPurple}{(Andreea: {#1})}}}
\newcommand{\abhik}[1]{\mute{\textcolor{ACMPurple}{(Abhik: {#1})}}}
\newcommand{\yuntong}[1]{\mute{\textcolor{ACMPurple}{(Yuntong: {#1})}}}

\newcommand{\angled}[1]{\langle{#1}\rangle}
\newcommand{\set}[1]{\left\{{#1}\right\}}

\newcommand{\ridwan}[1]{\todo[size=\small,inline,color=red!40]{Ridwan: #1}}


\newcommand{\footpatch}{{FootPatch}\xspace}
\newcommand{\saver}{{SAVER}\xspace}
\newcommand{\pulse}{{Pulse}\xspace}
\newcommand{\tool}{{EffFix}\xspace}
\newcommand{\tooluni}{{EffFix\textsubscript{u}}\xspace}
\newcommand{\infertool}{{Infer}\xspace}
\newcommand{\ourinfer}{{Infer-7499c03}\xspace}
\newcommand{\codeql}{{CodeQL}\xspace}

\newcommand{\tname}[1]{\textsc{#1}\xspace}


\newcommand{\many}[1]{\overline{#1}}

%% Types
\newcommand{\primtyp}{\mathit{pt}}
\newcommand{\inttyp}{\mathit{int}}
\newcommand{\uinttyp}{\mathit{uint}}
\newcommand{\bytyp}{\mathit{bst}}
%\newcommand{\typ}{\mathit{t}}

\newcommand{\tp}[1]{\mathsf{#1}}
\newcommand{\bystr}{\tp{bystr}}
\newcommand{\bystrx}{\tp{bystrx}}
\newcommand{\strtyp}{\tp{string}}
\newcommand{\bnumtyp}{\tp{bnum}}
\newcommand{\msgtyp}{\tp{msg}}
\newcommand{\maptyp}{\tp{map}}
\newcommand{\adt}{\mathcal{D}}
\newcommand{\tvar}{\alpha}
\newcommand{\polytyp}[2]{\mathsf{forall}~{#1}.~{#2}}


% ADTs
\newcommand{\finmap}{\rightharpoonup}
\newcommand{\unityp}{\tp{unit}}
\newcommand{\booltyp}{\tp{bool}}
\newcommand{\nattyp}{\tp{nat}}
\newcommand{\opttyp}{\tp{option}}
\newcommand{\pairtyp}{\tp{pair}}
\newcommand{\listtyp}{\tp{list}}
\newcommand{\customtyp}{\tp{U}}


%% Built-ins
\newcommand{\blt}[1]{{\kw{#1}}}
\newcommand{\bltn}[1]{\mathit{blt}_{#1}}
\newcommand{\cons}[1]{\mathsf{#1}}

%% Expressions
\newcommand{\lit}{\mathit{v}}
\newcommand{\ident}{\mathit{i}}
\newcommand{\expr}{\mathit{e}}

\newcommand{\stringlit}{\mathit{str}}
\newcommand{\msglit}{\mathit{ms}}
\newcommand{\maplit}{\mathit{mp}}
\newcommand{\adtlit}{\mathit{d}}
\newcommand{\bslit}{\mathit{bs}}
\newcommand{\bsxlit}{\mathit{bsx}}
\newcommand{\intlit}{\kappa}
\newcommand{\uintlit}{\upsilon}
\newcommand{\bnumlit}{\mathit{b}}
\newcommand{\clo}{\mathit{clo}}
\newcommand{\tclo}{\mathit{tclo}}
\newcommand{\Value}{\mathsf{Value}}
\newcommand{\Type}{\mathsf{Type}}

\newcommand{\Let}[3]{\kw{{let}}~{#1} = {#2}~\mathbf{in}~{#3}}
\newcommand{\Val}[1]{\mathsf{\mathbf{val}}~{#1}}
\newcommand{\Var}[1]{\mathsf{\mathbf{var}}~{#1}}
\newcommand{\Msg}[1]{\mathsf{\mathbf{message}}~{#1}}
\newcommand{\Emp}[2]{\mathsf{\mathbf{emp}}~{#1}~{#2}}
\newcommand{\Constr}[3]{\mathsf{\mathbf{constr}}~{#1}~{#2}~{#3}}
\newcommand{\Builtin}[2]{\mathsf{\mathbf{builtin}}~{#1}~{#2}}
\newcommand{\Fun}[3]{\mathsf{\mathbf{fun}}~({#1} : {#2}) \Rightarrow {#3}}
\newcommand{\App}[2]{\mathsf{\mathbf{app}}~{#1}~{#2}}
\newcommand{\Match}[2]{\mathsf{\mathbf{match}}~{#1}~{#2}}
\newcommand{\TFun}[2]{\mathsf{\mathbf{tfun}}~{#1} \Rightarrow {#2}}
\newcommand{\TApp}[2]{\mathsf{\mathbf{inst}}~{#1}~{#2}}
\newcommand{\Fix}[3]{\mathsf{\mathbf{fix}}~({#1} : {#2}, {#3})}
\newcommand{\pat}{\mathit{pat}}
%\newcommand{\metato}{\twoheadrightarrow}
\newcommand{\metato}{\to}

% Statements
\newcommand{\stmt}{\mathit{s}}
\newcommand{\Load}[2]{{#1} \leftarrow {#2}}
\newcommand{\Store}[2]{{#1} := {#2}}
\newcommand{\Bind}[2]{{#1} = {#2}}
\newcommand{\MapUpd}[3]{{#1}~\many{[#3]}~:=~{#2}}
\newcommand{\MapGet}[3]{{#1} \leftarrow {#2}~\many{[{#3}]}}
\newcommand{\MapHas}[3]{{#1} \leftarrow \mathsf{\mathbf{exists}}~{#2}~\many{[{#3}]}}
\newcommand{\MapDelete}[2]{\mathsf{\mathbf{delete}}~{#1}~\many{[{#2}]}}
%% Match is the same as for expressions
\newcommand{\ReadBC}[2]{{#1} \leftarrow \&{#2}}
\newcommand{\Accept}{\kw{accept}}
\newcommand{\Send}[1]{\kw{send}~{#1}}
\newcommand{\Event}[1]{\kw{event}~{#1}}
\newcommand{\Throw}{\kw{throw}}
\newcommand{\MatchS}[2]{\mathsf{\mathbf{match}}~{#1}~{#2}}

\newcommand{\libfun}{\mathit{L}}
\newcommand{\field}{\mathit{F}}
\newcommand{\Libfun}[2]{\kw{{let}}~{#1} = {#2}}
\newcommand{\trans}{\mathit{T}}
\newcommand{\Trans}[3]{\angled{{#1}, {#2}, {#3}}}
\newcommand{\ctr}{\mathit{C}}
\newcommand{\Ctr}[5]{\angled{{#1}, {#2}, #3, {#4}, {#5}}}

\newcommand{\Mdo}{\kw{do}}
\newcommand{\Mret}[1]{\kw{return}~{#1}}
\newcommand{\Mletrec}[2]{\kw{letrec}~{#1} = {#2}}
\newcommand{\Mlet}[2]{\kw{let}~{#1} = {#2}}
\newcommand{\Mand}[2]{\kw{let}~{#1} = {#2}}
\newcommand{\Mbind}[2]{{#1}\leftarrow {#2}}
\newcommand{\Mif}[2]{\kw{if}~{#1}~\kw{then}~{#2}}
\newcommand{\Melse}[1]{\kw{else}~{#1}}

%\newcommand{\sym}[1]{{\mathsf{#1}}}
\newcommand{\meta}[1]{\mathsf{{#1}}}
\newcommand{\id}[1]{\mathit{{#1}}}
\newcommand{\ind}{\quad}
\newcommand{\eqdef}{\triangleq}
\newcommand{\esem}[1]{\mathcal{E}\llbracket {#1} \rrbracket}
\newcommand{\ssem}[1]{\mathcal{S}\llbracket {#1} \rrbracket}
\newcommand{\csem}[1]{\mathcal{C}\llbracket {#1} \rrbracket}
\newcommand{\csems}[1]{\mathcal{C}_s\llbracket {#1} \rrbracket}
\newcommand{\cseme}[1]{\mathcal{C}_s\llbracket {#1} \rrbracket}
\newcommand{\csemb}[1]{\mathcal{C}_b\llbracket {#1} \rrbracket}
\newcommand{\env}{\rho}
\newcommand{\store}{\sigma}
\newcommand{\msgs}{\mu}
\newcommand{\evts}{\varepsilon}
\newcommand{\incoming}{\iota}
\newcommand{\bal}{\beta}
\newcommand{\bc}{\gamma}

\newcommand{\evalf}{\sym{eval}}
\newcommand{\sevalf}{\sym{seval}}
\newcommand{\execbuiltin}{\sym{execBuiltIn}}

\newcommand{\ite}[3]{\mathsf{{ITE(#1,#2,#3)}}}

\newcommand{\True}{\mathsf{True}}
\newcommand{\False}{\mathsf{False}}
\newcommand{\retz}{\mathsf{{\bf return}}\xspace{}}
\newcommand{\whilez}{\mathsf{{\bf while}}\xspace{}}
\newcommand{\gotoz}{\mathsf{{\bf goto}}\xspace{}}


% ******************************************
%                        CONSTRAINTS
%******************************************

%   Pointers

%colours
\newcommand{\constext}[1]{\mathsf{#1}}
\newcommand{\conscoloured}[2]{\textcolor{#1}{\constext{#2}}}
\newcommand{\consblack}[1]{\conscoloured{deepblue}{#1}}
\newcommand{\obligation}[1]{\textcolor{ACMPurple}{#1}}
\newcommand{\fact}[1]{\textcolor{deepblue}{#1}}
\newcommand{\conscomment}[1]{\textcolor{darkgray}{#1}}

% atoms
\newcommand{\xarg}{\constext{X}}
\newcommand{\yarg}{\constext{Y}}
\newcommand{\zarg}{\constext{Z}}
\newcommand{\loc}{\ell}

% key words for constranints
\newcommand{\varPCword}{\constext{var}}
\newcommand{\localPCword}{\constext{local}}
\newcommand{\storePCword}{\constext{store}}
\newcommand{\rebindPCword}{\constext{rebind}}
\newcommand{\mallocPCword}{\constext{new}}
\newcommand{\freePCword}{\constext{free}}
\newcommand{\derefPCword}{\constext{deref}}
\newcommand{\addrPCword}{\constext{addr}}
\newcommand{\refPCword}{\constext{ref}}
\newcommand{\borrowPCword}{\constext{borrow}}
\newcommand{\returnPCword}{\constext{return}}
\newcommand{\accessPCword}{\constext{access}}
\newcommand{\readPCword}{\constext{read}}
\newcommand{\referPCword}{\constext{refer}}
\newcommand{\reachablePCword}{\constext{reachable}}
\newcommand{\sharedPCword}{\constext{shared}}
\newcommand{\uniquePCword}{\constext{unique}}
\newcommand{\mutPCword}{\constext{mut}}
\newcommand{\immPCword}{\constext{imm}}
\newcommand{\ownPCword}{\constext{own}}
\newcommand{\referencePCword}{\constext{ref}}
\newcommand{\nonlinPCword}{\constext{nonLin}}
\newcommand{\linPCword}{\constext{lin}}
\newcommand{\fieldPCword}{\constext{field}}
\newcommand{\fieldaccessPCword}{\constext{field\_access}}

% constraints as used in the overview, not too precise
\newcommand{\varPCmeta}[2]{\constext{\varPCword(#1)^{#2}}}
\newcommand{\localPCmeta}[2]{\constext{\localPCword(#1)^{#2}}}
\newcommand{\storePCmeta}[3]{\constext{\storePCword(#1,#2)^{#3}}}
\newcommand{\rebindPCmeta}[3]{\constext{\rebindPCword(#1,#2)^{#3}}}
\newcommand{\mallocPCmeta}[3]{\constext{\mallocPCword(#1,#2)^{#3}}}
\newcommand{\freePCmeta}[2]{\constext{\freePCword(#1)^{#2}}}
\newcommand{\freePCformal}[3]{\constext{\freePCword(#1,#2)^{#3}}}
\newcommand{\derefPCmeta}[3]{\constext{\derefPCword(#1,#2)^{#3}}}
\newcommand{\addrPCmeta}[3]{\constext{\addrPCword(#1,#2)^{#3}}}
\newcommand{\refPCmeta}[3]{\constext{\referPCword(#1,#2)^{#3}}}
\newcommand{\borrowPCmeta}[3]{\constext{\borrowPCword(#1,#2)^{#3}}}
\newcommand{\returnPCmeta}[3]{\constext{\returnPCword(#1,#2)^{#3}}}
\newcommand{\accessPCmeta}[3]{\constext{\accessPCword(#1,#2)^{#3}}}
\newcommand{\readcPCmeta}[3]{\constext{\readPCword(#1,#2)^{#3}}}
\newcommand{\readPCmeta}[2]{\constext{\readPCword(#1)^{#2}}}
\newcommand{\referPCmeta}[3]{\constext{\referPCword(#1,#2)^{#3}}}
\newcommand{\reachablePCmeta}[3]{\constext{\reachablePCword(#1,#2)^{#3}}}
\newcommand{\sharedPCmeta}[2]{\constext{\sharedPCword(#1)^{#2}}}
\newcommand{\uniquePCmeta}[2]{\constext{\uniquePCword(#1)^{#2}}}
\newcommand{\mutPCmeta}[2]{\constext{\mutPCword(#1)^{#2}}}
\newcommand{\immPCmeta}[2]{\constext{\immPCword(#1)^{#2}}}
\newcommand{\ownPCmeta}[2]{\constext{\ownPCword(#1)^{#2}}}
\newcommand{\referencePCmeta}[2]{\constext{\referencePCword(#1)^{#2}}}
\newcommand{\nonlinPCmeta}[2]{\constext{\nonlinPCword(#1)^{#2}}}
\newcommand{\linPCmeta}[2]{\constext{\linPCword(#1)^{#2}}}
\newcommand{\fieldPCmeta}[4]{\constext{\fieldPCword(#1,#2,#3)^{#4}}}
\newcommand{\fieldaccessPCmeta}[4]{\constext{\fieldaccessPCword(#1,#2,#3)^{#4}}}

\newcommand{\hbsymb}{\constext{hb}}
\newcommand{\hb}[2]{\hbsymb(#1, #2)}

% rules
\newcommand{\fpropagation}[2]{{#1 \implies #2}}
\newcommand{\fpropagationguards}[3]{{#1 \implies #3 ~|~ #2}}

\newcommand{\propagation}[2]{\textcolor{deepblue}{\fpropagation{#1}{#2}}}
\newcommand{\propagationguards}[3]{\textcolor{deepblue}{\fpropagationguards{#1}{#2}{#3}}}


% summary
\newcommand{\capfour}[1]{\langle #1\rangle}

% domain
\newcommand{\conscontext}{\Sigma}
\newcommand{\consvar}{\constext{C}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Code in math
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\kw}[1]{{\tt\bf{\color{ACMPurple}{#1}}}~}
\newcommand{\typ}[1]{{\tt\bf{\color{blue}{#1}}}~}
\newcommand{\typz}[1]{{\tt{\color{blue}{#1}}}~}
\newcommand{\sym}[1]{{\tt\bf{{#1}}}}
\newcommand{\Letz}{\kw{let}}
\newcommand{\Ifz}{\kw{if}}
\newcommand{\malloc}[1]{{\tt{\mallocPCword}}(#1)}
\newcommand{\free}[1]{{\tt{\freePCword}}(#1)}
\newcommand{\Thenz}{\kw{then}}
\newcommand{\Elsez}{\kw{else}}
\newcommand{\Skip}{\kw{skip}}
\newcommand{\deref}[1]{*{#1}}
\newcommand{\asgn}{:=}
\newcommand{\off}{\iota}
\newcommand{\size}{\mathit{n}}
\newcommand{\ccd}[1]{\text{\code{#1}}}
\newcommand{\unsat}[1]{\mathsf{unsat}({#1})}
\newcommand{\coh}[1]{\mathsf{coh}\paren{#1}}
\newcommand{\nullc}{{\tt{NULL}}}
\newcommand{\mcode}[1]{{\ensuremath{\tt #1}}}
\newcommand{\stack}{{\tt{Stack}}}
\newcommand{\heap}{{\tt{Heap}}}

\newcommand{\acomment}[1]{{\color{gray}#1}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Language
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\prog}{c}
\newcommand{\progs}{\mathit{cs}}
\newcommand{\cskip}{{\tt{skip}}}
\newcommand{\cerror}{{\tt{err}}}
\newcommand{\cmagic}{{\tt{magic}}}
\newcommand{\opsem}[3]{{#1}; {#2} \rightsquigarrow {#3}}
\newcommand{\Opsem}{\rightsquigarrow}
\newcommand{\Opsemt}{\rightsquigarrow^{*}}
\newcommand{\opsemt}[3]{{#1}; {#2} \rightsquigarrow^{*} {#3}}
\newcommand{\satsl}[2]{{#1}{\vDash}^{\ctx}_{\interp} {#2}}
\newcommand{\fctx}{\Delta}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Bug Detection
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\domaindetect}{$\mathcal{D}$}
\newcommand{\domainequiv}{$\mathcal{D'}$}
\newcommand{\ok}{\tt{ok}}
\newcommand{\err}{\tt{err}}
\newcommand{\cok}{{\color{deepgreen}\ok}}
\newcommand{\cerr}{{\color{ACMRed}\err}}

\newcommand{\collect}[4]{{#1} ; ~ {\color{ACMBlue}#2} \rightarrow_c {\color{ACMBlue}#3},~ #4}
\newcommand{\collectfn}[2]{ \mathit{abs}({\color{ACMBlue}#1}, #2)}

\newcommand{\rulename}[1]{\textsc{#1}}
\newcommand{\crulename}[1]{#1}
\newcommand{\collectrule}[3]{
	\inferrule*{#2}{#3}
}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Logic stuff
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\pts}{\mapsto}
\newcommand{\pointsto}[2]{#1 \pts #2}
\newcommand{\dealloc}[1]{#1 \not\pts}
\newcommand{\bl}[1]{{\color{ACMDarkBlue}{#1}}}
\newcommand{\asn}[1]{{\bl{\set{#1}}}}
\newcommand{\spec}[3]{\asn{#1}~{#2}~\asn{#3}}
\newcommand{\pred}[1]{\mathsf{#1}}
\newcommand{\entails}[2]{{#1}\vdash{#2}}
\newcommand{\tent}[2]{{#1}\leadsto {#2}}
\newcommand{\teng}[2]{\bl{#1}\leadsto \bl{#2}}
\newcommand{\emp}{\mathsf{emp}}
\newcommand{\sep}{\ast}
\newcommand{\isltriple}[3]{[{{\color{ACMBlue} #1}}]~#2~[{\color{ACMBlue}  #3}]}
\newcommand{\metatriple}[6]{(#1,#4,#5,#6)}
\newcommand{\footprint}[4]{(#3,#1:#4)}
\newcommand{\nil}{\mathsf{nil}}
\newcommand{\rer}{\mathsf{ret}}

%% Meta 
\newcommand{\ret}{\mathsf{ret}}
\newcommand{\allocset}{H}
\newcommand{\deallocset}{D}
\newcommand{\aliasset}{A}

%% Misc
\newcommand{\algo}[1]{\textsc{#1}}
\newtheorem{definition}{Definition}
