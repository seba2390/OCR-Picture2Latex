\section{Introduction}
% no \IEEEPARstart

HTTP(S) plays as the major protocol to access Web contents when loading Web pages on browsers, and has served the Web well for more than 15 years. However, as the Web pages grow increasingly complex to provide more content and functionality, the shortcomings and inflexibly of HTTP become more and more urgent to solve~\cite{Stenberg:CCR14}~\cite{httpproblem}, e.g., the sluggish page load, insecure content, redundant transfer, etc. HTTP/2 is the next evolution of HTTP, which is maintained by the IETF HTTP Working Group. Based on Google's SPDY protocol, HTTP/2 attempts to outcome the shortcomings of HTTP, and focuses on performance, e.g., end-user perceived latency, network, and server resource usage. HTTP/2 and SPDY benefit from multiplexing and concurrency, stream dependencies, header compressions, and server push~\cite{Stenberg:CCR14}. All the four protocols, including HTTP, HTTPS, SPDY, and HTTP/2 can be affected by many factors external to the protocols, including the network parameters (e.g. packet loss, bandwidth, and RTT), and the characteristics of Web pages (e.g. size, objects number)~\cite{Wang:NSDI14,Saxce:INFCOM15, Varvello:CORR15, Erman:CONEXT13, El-khatibTW:IFIP14}. Meanwhile, with the popularity of mobile devices such as smartphones and tablets, users often use mobile browsers to visit Web pages, including both desktop versions and mobile versions. Such mobile pages are optimized for mobile devices with limited resources and smaller screen. Although WAP-based Web technologies are developed for feature phones, HTTP(S) plays as the major protocol to access Web contents for contemporary smartphones. We just focus on the HTTP-based protocols, and we are interested in how Web pages perform on smartphones with different protocols, including HTTP, HTTPS, SPDY, and HTTP/2.

Although HTTP/2 and SPDY claim to improve Web pages performance instead of HTTP and HTTPS. Prior works~\cite{Wang:NSDI14,Saxce:INFCOM15, Varvello:CORR15, Erman:CONEXT13, El-khatibTW:IFIP14} have shown that they may even hurt Web pages performance under certain network conditions. It is important to conduct a comprehensive study on comparison of Web page load performance with these four protocols. In this paper, we present a comprehensive measurement study to analyze Web performance on smartphones with different protocols. We clone the landing pages of Alexa top 200 websites, which have both mobile version and desktop version, into our local server, and visit them using different protocols through emulated network conditions using \textit{Traffic Control} to keep the consistency across experiments. We vary different packet loss rates, bandwidths, and RTTs (Round Trip Time) to simulate different network conditions and analyze how these network settings affect performance of different protocols. We focus on a user-perceived latency of these pages, so we measure Web page performance using the \textbf{Page Load Time (PLT)} metric. PLT is calculated from initiation phase (when you click a link or type in a Web address on browser) to completion phase (when the page is fully loaded in the browser). We listen the \textit{onLoad}\footnote{Page Load Time metric, \url{https://developer.chrome.com/devtools/docs/network}} event emitted by browser to get the PLT. In order to analyze how different Web pages with various object sizes and object numbers may affect Web pages' performance for each protocol, we synthesize Web pages with pre-specified object sizes and object numbers. Meanwhile, we need to address that loading a Web page in browsers is a complex process, consisting of network activities, including DNS lookup, TCP connection setup, resources downloading and so on, and computation activities, including parsing HTML file, parsing Javascript file, executing Javascript code and so on. What's more, network activities and computation activities are interdependent. For example, while loading a page, browsers usually do not download any images until JavaScript and CSS files are fetched and processed. We develop our own client to fetch Web pages ignoring page load complicated dependencies between network activities and computation activities in order to simplify our analysis. Overall, we identify how those network factors and characteristics of Web pages affect Web page performance for each protocol. 

Our study focuses on performance of Web pages on smartphones with different protocols, including HTTP, HTTPS, SPDY, and HTTP/2. We divide our experiments into two parts. First, in order to simplify our analysis, we develop our own HTTP client ignoring complicated process in real browsers to fetch synthetic Web pages with pre-specified object sizes and object numbers with different protocols, respectively. Meanwhile, we emulate different network conditions between client and server using Traffic Control. We conduct a decision tree analysis to find out how those parameter settings affect these protocolsâ€˜ efficiency of transferring Web contents hosted in remote servers. We find that HTTP/2 and SPDY perform worse when packet loss rate is high, but help with many objects when packet loss rate is low. In order to test with real browsers, we clone Alexa top 200 websites, which have the corresponding mobile version, into our local host. Meanwhile, we control mobile Chrome browser to load those Web pages with different protocols and emulate different network conditions using Traffic Control. We identify how Web page characteristics and network conditions affect Web performance on smartphones for each protocol. We find that HTTP/2 and SPDY help more with mobile pages. We also conduct experiments on a low-end device to observe if a less powerful processor could affect Web page performance for each protocol. We find no significant differences for all four protocols under different network conditions.

Our contributions are as follows:

\begin{itemize}
    \item{A systematic and comprehensive measurement study to compare the performance of HTTP, HTTPS, SPDY, and HTTP/2. We identify how different parameter settings could affect Web pages' performance for each protocol. }
    \item{We give some practical implications and recommendations for developers to optimize their pages' performance.}
\end{itemize}