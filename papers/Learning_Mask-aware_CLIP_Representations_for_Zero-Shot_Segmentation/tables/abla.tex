\begin{table*}
\vspace{-2mm}
\caption{\textbf{Ablations on COCO dataset.} GFLOPs in (a) is used to measure the computation of CLIP Image Encoder. The best results are highlighted with \textcolor{red}{red}, and the default settings are highlighted with \textcolor{gray}{gray} background.}
\label{tab:ablations}
% \vspace{-1mm}
\resizebox{1.0\textwidth}{!}{
\centering
% a - Ablation on Statics, Hand-Craft and Learnable
    \subfloat[Ablation on components of \textbf{MAFT}. $ft$ denotes the mask-aware fine-tining
    \label{tab:ab_1}]
    { 
    % \!\!\!\!\!
    % \renewcommand\tabcolsep{11.5pt}
    \renewcommand\arraystretch{1.1} % 1.95
    % \footnotesize
    \small
    \begin{tabular}
    {l|lll|c}
    % {p{27.8mm}|p{15mm}p{15mm}}
    \Xhline{0.7px}
    % \Xhline{0.7px}
    \centering
     & \textbf{mIoU$^s$} & \textbf{mIoU$^u$} & \textbf{hIoU} & GFLOPs \\
    \hline
    \multicolumn{1}{c|}{FreeSeg} & 22.3 &  29.3 &  25.3 &  1127.0\\
    \multicolumn{1}{c|}{+ IP-CLIP} & 29.4 $_{+7.1}$ &  36.2 $_{+6.9}$ &  32.4 $_{+7.1}$ &  53.4\\
    \multicolumn{1}{c|}{+ $ft$ ($\mathcal{L}_{ma}$)} & 39.9 $_{+17.6}$ &  47.1 $_{+17.8}$ &  43.1 $_{+17.8}$ &  53.4\\
    \rowcolor{gray!10}\multicolumn{1}{c|}{+ $ft$ ($\mathcal{L}_{ma}$ + $\mathcal{L}_{dis}$)} & 
    40.1$_{\textcolor{red}{+17.8}}$ &  
    49.7$_{\textcolor{red}{+20.4}}$ &  
    44.4$_{\textcolor{red}{+19.0}}$ &  
    53.4\\
    \Xhline{0.7px}
    % \Xhline{0.7px}
    \end{tabular}
    }
    \hspace{2mm}

% b - Ablation on SI module
    \subfloat[Ablation on \textbf{mask-aware loss $\mathcal{L}_{ma}$}. $\mathcal{L}_{dis}$ is removed.
    \label{tab:ab_2}]
    { 
    % \!\!\!\!\!
    % \renewcommand\tabcolsep{11.5pt}
    \renewcommand\arraystretch{1.1} % 1.95
    % \footnotesize
    \small
    \begin{tabular}
    {l|ccc}
    % {p{27.8mm}|p{15mm}p{15mm}}
    \Xhline{0.7px}
    \centering
     & \textbf{mIoU$^s$} & \textbf{mIoU$^u$} & \textbf{hIoU} \\
    \hline 
    % \multicolumn{1}{c|}{FreeSeg} & 22.3 &  29.3 &  25.3\\
    \multicolumn{1}{c|}{$L_1$} & 38.6 $_{+16.3}$ &  45.8 $_{+16.5}$ &  41.8 $_{+16.5}$ \\
    \multicolumn{1}{c|}{$L_2$} & 40.0 $_{+17.7}$ &  45.8 $_{+16.5}$ &  42.7 $_{+17.4}$\\
    \rowcolor{gray!10}\multicolumn{1}{c|}{$SmoothL_1$} 
    & 39.9 $_{+17.6}$
    & 47.1 $_{\textcolor{red}{+17.8}}$ 
    & 43.1 $_{\textcolor{red}{+17.8}}$\\
    \multicolumn{1}{c|}{$KL$} & 40.9 $_{\textcolor{red}{+18.6}}$ &  41.8 $_{+12.5}$ &  41.3 $_{+16.0}$\\
    \Xhline{0.7px}
    \end{tabular}
    }
}


\resizebox{1.0\textwidth}{!}{

\centering

    % \hspace{4mm}
    \subfloat[Ablation of the \textbf{training iterations}
    \label{tab:ab-iter}]
    { 
    \centering%
    \footnotesize %scriptsize
    \renewcommand\tabcolsep{10pt}
    \renewcommand\arraystretch{1.2} % 1.95

        \begin{tabular}{l|cc}
        \Xhline{0.7px}
        \centering
         & \textbf{mIoU$^s$} & \textbf{mIoU$^u$}\\
        \hline
         500 iters & 37.7 &  47.0 \\
      \rowcolor{gray!10}  1k iters & 40.0 &  \textcolor{red}{49.7} \\ 
        2k iters & 41.1 &  47.6  \\
        3k iters & 41.4 &  46.5 \\
        4k iters & 41.5 &  46.1 \\
        5k iters & \textcolor{red}{42.0} &  45.7\\
        
        \Xhline{0.7px}
        \end{tabular}
    }
    \hspace{4mm}
    
% d - Ablation on SI module
    \subfloat[Ablation of the \textbf{frozen units in CLIP}
    \label{tab:ab-units}]
    { 
    \centering%
    \footnotesize
    \renewcommand\tabcolsep{6pt}
    \renewcommand\arraystretch{1.2} % 1.95

        \begin{tabular}{l|ccc}
        \Xhline{0.7px}
        \centering
         & \textbf{mIoU$^s$} & \textbf{mIoU$^u$} & \textbf{hIoU} \\
        \hline
         None & 40.6 &  44.7 &  42.5 \\
        + $cls.$ & \textcolor{red}{40.7} &  44.7 &  42.7 \\ 
        + $pos.$ & 40.6 &  44.9 &  42.8 \\
        + $mlp$ & 40.3 &  48.7 &  44.1 \\
 \rowcolor{gray!10}  + $conv.$ & 40.0 & \textcolor{red}{49.7} &  \textcolor{red}{44.3} \\
        + $proj.$ & 40.2 &  49.1 &  44.2 \\
        
        \Xhline{0.7px}
        \end{tabular}
    }
    \hspace{4mm}
    
% e - Ablation on SI module
    \subfloat[Ablation of the \textbf{start mask attention layer $L$}
    \label{tab:ab-layer}]
    { 
    \centering%
    \footnotesize
    \renewcommand\tabcolsep{11pt}
    \renewcommand\arraystretch{1.2} % 1.95

        \begin{tabular}{l|ccc}
        \Xhline{0.7px}
        \centering
         & \textbf{mIoU$^s$} & \textbf{mIoU$^u$} & \textbf{hIoU} \\
        \hline
         0 & 39.3 &  46.4 &  42.6 \\
        2 & 39.2 &  46.4 &  42.5 \\ 
        4 & 39.5 &  46.6 &  42.6 \\
        6 & \textcolor{red}{40.0} &  47.8 &  43.6 \\
      \rowcolor{gray!10}  8 & \textcolor{red}{40.0} &  \textcolor{red}{49.7} &  \textcolor{red}{44.3} \\
        10 & 39.9 &  45.7 &  42.6 \\
        
        \Xhline{0.7px}
        \end{tabular}
    }
}

% main caption
\vspace{-3mm}
\end{table*}


