

\begin{tikzpicture}[every node/.append style={scale=1.0}]

    \definecolor{matlabplot0}{rgb}{0.1154, 0.4519, 0.4522}
    \definecolor{matlabplot1}{rgb}{0.5313, 0.7875, 0.7877}
    
    \tikzset{BS style/.style={
        draw,
        minimum width=1cm,
        minimum height=4cm,
        fill=gray,
        % fill2=green,
        inner sep=0,
        outer sep=0,
        scale=0.75
    }}
    \tikzset{UE Style/.style={
        draw,
        fill=gray,
        minimum width=1.2cm,
        minimum height=2cm,
        scale=0.5
    }}

    %% Draw UE, gNB
    \path (1.7, 0) coordinate (UE_A_pos);
    \path (4.3, 0) coordinate (UE_B_pos);
    \path (0, 3) coordinate (BS_A_pos);
    \path (6, 3) coordinate (BS_B_pos);
    \draw (BS_A_pos) node[BS style,BaseStationSimple] (BS_A) {};
    \draw (BS_B_pos) node[BS style,BaseStationSimple] (BS_B) {};
    \draw (UE_A_pos) node[UserTerminal,UE Style, button fill color=gray!40] (UE_A) {};
    \draw (UE_B_pos) node[UserTerminal,UE Style, button fill color=gray!40] (UE_B) {};
  
  
    %% Draw the beams for gNB_A
    \def\pos{-65.5}
    % \draw (BS_A.antenna center) node[Beam,minimum width=0.75cm,minimum height=2.5mm,rotate=\pos-55,fill=matlabplot0!30] () {};
    % \draw (BS_A.antenna center) node[Beam,minimum width=0.75cm,minimum height=2.5mm,rotate=\pos+55,fill=matlabplot0!30] () {};
    % \draw (BS_A.antenna center) node[Beam,minimum width=1cm,minimum height=3.25mm,rotate=\pos-25,fill=matlabplot0!60] () {};
    % \draw (BS_A.antenna center) node[Beam,minimum width=1cm,minimum height=3.25mm,rotate=\pos+25,fill=matlabplot0!60] () {};
    % \draw (BS_A.antenna center) node[Beam,minimum width=2cm,minimum height=4mm,rotate=\pos,fill=matlabplot0!80] () {};
    
    \draw (BS_A.antenna center) node[Beam,minimum width=0.5cm,minimum height=2mm,rotate=\pos-55,fill=matlabplot0!30] () {};
    \draw (BS_A.antenna center) node[Beam,minimum width=0.5cm,minimum height=2mm,rotate=\pos+55,fill=matlabplot0!30] () {};
    \draw (BS_A.antenna center) node[Beam,minimum width=0.75cm,minimum height=2.5mm,rotate=\pos-25,fill=matlabplot0!60] () {};
    \draw (BS_A.antenna center) node[Beam,minimum width=0.75cm,minimum height=2.5mm,rotate=\pos+25,fill=matlabplot0!60] () {};
    \draw (BS_A.antenna center) node[Beam,minimum width=1.5cm,minimum height=3mm,rotate=\pos,fill=matlabplot0!80] () {};
  
    %% Draw the beams for gNB_B
    \definecolor{gnbB_color}{rgb}{0.82, 0.1, 0.26}
    \def\pos{-114.5}
    % \draw (BS_B.antenna center) node[Beam,minimum width=0.75cm,minimum height=2.5mm,rotate=\pos-55,fill=gnbB_color!30] () {};
    % \draw (BS_B.antenna center) node[Beam,minimum width=0.75cm,minimum height=2.5mm,rotate=\pos+55,fill=gnbB_color!30] () {};
    % \draw (BS_B.antenna center) node[Beam,minimum width=1cm,minimum height=3.25mm,rotate=\pos-25,fill=gnbB_color!60] () {};
    % \draw (BS_B.antenna center) node[Beam,minimum width=1cm,minimum height=3.25mm,rotate=\pos+25,fill=gnbB_color!60] () {};
    % \draw (BS_B.antenna center) node[Beam,minimum width=2cm,minimum height=4mm,rotate=\pos,fill=gnbB_color!80] (beam_1) {};
    \draw (BS_B.antenna center) node[Beam,minimum width=0.5cm,minimum height=2mm,rotate=\pos-55,fill=gnbB_color!30] () {};
    \draw (BS_B.antenna center) node[Beam,minimum width=0.5cm,minimum height=2mm,rotate=\pos+55,fill=gnbB_color!30] () {};
    \draw (BS_B.antenna center) node[Beam,minimum width=0.75cm,minimum height=2.5mm,rotate=\pos-25,fill=gnbB_color!60] () {};
    \draw (BS_B.antenna center) node[Beam,minimum width=0.75cm,minimum height=2.5mm,rotate=\pos+25,fill=gnbB_color!60] () {};
    \draw (BS_B.antenna center) node[Beam,minimum width=1.5cm,minimum height=3mm,rotate=\pos,fill=gnbB_color!80] (beam_1) {};
    
    %% Add labels
    \draw node[label,below of=UE_A, xshift=0.1cm, yshift=0.1cm] () {${\rm UE}_{\rm A}$};
    \draw node[label,below of=UE_B, xshift=0.1cm, yshift=0.1cm] () {${\rm UE}_{\rm B}$};
    \draw node[label,below of=BS_A, xshift=0cm, yshift=-0.9cm] () {${\rm gNB}_{\rm A}$};
    \draw node[label,below of=BS_B, xshift=0cm, yshift=-0.9cm] () {${\rm gNB}_{\rm B}$};
    
    %% Add signal and interference lines
    \draw[densely dotted,decoration={markings,mark= at position 0.5 with {\arrow{latex}},}, postaction={decorate}] (BS_A.antenna center) -- (UE_B.north);
    \draw[densely dotted,decoration={markings,mark= at position 0.5 with {\arrow{latex}},},postaction={decorate}] (BS_B.antenna center) -- (UE_A.north);
    \draw[decoration={markings,mark= at position 0.75 with {\arrow{latex}},},postaction={decorate}] (BS_A.antenna center) -- (UE_A.north);
    \draw[decoration={markings,mark= at position 0.75 with {\arrow{latex}},},postaction={decorate}] (BS_B.antenna center) -- (UE_B.north);
    
    %% Add the extra legend
    \path (2.2, 4.3) coordinate (Legend);
    \draw (Legend) -- ++(-0.25,0);
    \draw (Legend) ++ (0.6,0) node[label] () {Signal};
    \draw[densely dotted] (Legend) ++(0,-0.4) -- ++(-0.25,0);
    \draw (Legend) ++ (1,-0.4) node[label] () {Interference};
\end{tikzpicture}