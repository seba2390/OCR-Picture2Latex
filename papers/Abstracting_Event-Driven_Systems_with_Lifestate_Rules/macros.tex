% -*-latex-*-
\makeatletter

\newcommand{\semname}{\ensuremath{\lambda_{\text{life}}}\xspace}
\newcommand{\toolname}{DroidLife\xspace}

%65 manual traces
%68 automatic traces
\newcommand{\numtraces}{133 }
\newcommand{\nummantraces}{65 }
\newcommand{\numautotraces}{68 }
\newcommand{\nobjects}{-1 }

\newcommand{\todoSM}[1]{\todo[inline,color=green!40]{{\bf Sergio: } #1}}


\newcommand{\obsbad}{\ensuremath{\hat{\mathbb{B}_o}}\xspace}
\newcommand{\obsall}{\ensuremath{\hat{\mathbb{T}_o}}\xspace}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Tikz Stuff
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\tikzstyle{lastate}=[state,accepting,scale=0.3]
\tikzstyle{lainitial}=[initial,initial text={}, initial where=above]
\tikzstyle{lalabel}=[scale=1]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Listing Stuff
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%% Syntax
\lstdefinelanguage{Enable}{
  morekeywords={let,in,if,then,else,new,bind,invoke,enable,disable,allow,disallow,fun,true,false,me,app,fwk,event,callback,callin,force},
  literate={skip}{{$\bullet$}}1
}

\newcommand{\cbstyle}{\colordullx{0}\slshape}
\newcommand{\cistyle}{\colordullx{4}}
\newcommand{\fwktystyle}{\colordullx{1}\itshape\relsize{-1}}
\newcommand{\evtstyle}{\normalfont\ttfamily\scshape}
\lstdefinelanguage{exthighlighting}[]{highlighting}{%
  moredelim=**[is][\cbstyle]{|cb:}{|},
  moredelim=**[is][\cistyle]{|ci:}{|},
  moredelim=**[is][\fwktystyle]{|fwkty:}{|},
  moredelim=*[is][\evtstyle]{|evt:}{|}
}

\lstset{
  emphstyle=\cbstyle,
  emph={onCreate,onResume,onPause,onDestroy,onClick,onPrepared,onError,doInBackground},
  emphstyle={[2]\cistyle},
  emph={[2]setOnClickListener,setOnPreparedListener,reset,start,setEnabled,enable,disable,setDataSource,prepareAsync,execute,cancel,<init>,getResources,getWidth},
  emphstyle={[3]\fwktystyle},
  emph={[3]Activity,Button,AsyncTask,OnClickListener,View, Fragment}
}

\newcommand{\codej}[1]{\codex{language=Java,alsolanguage=exthighlighting}{#1}}
\newcommand{\coden}[1]{\codex{language=Enable,alsolanguage=exthighlighting}{#1}}
\newcommand{\enmkkw}[2]{\sbox#1{\coden{#2}}}

\newcommand{\codejmk}[3][\relax]{\sbox#2{#1\codej{#3}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Concrete Model
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\subst}[2]{\ensuremath{[#1/#2]}}

% Maps
\newcommand{\map}[1]{\ensuremath{[#1]}}
\newcommand{\maplet}[2]{\ensuremath{#1 \mathbin{\mapsto} #2}}
%\newcommand{\empmap}{\ensuremath{\map{\,}}}
\newcommand{\empmap}{\ensuremath{\cdot}}
\newcommand{\extmap}[2]{\ensuremath{[\maplet{#1}{#2}]}}
\newcommand{\MapST}[2]{\ensuremath{\left[\,#1 \SuchThat{#1}{#2} #2\,\right]}}

%%% Meta Variables
\newcommand{\term}{\ensuremath{t}}
\newcommand{\expr}{\ensuremath{e}}
\newcommand{\ExprSet}{\SetName{Expr}}
\newcommand{\var}{\ensuremath{x}}
\newcommand{\VarSet}{\SetName{Var}}
\newcommand{\fld}{\ensuremath{f}}
\newcommand{\FldSet}{\SetName{Field}}
\newcommand{\fun}{\ensuremath{\lambda}}
\newcommand{\cont}{\ensuremath{k}}
\newcommand{\ContSet}{\SetName{Cont}}
\newcommand{\val}{\ensuremath{v}}
\newcommand{\ValSet}{\SetName{Val}}
\newcommand{\addr}{\ensuremath{a}}
\newcommand{\AddrSet}{\SetName{Addr}}
\newcommand{\thunk}{\ensuremath{\kappa}}
\newcommand{\ThunkSet}{\SetName{Thunk}}
\newcommand{\handle}{\ensuremath{h}}
\newcommand{\HandleSet}{\SetName{Handle}}
\newcommand{\msg}{\ensuremath{m}}
\newcommand{\MsgSet}{\SetName{Msg}}
\newcommand{\pkg}{\ensuremath{g}}
\newcommand{\trans}{\ensuremath{\tau}}
\newcommand{\transset}{\ensuremath{T}}
\newcommand{\TransSet}{\SetName{Trans}}
\newcommand{\absTransSet}{\absofset{\TransSet}}
\newcommand{\observe}{\ensuremath{o}}
\newcommand{\ObserveSet}{\SetName{Observable}}
\newcommand{\obsty}{\MVar{oknd}}
\newcommand{\directive}{\ensuremath{r}}
\newcommand{\directiveset}{\ensuremath{R}}
\newcommand{\absrule}{\absof{\directive}}
\newcommand{\absrules}{\absof{\directiveset}}
\newcommand{\DirectiveSet}{\SetName{Cmd}}
\newcommand{\statepath}{\ensuremath{\pi}}
\newcommand{\statepathset}{\ensuremath{\Pi}}
\newcommand{\PathSet}{\SetName{Path}}
\newcommand{\trace}{\ensuremath{\varpi}}
\newcommand{\abstrace}{\ensuremath{\absof{\trace}}}
\newcommand{\traceset}{\ensuremath{\varPi}}
\newcommand{\abstraceset}{\ensuremath{\absof{\traceset}}}
\newcommand{\TraceSet}{\SetName{Trace}}
\newcommand{\absTransSeqSet}{\ensuremath{\seqof{\absofset{\TransSet}}}}
\newcommand{\obstrace}{\ensuremath{\theta}}
\newcommand{\obstraceset}{\ensuremath{\Theta}}
\newcommand{\ObsTraceSet}{\SetName{Observ}}
\newcommand{\SpecSet}{\SetName{LifeSpec}}
\newcommand{\weight}{\ensuremath{w}}
\newcommand{\tytag}{\ensuremath{T}}
\newcommand{\TytagSet}{\SetName{Tag}}

\newcommand{\Specmine}{\operatorname{spec\_mine}}

\newcommand{\env}{\ensuremath{\eta}}
\newcommand{\EnvSet}{\SetName{Env}}
\newcommand{\store}{\ensuremath{\rho}}
\newcommand{\StoreSet}{\SetName{Store}}
\newcommand{\eventmap}{\ensuremath{\mu}}
\newcommand{\EventmapSet}{\SetName{Enabled}}
\newcommand{\callinmap}{\ensuremath{\nu}}
\newcommand{\CallinmapSet}{\SetName{Allowed}}

\newcommand{\fmtevt}[1]{\ensuremath{\text{\evtstyle #1}}}
\newcommand{\evtcb}[2]{\enFrame{\fmtevt{#1}}{#2}}

\newcommand{\state}{\ensuremath{\sigma}}
\newcommand{\StateSet}{\SetName{State}}

\newsavebox{\@enkwLet}\enmkkw{\@enkwLet}{let}
\newcommand{\enkwLet}{\usebox{\@enkwLet}}
\newsavebox{\@enkwIn}\enmkkw{\@enkwIn}{in}
\newcommand{\enkwIn}{\usebox{\@enkwIn}}
\newsavebox{\@enkwIf}\enmkkw{\@enkwIf}{if}
\newcommand{\enkwIf}{\usebox{\@enkwIf}}
\newsavebox{\@enkwThen}\enmkkw{\@enkwThen}{then}
\newcommand{\enkwThen}{\usebox{\@enkwThen}}
\newsavebox{\@enkwElse}\enmkkw{\@enkwElse}{else}
\newcommand{\enkwElse}{\usebox{\@enkwElse}}
\newsavebox{\@enkwNew}\enmkkw{\@enkwNew}{new}
\newcommand{\enkwNew}{\usebox{\@enkwNew}}
\newsavebox{\@enkwBind}\enmkkw{\@enkwBind}{bind}
\newcommand{\enkwBind}{\usebox{\@enkwBind}}
\newsavebox{\@enkwInvoke}\enmkkw{\@enkwInvoke}{invoke}
\newcommand{\enkwInvoke}{\usebox{\@enkwInvoke}}
\newsavebox{\@enkwEnable}\enmkkw{\@enkwEnable}{enable}
\newcommand{\enkwEnable}{\usebox{\@enkwEnable}}
\newsavebox{\@enkwDisable}\enmkkw{\@enkwDisable}{disable}
\newcommand{\enkwDisable}{\usebox{\@enkwDisable}}
\newsavebox{\@enkwAllow}\enmkkw{\@enkwAllow}{allow}
\newcommand{\enkwAllow}{\usebox{\@enkwAllow}}
\newsavebox{\@enkwDisallow}\enmkkw{\@enkwDisallow}{disallow}
\newcommand{\enkwDisallow}{\usebox{\@enkwDisallow}}
\newsavebox{\@enkwFun}\enmkkw{\@enkwFun}{fun}
\newcommand{\enkwFun}{\usebox{\@enkwFun}}
\newsavebox{\@enkwForce}\enmkkw{\@enkwForce}{force}
\newcommand{\enkwForce}{\usebox{\@enkwForce}}
\newsavebox{\@enkwTrue}\enmkkw{\@enkwTrue}{true}
\newcommand{\enkwTrue}{\usebox{\@enkwTrue}}
\newsavebox{\@enkwFalse}\enmkkw{\@enkwFalse}{false}
\newcommand{\enkwFalse}{\usebox{\@enkwFalse}}
\newsavebox{\@enkwMe}\enmkkw{\@enkwMe}{me}
\newcommand{\enkwMe}{\usebox{\@enkwMe}}
\newsavebox{\@enkwApp}\enmkkw{\@enkwApp}{app}
\newcommand{\enkwApp}{\usebox{\@enkwApp}}
\newsavebox{\@enkwFwk}\enmkkw{\@enkwFwk}{fwk}
\newcommand{\enkwFwk}{\usebox{\@enkwFwk}}
\newsavebox{\@enkwEvent}\enmkkw{\@enkwEvent}{event}
\newcommand{\enkwEvent}{\usebox{\@enkwEvent}}
\newsavebox{\@enkwCallback}\enmkkw{\@enkwCallback}{callback}
\newcommand{\enkwCallback}{\usebox{\@enkwCallback}}
\newsavebox{\@enkwCallin}\enmkkw{\@enkwCallin}{callin}
\newcommand{\enkwCallin}{\usebox{\@enkwCallin}}

\newcommand{\fmtstate}[1]{\ensuremath{\mathsf{#1}}}
\newcommand{\enkwDisallowed}{\fmtstate{disallowed}}
\newcommand{\enkwInitial}{\fmtstate{initial}}

\newcommand{\enLet}[3]{\ensuremath{\enkwLet\;#1\;\pcode{=}\;#2\;\enkwIn\;#3}}
\newcommand{\enGetf}[2]{\ensuremath{#1\pcode{.}#2}}
\newcommand{\enPutf}[3]{\ensuremath{#1\pcode{.}#2\;\pcode{=}\;#3}}
\newcommand{\enNew}{\enkwNew}
\newcommand{\enSkipK}{\ensuremath{\bullet}}
\newcommand{\enSkip}{\ensuremath{()}}
\newcommand{\enSeq}[2]{\ensuremath{#1\pcode{;}\,#2}}
\newcommand{\enIf}[3]{\ensuremath{\enkwIf\;#1\;\enkwThen\;#2\;\enkwElse\;#3}}
\newcommand{\enBind}[2]{\ensuremath{\enkwBind\;#1\;#2}}
\newcommand{\enInvoke}[2]{\ensuremath{\enkwInvoke\;#1\;#2}}
\newcommand{\enEnable}[1]{\ensuremath{\enkwEnable\;#1}}
\newcommand{\enDisable}[1]{\ensuremath{\enkwDisable\;#1}}
\newcommand{\enAllow}[1]{\ensuremath{\enkwAllow\;#1}}
\newcommand{\enDisallow}[1]{\ensuremath{\enkwDisallow\;#1}}
\newcommand{\enFun}[3][\pkg]{\ensuremath{\enkwFun_{#1}\;#2\;\enkwIn\;#3}}
\newcommand{\enForce}[1]{\ensuremath{\enkwForce\;#1}}
\newcommand{\enTrue}{\enkwTrue}
\newcommand{\enFalse}{\enkwFalse}
\newcommand{\enMe}{\enkwMe}
\newcommand{\enApp}{\enkwApp}
\newcommand{\enAppSub}{\ensuremath{\mathbf{app}}}
\newcommand{\enFwk}{\enkwFwk}
\newcommand{\enFwkSub}{\ensuremath{\mathbf{fwk}}}
%\newcommand{\enEvent}[1]{\ensuremath{\enkwEvent\;#1}}
%\newcommand{\enCallback}[1]{\ensuremath{\enkwCallback\;#1}}
%\newcommand{\enCallin}[1]{\ensuremath{\enkwCallin\;#1}}
\newcommand{\enEvent}{\enkwEvent}
\newcommand{\enCallin}{\enkwCallin}
\newcommand{\enInitial}{\enkwInitial}
\newcommand{\enDisallowed}{\enkwDisallowed}
\newcommand{\enCallback}{\enkwCallback}

%\newcommand{\enClosure}[2]{\ensuremath{#1[#2]}}
\newcommand{\enClosure}[2]{\ensuremath{#1}}
\newcommand{\enMsg}[2]{\ensuremath{(#1,#2)}}
\newcommand{\extMsg}[2]{\ensuremath{[\enMsg{#1}{#2}]}}
%\newcommand{\ext}[1]{\ensuremath{[#1]}}
\newcommand{\ext}[1]{\ensuremath{, #1}}
%\newcommand{\enMsg}[2]{\ensuremath{#1 #2}}
\newcommand{\enThunk}[2]{\ensuremath{#1[#2]}}
\newcommand{\frameop}{\mathord{\gg}}
\newcommand{\enFrame}[2]{\ensuremath{#1\frameop#2}}

\newcommand{\enLetK}[4]{\ensuremath{\enkwLet\;#1\;\pcode{=}\;#2\;\enkwIn\;#3}}

\newcommand{\@enState}{}
%\long\def\@enState[#1][#2][#3][#4][#5][#6]{\ensuremath{\tuple{#1, #2, #3, #4, #5, #6}}}
\long\def\@enState[#1][#2][#3][#4][#5][#6]{\ensuremath{\tuple{#1, #3, #4, #5, #6}}}
\newcommand{\enState}{\optparams{\@enState}{[\expr][\env][\store][\eventmap][\callinmap][\cont]}}

\newcommand{\@enSigState}{}
\long\def\@enSigState[#1][#2][#3]{\ensuremath{\tuple{#1, #2, #3}}}
\newcommand{\enSigState}{\optparams{\@enSigState}{[\absof{\trace}][\absof{\eventmap}][\absof{\callinmap}]}}


\newcommand{\Package}{\operatorname{pkg}}
\newcommand{\Msg}{\operatorname{msg}}

\newcommand{\fmttrans}[1]{\ensuremath{\mathsf{#1}}}
\newcommand{\enkwInit}{\fmttrans{init}}
\newcommand{\enkwEvt}{\fmttrans{evt}}
\newcommand{\enkwCb}{\fmttrans{cb}}
\newcommand{\enkwCi}{\fmttrans{ci}}
\newcommand{\enkwDis}{\fmttrans{dis}}
\newcommand{\enkwRet}{\fmttrans{ret}}
\newcommand{\enkwFin}{\fmttrans{fin}}
\newcommand{\enObs}[2]{\ensuremath{#1\;#2}}
\newcommand{\enInit}{\fmttrans{init}}
\newcommand{\enEvt}[1]{\ensuremath{\enkwEvt\;#1}}
\newcommand{\enCb}[1]{\ensuremath{\enkwCb\;#1}}
\newcommand{\enCi}[1]{\ensuremath{\enkwCi\;#1}}
\newcommand{\enDis}[1]{\ensuremath{\enkwDis\;#1}}
\newcommand{\enRet}[1]{\ensuremath{\enkwRet\;#1}}
\newcommand{\enFin}[1]{\ensuremath{\enkwFin\;#1}}
\newcommand{\silentTrans}{\ensuremath{\varepsilon}}

\newcommand{\@displaydiamond}{\scalebox{1.17}[0.87]{$\displaystyle\Diamond$}}
\newcommand{\@textdiamond}{\scalebox{1.17}[0.87]{$\textstyle\Diamond$}}
\newcommand{\@scriptdiamond}{\scalebox{1.15}[0.87]{$\scriptstyle\Diamond$}}
\newcommand{\@scriptscriptdiamond}{\scalebox{1.11}[0.87]{$\scriptscriptstyle\Diamond$}}

\newcommand{\diamondplus}{\mathbin{\mathchoice%
{\ooalign{\@displaydiamond\cr\hidewidth$\displaystyle+$}}%
{\ooalign{\@textdiamond\cr\hidewidth$\textstyle+$}}%
{\ooalign{\@scriptdiamond\cr\hidewidth$\scriptstyle+$}}%
{\ooalign{\@scriptscriptdiamond\cr\hidewidth$\scriptscriptstyle+$}}%
}}
\newcommand{\diamondminus}{\mathbin{\mathchoice%
{\ooalign{\@displaydiamond\cr\hidewidth$\displaystyle-$}}%
{\ooalign{\@textdiamond\cr\hidewidth$\textstyle-$}}%
{\ooalign{\@scriptdiamond\cr\hidewidth$\scriptstyle-$}}%
{\ooalign{\@scriptscriptdiamond\cr\hidewidth$\scriptscriptstyle-$}}%
}}

%\newcommand{\specArrow}{\mathord{\shortrightarrow}}
\newcommand{\specArrow}{\mathord{\rightarrow}}
\newcommand{\nspecArrow}{\mathord{\nrightarrow}}
%\newcommand{\specEnableOp}{\mathop{\diamondplus}}
\newcommand{\specEnableOp}{\mathop{\text{\relsize{-1}\enkwEvt}}}
%\newcommand{\specDisableOp}{\mathop{\diamondminus}}
\newcommand{\specDisableOp}{\mathop{\text{\relsize{-1}\enkwEvt}}}
%\newcommand{\specAllowOp}{\mathop{\boxplus}}
\newcommand{\specAllowOp}{\mathop{\text{\relsize{-1}\enkwCi}}}
%\newcommand{\specDisallowOp}{\mathop{\boxminus}}
\newcommand{\specDisallowOp}{\mathop{\text{\relsize{-1}\enkwCi}}}

\newcommand{\specEnable}[3][]{\ensuremath{#2 \specArrow_{#1} \specEnableOp #3}}
\newcommand{\specDisable}[3][]{\ensuremath{#2 \nspecArrow_{#1} \specDisableOp #3}}
\newcommand{\specAllow}[3][]{\ensuremath{#2 \specArrow_{#1} \specAllowOp #3}}
\newcommand{\specDisallow}[3][]{\ensuremath{#2 \nspecArrow_{#1} \specDisallowOp #3}}

\newcommand{\allSpecs}[4]{\ensuremath{{#3}_{\joinrel{#1}{#2}}(#4)}}
\newcommand{\allEnables}[1]{\allSpecs{\specArrow}{\specEnableOp}{}{#1}}
\newcommand{\allDisables}[1]{\allSpecs{\nspecArrow}{\specDisableOp}{}{#1}}
\newcommand{\allAllows}[1]{\allSpecs{\specArrow}{\specAllowOp}{}{#1}}
\newcommand{\allDisallows}[1]{\allSpecs{\nspecArrow}{\specDisallowOp}{}{#1}}
\newcommand{\allRules}[1]{\allSpecs{\dashrightarrow}{}{}{#1}}

\newcommand{\specPermit}[3][]{\ensuremath{#2 \specArrow_{#1} #3}}
\newcommand{\specForbid}[3][]{\ensuremath{#2 \nspecArrow_{#1} #3}}


\newcommand{\Trace}{\operatorname{tr}}
\newcommand{\Observe}{\operatorname{obs}}
\newcommand{\Args}{\operatorname{args}}
\newcommand{\EvtArgs}{\operatorname{xargs}}
\newcommand{\Partition}{\operatorname{parti}}
\newcommand{\Callbacks}{\operatorname{evtcbs}}
\newcommand{\Elimci}{\operatorname{elimci}}

\newcommand{\slicectx}{\ensuremath{\Delta}}
\newcommand{\traceslice}[3][\slicectx]{\ensuremath{#2 \upharpoonright_{#3}^{#1}}}

%%% Judgments
\newcommand{\jstep}[3][]{\ensuremath{#2 \longrightarrow_{#1} #3}}
%\newcommand{\jstepins}[3][\trans]{\ensuremath{#2 \stackrel{\text{\normalsize$\longrightarrow$}}{\text{\scriptsize$#1$}} #3}}
\newcommand{\insstep}[1]{\mathrel{\ooalign{\raise0.25ex\hbox{$\longrightarrow$}\cr\hfil\raise-0.35ex\hbox{\relsize{-1}$#1$}\hfil}}}
\newcommand{\jstepins}[3][\trans]{\ensuremath{#2 \insstep{#1} #3}}

\newcommand{\jcaption}[1]{\hfill\fbox{\normalsize$#1$}}

%%% Abstraction
\newcommand{\absmsg}{\absof{\msg}}
\newcommand{\absforce}{\absof{\imath}}
\newcommand{\initforce}{\mathsf{init}}

\newcommand{\abselem}{\ensuremath{\AIabselementfn}}
\newcommand{\absconc}{\ensuremath{\absof{\AIconcfn}}}
\newcommand{\conc}{\ensuremath{\AIconcfn}}


%%% Spec learning
%\newcommand{\hmm}{\emph{HMM}}
\newcommand{\hmm}{HMM\xspace}
\newcommand{\pfsa}{\ensuremath{\text{\rm PFSA}}\xspace}
\newcommand{\mc}{MC\xspace}
\newcommand{\sharpsat}{\ensuremath{\sharp\text{SAT}}\xspace}
\newcommand{\Alphabet}{\ensuremath{\Sigma}}
\newcommand{\AlphabetCi}{\ensuremath{\Sigma_{\enkwCi}}}
\newcommand{\AlphabetCb}{\ensuremath{\Sigma_{\enkwEvt}}}
\newcommand{\RuleSet}{\ensuremath{RuleSet}}

%%% SharpSat
\newcommand{\abspath}{\ensuremath{\absof{\statepath}}}
\newcommand{\nondet}{\ensuremath{\text{\rm n}}}
\newcommand{\Card}[1]{\ensuremath{|{#1}|}}
\newcommand{\TraceFreq}[3]{\ensuremath{\SetName{Freq}({#1},{#2},{#3})}}
\newcommand{\threshold}{\ensuremath{\delta}}
\newcommand{\AbsPaths}[1]{\ensuremath{\SetName{Paths}({#1})}}
\newcommand{\AbsPathsRule}[2]{\ensuremath{\SetName{RulePaths}({#1},{#2})}}

%%% SharpSAT Encoding
\newcommand{\EncAbsPaths}[1]{\ensuremath{\SetName{EncPaths}({#1})}}
\newcommand{\EncAbsPathsRule}[2]{\ensuremath{\SetName{EncRulePaths}({#1},{#2})}}

%%% state var for a
\newcommand{\allvars}{\ensuremath{V}}
\newcommand{\statevarset}[1]{\ensuremath{X^{{#1}}}}
\newcommand{\statevar}[2]{\ensuremath{x_{{#1}}^{{#2}}}}
\newcommand{\permitset}[1]{\ensuremath{P^{{#1}}}}
\newcommand{\permitvar}[2]{\ensuremath{p_{{#1}}^{{#2}}}}
\newcommand{\prohibitset}[1]{\ensuremath{D^{{#1}}}}
\newcommand{\prohibitvar}[2]{\ensuremath{d_{{#1}}^{{#2}}}}

\newcommand{\actionenc}[2]{\ensuremath{Act({#1},{#2})}}
\newcommand{\encdis}[1]{\ensuremath{Dis({#1})}}
\newcommand{\encperm}[1]{\ensuremath{Perm({#1})}}

\makeatother
