% two-dimensional experiment
\subsection{Synthetic Derivative Observations}
\label{sec:derivative}
To validate our inter-domain SVGP framework, we study a derivative GP problem.
We follow the work in \citet{solak2003derivative}, which introduces derivative observations
in addition to regular function observations to reduce
uncertainty in learning dynamic systems.
We synthesize a 1D GP function from a random neural network with
sinusoidal non-linearities, and
obtain function derivatives using automatic differentiation.
%In practice the derivative observations could be obtained via physical detectors
%or estimated from observations \citep{solak2003derivative}.
The total observations consist of 100 function observations
and 20 derivative observations,
with added noise level $=0.05$ and $0.2$ respectively,
as depicted in Figure~\ref{fig:derivative-observations}.
%Note that it is possible to infer the function value using only
%the derivative observations \emph{up to a constant},
%but this deviates from the problem setting here.

We compare two inter-domain SVGP framework-based methods, HIP-GP and the standard SVGP,
to the exact GP. We use the squared exponential kernel
with signal variance $0.5$ and length scale $0.1$. For both HIP-GP and SVGP,
we apply the full-rank variational family.
The maximum number of PCG iterations within HIP-GP is set to 20.
We evaluate the predictive performance on 100 test data.
From Figure~\ref{fig:comparison-derivative} and \ref{tab:derivative-result},
we see that the inter-domain SVGP framework successfully utilizes
the derivative observations to improve the prediction quality with reduced uncertainty,
and is comparable to the exact method.


\begin{figure}[t!]
\centering
\begin{subfigure}{\columnwidth}
  \includegraphics[width=\textwidth]{figures/derivative-synthetic/noisy-derivatives-obs.png}
  \caption{Synthetic function and derivative observations}
	\label{fig:derivative-observations}
  \vspace{0.25cm}
\end{subfigure}
\begin{subfigure}{\columnwidth}
  \includegraphics[width=\textwidth]{figures/derivative-synthetic/derivative-comparison.png}
  \caption{HIP-GP posterior prediction with / without derivative observations for 100 test data.
  The solid blue line is the mean prediction
  and the shaded blue area is the 1 posterior standard deviation band.
  The red points indicate derivative observation locations with true function values.}
  %The addition of derivative observations significantly improve the mean prediction
  %and reduce the local uncertainty. }
	\label{fig:comparison-derivative}
  \vspace{0.25cm}
\end{subfigure}
\begin{subfigure}{\columnwidth}
  \centering
  \scalebox{.8}{
  \input{figures/derivative-synthetic/result.tex}
  }
	\caption{Predictive RMSE and uncertainty (i.e. average standard deviation) for 100 test data.}
	\label{tab:derivative-result}
\end{subfigure}
\caption{GP with derivative observations analysis.}
\label{fig:derivative-gp}
\end{figure}
