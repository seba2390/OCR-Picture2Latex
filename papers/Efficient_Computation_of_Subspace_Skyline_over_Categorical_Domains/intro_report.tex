\section{Introduction}\label{sec:inro}
\subsection{Motivation}
\label{sec:motivation}
Skyline queries are widely used in applications involving multi-criteria decision making~\cite{hwang2012multiple}, and are further related to well-known problems such as top-$k$ queries~\cite{ilyas2008survey,asudeh2016discovering}, preference collection~\cite{asudeh2015crowdsourcing}, and nearest neighbor search~\cite{kossmann2002}.
Given a set of tuples, skylines are computed by considering the dominance relationships among them. A tuple $p$ \textit{dominates} another tuple $q$, if $q$ is not better than $p$ in any dimension and $p$ is better than $q$ in at least one dimension. Moreover, a pair of tuples $p$ and $q$ are considered to be \textit{incomparable} if neither $p$ nor $q$ dominates the other. The {\em Skyline} is the set of tuples that are not dominated by any other tuple in the dataset~\cite{borzsony2001skyline}.

In recent years, several applications have gained popularity in assisting users in tasks ranging from selecting a hotel in an area to locating a nearby restaurant. AirBnB, TripAdvisor, hotels.com, Craigslist, and Zillow are a few such examples. The underlying datasets have numerous attributes that are mostly Boolean or categorical. 
They also include a few numeric attributes, but in most cases the numeric attributes are discretized and transformed into categorical attributes~\cite{morse2007efficient}.
For example, in the popular accommodation rental service AirBnB, the typical attributes are type and number of rooms, types of amenities offered, the number of occupants, etc. Table~\ref{tab:hostDataset} shows a toy example that contains a subset of attributes present in AirBnB. Note that most of the attributes are amenities provided by the hosts (the temporary rental providers) and are primarily Boolean. The AirBnB dataset features more than 40 such attributes describing amenities users can choose. One way of identifying desirable hosts in such a dataset is to focus on the non-dominated hosts. This is because if a listing $t$ dominates another listing $t'$ (i.e., $t$ is at least as good as $t'$ on all the attributes while is better on at least one attribute), $t$ should naturally be preferred over $t'$.

In the example shown in Table~\ref{tab:hostDataset}, "Host 1" and "Host 2" are in the skyline, while all the others are dominated by at least one of them.
In real-world applications, especially when the number of attributes increases, users naturally tend to focus on a subset of attributes that is of interest to them. For example, during an AirBnB query, 
we typically consider a few attributes while searching for hosts that are in the skyline. For instance, in the dataset shown in Table~\ref{tab:hostDataset}, one user might be interested in \textit{Breakfast} and \textit{Internet}, while another user might focus on \textit{Internet}, \textit{Cable TV}, and \textit{Pool} when searching for a host.


\begin{table}[!t]
\centering
\caption{A sample hosts dataset}\label{tab:hostDataset}
\begin{tabular}{|p{1cm}|p{1.3cm}|p{0.70cm}|p{0.7cm}|p{1cm}|p{1cm}|}
    \hline 
    Host Name & Breakfast & Pool & Cable TV & Internet & Ratings\\
    \hline 
    Host 1 & T & F & T & T & 4.0\\
    Host 2 & T & T & F & T & 4.5\\
    Host 3 & T & F & F & T & 3.5\\
    Host 4 & T & F & F & F & 3.0\\
    Host 5 & F & F & T & T & 3.5\\
    \hline
\end{tabular}
\end{table}

In this paper, we consider the problem of {\em subspace skyline discovery} over such datasets, in which given an ad-hoc subset of attributes as a query, the goal is to identify 
the tuples in the skyline involving only those attributes\footnote{Naturally this definition includes skyline discovery over all attributes of a relation.}. Such subspace skyline queries are an effective tool in assisting users in data exploration (e.g., an AirBnB customer can explore the returned skyline to narrow down to a preferred host). 

In accordance with common practice in traditional database query processing, we design solutions for two important practical instances of this problem, namely: (a) assuming that no indices exist on the underlying dataset, and (b) assuming that indices exist on each individual attribute of the dataset. The space devoted to indices is a practical concern; given that the number of possible subset queries is exponential we do not consider techniques that would construct indices for each possible subset as that would impose an exponential storage overhead (not to mention increased overhead for maintaining such indices under dynamic updates as it is typical in our scenario). Thus we explore a solution space in which index overhead ranges from zero to linear in the number of attributes, trading space for increased performance as numerous techniques in database query processing typically do \cite{gupta1995aggregate, das2006answering, halevy2001answering}.

To the best of our knowledge, LS~\cite{morse2007efficient} and Hexagon~\cite{preisinger2007hexagon} are the only two algorithms designed to compute skylines over categorical attributes. Both of these algorithms operate by creating {\em a lattice} over the attributes in a skyline query, which is feasible only when the number of attributes is really small. 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\subsection{Limitations of Prior Work}\label{subsec:limitationOfPrev}
%Skyline computation has been the subject of much investigation in recent years. There has also been prior works on the specific problem of subspace skyline query processing, which we briefly describe here (a more thorough discussion is deferred to Section~\ref{sec:relWork}). At one extreme lie prior works that utilize skycube for answering subspace skyline queries. These algorithms precompute and store the skyline of all possible queries, i.e., over the power set of attribute combinations~\cite{yuan2005efficient,raissi2010computing,pei2005catching}. Such approaches become infeasible as the number of attributes increases. For example, the size of the powerset of attribute combinations in AirBnB is more than {\em 1 trillion} (compared to the number of tuples which are of the order of several millions), so it is impractical to  compute and store the skyline for each combination. Moreover, maintaining the entire answer space is not practical in dynamic environments when the when data changes rapidly (e.g., in AirBnB, listings are inserted and removed very frequently).

%A vast body of work is devoted to techniques that compute skylines on demand, in the absence of any precomputations ~\cite{borzsony2001skyline,tan2001efficient,chomicki2005skyline} or with limited precomputations~\cite{borzsony2001skyline,kossmann2002,papadias2003}. However, these algorithms are not designed for answering skyline queries in online settings where users can issue query over any subset of attributes. Moreover, as further discussed in \S~\ref{sec:relWork}, most of this work concerns the efficient discovery of skylines over datasets of {\em numeric}-attributes -- in contrast to datasets of categorical attributes, which is the focus of our work. To the best of our knowledge, LS~\cite{morse2007efficient} and Hexagon~\cite{preisinger2007hexagon} are the only two algorithms designed to compute skylines over categorical attributes. First, both of these algorithms operate by creating {\em a lattice} over the attributes in a skyline query, which is feasible only when the number of attributes is small. This is because the lattice size is exponential on the number of attributes. For example, when the domain size of all the attributes is equal to four and there are fifteen attributes in the database, the lattice contains more than one billion nodes! Maintaining such a large structure in memory and processing is not reasonable, but is a requirement of the previous approaches. Clearly executing such algorithms with increasing number of attributes is not feasible (e.g., AirBnB offers more than forty amenities to choose from). Second, for any number of attributes involved in the query, previous approaches need to maintain the lattice in memory and scan the entire data set in order to identify the answer, without being able to utilize any type of indexing to prune the search space. %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\vspace{-2mm}
\subsection{Technical Highlights}
In this paper, we propose efficient algorithms to effectively identify the answer for any subspace skyline query. Our main focus is to overcome the limitations of previous works (\cite{morse2007efficient, preisinger2007hexagon}), introducing efficient and scalable skyline algorithms for categorical datasets. 


For the case when no indices are available, we design a tree structure to arrange the tuples in a ``candidate skyline'' set. 
The tree structure supports efficient dominance tests over the candidate set, thus reducing the overall cost of skyline computation. 
We then propose two novel algorithms called {\bf ST-S} (Skyline using Tree Sorting-based)  and {\bf ST-P} (Skyline using Tree Partition-based) 
that incorporate the tree structure into existing sorting- and partition-based algorithms. Both ST-S and ST-P work when no index is available on the underlying datasets and deliver superior performance for any subset skyline query.


Then, we utilize precomputed sorted lists~\cite{fagin2003optimal} and design efficient algorithms for the index-based version of our problem. 
As one of the main results of our paper, we propose the Threshold Algorithm for Skyline ({\bf TA-SKY}) capable of answering subspace skyline queries. In the context of {\bf TA-SKY}, we first start with a brief discussion of a few approaches that operate by constructing a full/partial lattice over the query space. However, these algorithms have a complexity that is exponential in the number of attributes involved in the skyline query. To overcome this limitation, we propose {\bf TA-SKY}, an interesting adaptation of the top-$K$ threshold (TA)~\cite{fagin2003optimal} style of processing for the subspace skyline problem. TA-SKY utilizes sorted lists and constructs the projection of the tuples in query space. 
%This adaptation is novel because TA-style algorithms are traditionally utilized to solve top-$k$ problems rather than skyline problems. 

TA-SKY proceeds by accumulating information, utilizing sequential access over the indices that enable it to stop early while guaranteeing that all skyline tuples have been identified. The early stopping condition enables TA-SKY to answer skyline queries {\em without accessing all the tuples}, thus reducing the total number of dominance checks, resulting in greater efficiency.
Consequently, as further discussed in \S\ref{sec:experiments}, TA-SKY demonstrates an order of magnitude speedup during our experiments.
In addition to TA-SKY, we subsequently propose novel optimizations to make the algorithm even more efficient. TA-SKY is an online algorithm - it can output a subset of skyline tuples without discovering the entire skyline set. The progressive characteristic of TA-SKY makes it suitable for web applications, with strict interactive requirements, where users want to get a subset of results very quickly.
We study this property of TA-SKY in \S\ref{sec:experiments} on the {\em entire AirBnB} data collection for which TA-SKY discovered more than two-thirds of the skyline in less than $3$ seconds while accessing around $2\%$ of the tuples, demonstrating the practical utility of our proposal.



\subsection{Summary of Contributions}
We propose a comprehensive set of algorithms for the subspace skyline discovery problem over categorical domains.
The summary of main contributions of this paper are as follows:
\begin{itemize}  
    \itemsep0em 
    \item We present a novel tree data structure that supports efficient dominance tests over relations with categorical attributes.
    \item We propose the ST-S and ST-P algorithms that utilize the tree data structure for the subspace skyline discovery problem, in the absence of indices.
    \item We propose TA-SKY, an efficient algorithm for answering subspace skyline queries with a linear worst case cost dependency to the number of attributes. The progressive characteristic of TA-SKY makes it suitable for interactive web-applications. This is a novel and the first (to our knowledge) adaptation of the TA style of processing to a skyline problem.
    \item We present a comprehensive theoretical analysis of the algorithms quantifying their performance analytically, and present the expected cost of each algorithm.
    \item We present the results of extensive experimental evaluations of the proposed algorithms over real-world and synthetic datasets at scale showing the benefits of our proposals. In particular, in all cases considered we demonstrate that the performance benefits of our approach are extremely large (in most cases by orders of magnitude) when compared to other applicable approaches.
\end{itemize}


\subsection{Paper Organization}
The rest of the paper is organized as follows. We discuss preliminaries, notations, and problem definition in \S\ref{sec:preliminaries}. Then, in \S\ref{sec:3}, we present the algorithm for identifying the subspace skyline over low-cardinality datasets, in the absence of precomputed indices. The algorithms for the case of considering the precomputed sorted lists are discussed in \S\ref{sec:subsky}. Following related work in \S\ref{sec:relWork}, we present the experimental results in \S\ref{sec:experiments}. \S\ref{sec:conclusion} concludes the paper.