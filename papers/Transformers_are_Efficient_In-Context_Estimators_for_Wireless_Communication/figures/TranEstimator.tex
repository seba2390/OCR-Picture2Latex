\begin{tikzpicture}
  [
  font=\small, >=stealth', line width=1pt,
  check/.style={rectangle, minimum height=2.5mm, minimum width=2.5mm, draw=black},
  varnode/.style={circle, minimum size=2mm, draw=black},
  mmse/.style={rectangle, minimum height=7.5mm, minimum width=25mm, rounded corners, draw=black},
  quantity/.style={rectangle, minimum height=8mm, minimum width=8mm, rounded corners, draw=black},
  multiply/.style={trapezium, trapezium angle=75, draw=black, minimum width=10mm, minimum height=8mm, rounded corners}
  ]

  \draw[draw=black, rounded corners] (2.5,-1.5) rectangle (5.5,1.5);
  \node at (4,0) {Transformer};

  \draw[->] (5.5,0) to node[above]{$\hat{\rx}_t$} (8,0);

  \draw[->] (1,1.375) to (1.25,1.75) to (0.75,1.75) to (1,1.375) to (1,1) to node[above]{$\ry_t^1$} (2.5,1);
  \draw[->] (1,0.375) to (1.25,0.75) to (0.75,0.75) to (1,0.375) to (1,0) to node[above]{$\ry_t^2$} (2.5,0);
  \draw[->] (1,-0.625) to (1.25,-0.25) to (0.75,-0.25) to (1,-0.625) to (1,-1) to node[above]{$\ry_t^d$} (2.5,-1);

  \draw[->] (-3,0) to node[above]{$\rx_t$} (-1.75,0);
  \draw[dashed,shorten <=5pt] (-1.75,0) -- node[above,yshift=5pt]{$\rh_t^1 (\theta)$} (0.75,1.5);
  \draw[dashed,shorten <=5pt] (-1.75,0) -- node[below,xshift=15pt,yshift=3pt]{$\rh_t^2 (\theta)$} (0.75,0.5);
  \draw[dashed,shorten <=5pt] (-1.75,0) -- node[below]{$\rh_t^d (\theta)$} (0.75,-0.5);

  \draw[<-,densely dotted,rounded corners] (-0.375,-1) to (-0.375,-1.625) to node[above] {Context $\theta$} (-2.25,-1.625);
\end{tikzpicture}