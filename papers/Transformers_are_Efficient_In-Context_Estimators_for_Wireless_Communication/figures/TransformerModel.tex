\begin{tikzpicture}
  [
  font=\small, >=stealth', line width=1pt,
  check/.style={rectangle, minimum height=2.5mm, minimum width=2.5mm, draw=black},
  varnode/.style={circle, minimum size=2mm, draw=black},
  mmse/.style={rectangle, minimum height=7.5mm, minimum width=25mm, rounded corners, draw=black},
  quantity/.style={rectangle, minimum height=8mm, minimum width=8mm, rounded corners, draw=black},
  multiply/.style={trapezium, trapezium angle=75, draw=black, minimum width=10mm, minimum height=8mm, rounded corners}
  ]

  \draw[draw=black, rounded corners] (2.5,-1.5) rectangle (8.5,1.5);
  % \node at (6,0) {Transformer};


\node[below] at (3.0, -2) {$\mathbf{y}_1$};
\draw[->] (3.0, -2) to (3.0, -1.5);
\node[below] at (3.5, -2) {$\mathbf{x}_1$};
\draw[->] (3.5, -2) to (3.5, -1.5);


\draw[dashed,shorten <=5pt] (3, -1.5) to (3.5, 1.5);


\node[below] at (4.0, -2) {$\mathbf{y}_2$};
\draw[->] (4.0, -2) to (4.0, -1.5);
\node[below] at (4.5, -2) {$\mathbf{x}_2$};
\draw[->] (4.5, -2) to (4.5, -1.5);

\node at (5.5, 2.0){$\dots$};
\node at (5.25, -2.0){$\dots$};



\draw[dashed,shorten <=5pt] (3, -1.5) to (4.5, 1.5);
\draw[dashed,shorten <=5pt] (3.5, -1.5) to (4.5, 1.5);
\draw[dashed,shorten <=5pt] (4, -1.5) to (4.5, 1.5);


\node[below] at (6, -2) {$\mathbf{y}_k$};
\draw[->] (6, -2) to (6, -1.5);
\node[below] at (6.5, -2) {$\mathbf{x}_k$};
\draw[->] (6.5, -2) to (6.5, -1.5);

\node[below] at (7.0, -2) {$\mathbf{y}_{k+1}$};
\draw[->] (7.0, -2) to (7.0, -1.5);


\draw[->] (3.5, 1.5) to node[above=7pt]{$T_W^{1}$} (3.5, 2.0);
\draw[->] (4.5, 1.5) to node[above=7pt]{$T_W^{2}$} (4.5, 2.0);
\draw[->] (7.5, 1.5) to node[above=7pt]{$T_W^{k+1}$} (7.5, 2.0);

\draw[dashed,shorten <=5pt] (3, -1.5) to (7.5, 1.5);
\draw[dashed,shorten <=5pt] (3.5, -1.5) to (7.5, 1.5);
\draw[dashed,shorten <=5pt] (4, -1.5) to (7.5, 1.5);
\draw[dashed,shorten <=5pt] (4.5, -1.5) to (7.5, 1.5);
\draw[dashed,shorten <=5pt] (6.0, -1.5) to (7.5, 1.5);
\draw[dashed,shorten <=5pt] (6.5, -1.5) to (7.5, 1.5);
\draw[dashed,shorten <=5pt] (7.0, -1.5) to (7.5, 1.5);

\draw[<->, thick] (3, -3) to (6.5, -3);
\node at (4.5, -2.75) {$S_k$};








  % \draw[->] (5.5,0) to node[above]{Estimate of $x_t$} (8,0);

  % \draw[->] (1,1.375) to (1.25,1.75) to (0.75,1.75) to (1,1.375) to (1,1) to node[above]{$y_t^1$} (2.5,1);
  % \draw[->] (1,0.375) to (1.25,0.75) to (0.75,0.75) to (1,0.375) to (1,0) to node[above]{$y_t^2$} (2.5,0);
  % \draw[->] (1,-0.625) to (1.25,-0.25) to (0.75,-0.25) to (1,-0.625) to (1,-1) to node[above]{$y_t^d$} (2.5,-1);

  % \draw[->] (-3,0) to node[above]{$x_t$} (-1.75,0);
  % \draw[dashed,shorten <=5pt] (-1.75,0) -- node[above,xshift=5pt]{$h_t^1 (\theta)$} (0.75,1.5);
  % \draw[dashed,shorten <=5pt] (-1.75,0) -- node[below,yshift=15pt,xshift=3pt]{$h_t^2 (\theta)$} (0.75,0.5);
  % \draw[dashed,shorten <=5pt] (-1.75,0) -- node[below]{$h_t^d (\theta)$} (0.75,-0.5);

  % \draw[<-,denselx dotted,rounded corners] (-0.375,-1) to (-0.375,-1.625) to node[above] {Conteyt $\theta$} (-2.25,-1.625);
\end{tikzpicture}