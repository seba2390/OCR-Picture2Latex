\begin{tikzpicture}[x=0.2cm]

  \FPeval{\spahalf}{clip(0.9)}
  \FPeval{\spamore}{clip(0.2)}

  \node[latent] (x-1)  {$X_1$} ;
  \foreach \i in {2,...,5}{
    \FPeval{\prev}{clip(\i - 1)}
    \node[latent, right=of x-\prev] (x-\i)  {$X_{\i}$} ;
  }
  \node[latent, right=of x-5, xshift=\spamore cm] (x-6)  {$X_6$} ;
  \foreach \i in {7,...,8}{
    \FPeval{\prev}{clip(\i - 1)}
    \node[latent, right=of x-\prev] (x-\i)  {$X_{\i}$} ;
  }
  \node[const, right=of x-8] (x-ellipsis)  {...} ;
  \node[latent, right=of x-ellipsis] (x-97)  {$X_{97}$} ;
  \node[latent, right=of x-97]       (x-98)  {$X_{98}$} ;
  \node[latent, right=of x-98]       (x-99)  {$X_{99}$} ;

  \gate {} {(x-1)(x-2)(x-3)(x-4)(x-5)} {}
  \gate {} {(x-6)(x-7)(x-8)} {}
  \gate {lastcluster} {(x-97)(x-98)(x-99)} {}
  \node[const, right=of lastcluster]    (cl-comment)  {$\longleftarrow$ clusters} ;

  \node[latent, below=of x-3]    (t-1)  {$\theta_{1}$} ;
  \foreach \i in {1,...,5}{
    \edge[-] {x-\i} {t-1}
  }
  \node[latent, below=of x-7]    (t-2)  {$\theta_{2}$} ;
  \foreach \i in {6,...,8}{
    \edge[-] {x-\i} {t-2}
  }
  \node[const, right=of t-2, xshift=\spahalf cm] (t-ellipsis)  {...} ;
  \node[latent, below=of x-98]    (t-k)  {$\theta_{K}$} ;
  \foreach \i in {97,...,99}{
    \edge[-] {x-\i} {t-k}
  }
  
\end{tikzpicture}
