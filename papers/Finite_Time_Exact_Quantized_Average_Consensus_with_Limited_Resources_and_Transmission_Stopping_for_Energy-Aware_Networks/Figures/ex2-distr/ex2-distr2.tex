\documentclass{article}

\usepackage{multido}
\usepackage{amsfonts}
\usepackage{pstricks,pst-plot,pst-node,pst-tree,pstricks-add}


\pagestyle{empty}
\newpsobject{showgrid}{psgrid}{subgriddiv=1,griddots=10}
\begin{document}

%%\noindent 2 circles and a square
\begin{center}
\begin{pspicture}(0,0)(10,10)

\psset{arrows=->,arcangle=10,arrowsize=4pt 2,labelsep=2pt}

$
\psmatrix
\cnodeput[fillstyle=solid,fillcolor=lightgray](6,6){S6}{v_6}
\cnodeput[fillstyle=solid,fillcolor=lightgray](2.5,7.5){S3}{v_3}
\cnodeput[fillstyle=solid,fillcolor=lightgray](6,9){S5}{v_5}
\cnodeput[fillstyle=solid,fillcolor=lightgray](4.5,7.5){S4}{v_4}
\cnodeput[fillstyle=solid,fillcolor=lightgray](1,9){S1}{v_1}
\cnodeput[fillstyle=solid,fillcolor=lightgray](1,6){S2}{v_2}
\psset{nodesep=3pt}

\rput(1,9.5){\overline{x}_1=0}
\rput(1,5.5){\overline{x}_2=0}
\rput(3.2,7){\overline{x}_3=0}
\rput(4,8.1){\overline{x}_4=0}
\rput(6,9.5){\overline{x}_5=-2}
\rput(6,5.5){\overline{x}_6=-1}



%\nccircle[arrowsize=4pt 2, angle=90]{->}{S1}{4.5mm}^{1/3\ \ \ \  \   \   \ }
%\nccircle[arrowsize=4pt 2, angle=-90]{<-}{S2}{4.5mm}^{\ \ \ \ \ \ 1/3}
%\nccircle[arrowsize=4pt 2, angle=90]{->}{S3}{4.5mm}^{1/2 \ \ \ \ \ \ }
%\nccircle[arrowsize=4pt 2, angle=-90]{<-}{S4}{4.5mm}^{\ \ \ \ \ \ 1/2}
%\nccircle[arrowsize=4pt 2, angle=-180]{<-}{S5}{4.5mm}^{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 1/3}



\ncarc[arcangle=0]{->}{S3}{S4}^{1}
\ncarc[arcangle=30]{->}{S1}{S3}%^{1}
\rput(2.2,8.7){2}
\ncarc[arcangle=30]{->}{S3}{S1}^{1}
\ncarc[arcangle=30]{->}{S2}{S3}%^{1}
\rput(1.3,7.2){2}
\ncarc[arcangle=30]{->}{S3}{S2}^{1}
\ncarc[arcangle=30]{->}{S4}{S6}%^{1}
\rput(5.8,7.2){1.5}
\ncarc[arcangle=30]{->}{S6}{S4}^{1}
\ncarc[arcangle=30]{->}{S4}{S5}%^{1}
\rput(4.6,8.6){1.5}
\ncarc[arcangle=30]{->}{S5}{S4}^{1}
\ncarc[arcangle=-30]{->}{S5}{S3}^{1}
\ncarc[arcangle=-20]{->}{S5}{S1}^{1}
\ncarc[arcangle=10]{->}{S6}{S2}^{1}


\endpsmatrix
$




\end{pspicture}
\end{center}

\end{document}
