% https://tex.stackexchange.com/a/166290
\pgfplotstableread{data/appendix/drills2.dat}{\firsttable}%
    \pgfplotstablegetrowsof{data/appendix/drills2.dat}%
    \pgfmathtruncatemacro{\rows}{\pgfplotsretval-1}% Put the number of row minus one in \rows, to use : \foreach \p in {0,...,\rows}
\pgfmathsetmacro{\Zscale}{10}% adjust maximum z values
% Assign variables min, max
\pgfplotstablegetelem{0}{[index] 0}\of{\firsttable}%
    \pgfmathsetmacro{\minX}{\pgfplotsretval/\scale}%
\pgfplotstablegetelem{0}{[index] 1}\of{\firsttable}%
    \pgfmathsetmacro{\minY}{\pgfplotsretval/\scale}%
\pgfplotstablegetelem{0}{[index] 2}\of{\firsttable}%
    \pgfmathsetmacro{\minZ}{\pgfplotsretval}%
\pgfplotstablegetelem{1}{[index] 0}\of{\firsttable}%
    \pgfmathsetmacro{\maxX}{\pgfplotsretval/\scale}%
\pgfplotstablegetelem{1}{[index] 1}\of{\firsttable}%
    \pgfmathsetmacro{\maxY}{\pgfplotsretval/\scale}%
\pgfplotstablegetelem{1}{[index] 2}\of{\firsttable}%
    \pgfmathsetmacro{\maxZ}{\pgfplotsretval}%
\pgfmathsetmacro{\Zceiling}{8/\scale}% contain the values of z
\pgfmathsetmacro{\epsZ}{0.5} % Z-min epsilon
\ifdefined\SHOWMAP%
    \pgfplotstableread{data/appendix/mapstd2.dat}{\maptable}%
        \pgfplotstablegetrowsof{data/appendix/mapstd2.dat}%
        \pgfmathtruncatemacro{\maprows}{\pgfplotsretval-1}%
    \pgfplotstablegetelem{0}{[index] 0}\of{\maptable}%
        \pgfmathsetmacro{\minXS}{\pgfplotsretval/\scale}%
    \pgfplotstablegetelem{0}{[index] 1}\of{\maptable}%
        \pgfmathsetmacro{\minYS}{\pgfplotsretval/\scale}%
    \pgfplotstablegetelem{0}{[index] 2}\of{\maptable}%
        \pgfmathsetmacro{\minZS}{\pgfplotsretval/\scale}%
    \pgfplotstablegetelem{1}{[index] 0}\of{\maptable}%
        \pgfmathsetmacro{\maxXS}{\pgfplotsretval/\scale}%
    \pgfplotstablegetelem{1}{[index] 1}\of{\maptable}%
        \pgfmathsetmacro{\maxYS}{\pgfplotsretval/\scale}%
    \pgfplotstablegetelem{1}{[index] 2}\of{\maptable}%
        \pgfmathsetmacro{\maxZS}{\pgfplotsretval/\scale}%
\fi%
\pgfplotstableread{data/appendix/decisions2.dat}{\decisiontable}%
    \pgfplotstablegetelem{0}{[index] 0}\of{\decisiontable}%
        \let\nodecision\pgfplotsretval%
    \pgfplotstablegetelem{0}{[index] 1}\of{\decisiontable}%
        \let\yesdecision\pgfplotsretval%
\ifdefined\SHOWACTION%
    \pgfplotstableread{data/action.dat}{\actiontable}%
        \pgfplotstablegetelem{0}{[index] 0}\of{\actiontable}%
            \pgfmathsetmacro{\actionx}{\pgfplotsretval/\scale}%
        \pgfplotstablegetelem{0}{[index] 1}\of{\actiontable}%
            \pgfmathsetmacro{\actiony}{\pgfplotsretval/\scale}%
        \pgfplotstablegetelem{0}{[index] 2}\of{\actiontable}%
            \let\actioninfo\pgfplotsretval%
    \colorlet{actioncolor}[hsb]{red}%
\fi%