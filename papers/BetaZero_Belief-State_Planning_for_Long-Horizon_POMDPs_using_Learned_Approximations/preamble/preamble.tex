%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% AAAI 24
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \usepackage[submission]{preamble/aaai24}  % DO NOT CHANGE THIS
\usepackage{preamble/aaai24}  % DO NOT CHANGE THIS (CAMERA READY)
\usepackage{times}  % DO NOT CHANGE THIS
\usepackage{helvet}  % DO NOT CHANGE THIS
\usepackage{courier}  % DO NOT CHANGE THIS
\usepackage[hyphens]{url}  % DO NOT CHANGE THIS
\usepackage{graphicx} % DO NOT CHANGE THIS
\urlstyle{rm} % DO NOT CHANGE THIS
\def\UrlFont{\rm}  % DO NOT CHANGE THIS
\usepackage{natbib}  % DO NOT CHANGE THIS AND DO NOT ADD ANY OPTIONS TO IT
\usepackage{caption} % DO NOT CHANGE THIS AND DO NOT ADD ANY OPTIONS TO IT
\frenchspacing  % DO NOT CHANGE THIS
\setlength{\pdfpagewidth}{8.5in} % DO NOT CHANGE THIS
\setlength{\pdfpageheight}{11in} % DO NOT CHANGE THIS
%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Other packages
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{xcolor}
\usepackage{graphicx}
\graphicspath{{figures/}}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{cleveref}
\usepackage{svg}
\usepackage{preamble/vector} % local
\usepackage{caption}
\usepackage{subcaption}
\usepackage{adjustbox}
\usepackage{longtable,tabularx,booktabs}
\usepackage[flushleft]{threeparttable}
\usepackage{multirow}
\usepackage{lipsum}
\usepackage{makecell}
\usepackage{mdframed}
\usepackage{framed}
\usepackage{comment}
\usepackage{dsfont} % \mathds{1}
\usepackage{preamble/vector} % local
\usepackage{mathtools}
\usepackage[title]{appendix}
\usepackage[bottom]{footmisc} % footnotes below floats
\usepackage{colortbl}
\makeatletter
\@namedef{ver@fixltx2e.sty}{}
\makeatother
\usepackage{dblfloatfix}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Algorithms
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{algorithmicx}
\usepackage{algorithm}
\usepackage{algpseudocode}

% Algorithm style.
% http://tug.ctan.org/tex-archive/macros/latex/contrib/algorithmicx/algpseudocode.sty
\algdef{SE}[FOR]{ParallelFor}{EndParallelFor}[1]{\textbf{parallel} \algorithmicfor\ #1}{\algorithmicend}%
\algdef{SE}[FOR]{For}{EndFor}[1]{\algorithmicfor\ #1}{\algorithmicend}%
\algdef{SE}[IF]{If}{EndIf}[1]{\algorithmicif\ #1}{\algorithmicend}%
\algdef{C}[IF]{IF}{ElsIf}[1]{\algorithmicelse\ \algorithmicif\ #1}%
\algdef{Ce}[ELSE]{IF}{Else}{EndIf}{\algorithmicelse}%
\algdef{SE}[FUNCTION]{Function}{EndFunction}%
   [2]{\algorithmicfunction\ \textproc{#1}\ifthenelse{\equal{#2}{}}{}{(#2)}}%
   {\algorithmicend}%
\algtext*{EndFunction} % remove "end" for functions only
\algrenewcommand\alglinenumber[1]{\color{gray}\tiny #1}

\definecolor{commentgray}{rgb}{0.7, 0.7, 0.7}
\newcommand{\GrayComment}[1]{{\hfill{\color{commentgray}$\triangleright$ #1}}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% AAAI 24
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% These are are recommended to typeset listings but not required. See the subsubsection on listing. Remove this block if you don't have listings in your paper.
\usepackage{newfloat}
\usepackage{listings}
\DeclareCaptionStyle{ruled}{labelfont=normalfont,labelsep=colon,strut=off} % DO NOT CHANGE THIS
\lstset{%
	basicstyle={\footnotesize\ttfamily},% footnotesize acceptable for monospace
	numbers=left,numberstyle=\footnotesize,xleftmargin=2em,% show line numbers, remove this entire line if you don't want the numbers.
	aboveskip=0pt,belowskip=0pt,%
	showstringspaces=false,tabsize=2,breaklines=true}
\floatstyle{ruled}
\newfloat{listing}{tb}{lst}{}
\floatname{listing}{Listing}
%
% Keep the \pdfinfo as shown here. There's no need
% for you to add the /Title and /Author tags.
\pdfinfo{
/TemplateVersion (2024.1)
}

% DISALLOWED PACKAGES
% \usepackage{authblk} -- This package is specifically forbidden
% \usepackage{balance} -- This package is specifically forbidden
% \usepackage{color (if used in text)
% \usepackage{CJK} -- This package is specifically forbidden
% \usepackage{float} -- This package is specifically forbidden
% \usepackage{flushend} -- This package is specifically forbidden
% \usepackage{fontenc} -- This package is specifically forbidden
% \usepackage{fullpage} -- This package is specifically forbidden
% \usepackage{geometry} -- This package is specifically forbidden
% \usepackage{grffile} -- This package is specifically forbidden
% \usepackage{hyperref} -- This package is specifically forbidden
% \usepackage{navigator} -- This package is specifically forbidden
% (or any other package that embeds links such as navigator or hyperref)
% \indentfirst} -- This package is specifically forbidden
% \layout} -- This package is specifically forbidden
% \multicol} -- This package is specifically forbidden
% \nameref} -- This package is specifically forbidden
% \usepackage{savetrees} -- This package is specifically forbidden
% \usepackage{setspace} -- This package is specifically forbidden
% \usepackage{stfloats} -- This package is specifically forbidden
% \usepackage{tabu} -- This package is specifically forbidden
% \usepackage{titlesec} -- This package is specifically forbidden
% \usepackage{tocbibind} -- This package is specifically forbidden
% \usepackage{ulem} -- This package is specifically forbidden
% \usepackage{wrapfig} -- This package is specifically forbidden
% DISALLOWED COMMANDS
% \nocopyright -- Your paper will not be published if you use this command
% \addtolength -- This command may not be used
% \balance -- This command may not be used
% \baselinestretch -- Your paper will not be published if you use this command
% \clearpage -- No page breaks of any kind may be used for the final version of your paper
% \columnsep -- This command may not be used
% \newpage -- No page breaks of any kind may be used for the final version of your paper
% \pagebreak -- No page breaks of any kind may be used for the final version of your paperr
% \pagestyle -- This command may not be used
% \tiny -- This is not an acceptable font size.
% \vspace{- -- No negative value may be used in proximity of a caption, figure, table, section, subsection, subsubsection, or reference
% \vskip{- -- No negative value may be used to alter spacing above or below a caption, figure, table, section, subsection, subsubsection, or reference

\setcounter{secnumdepth}{1} %May be changed to 1 or 2 if section numbers are desired.

% The file aaai24.sty is the style file for AAAI Press
% proceedings, working notes, and technical reports.
%

% Title

% Your title must be in mixed case, not sentence case.
% That means all verbs (including short verbs like be, is, using,and go),
% nouns, adverbs, adjectives should be capitalized, including both words in hyphenated terms, while
% articles, conjunctions, and prepositions are lower case unless they
% directly follow a colon or long dash
\title{BetaZero: Belief-State Planning for Long-Horizon\\POMDPs using Learned Approximations}
\author{
    Robert J. Moss\textsuperscript{\rm 1}, Anthony Corso\textsuperscript{\rm 2}, Jef Caers\textsuperscript{\rm 3}, Mykel J. Kochenderfer\textsuperscript{\rm 2}
}
\affiliations{
    %Afiliations
    \textsuperscript{\rm 1}Computer Science Department,
    \textsuperscript{\rm 2}Aeronautics and Astronautics Department,\\
    \textsuperscript{\rm 3}Earth and Planetary Sciences Department\\
    Stanford University\\
    \{mossr,\,acorso,\,jcaers,\,mykel\}@stanford.edu
}


% REMOVE THIS: bibentry
% This is only needed to show inline citations in the guidelines document. You should not need it and can safely delete it.
\usepackage{bibentry}
% END REMOVE bibentry

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Formatting Helpers
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Things for beautiful tables
\newcommand{\rulesep}{\unskip\ \textcolor{lightgray}{\vrule}\ }
\newcommand{\tworow}[1]{\multirow{2}{*}{{#1}}}
\newcommand{\cpomcpow}{\cite{sunberg2018online,wu2021adaptive}}
\newcommand{\cdespot}{\cite{ye2017despot,wu2021adaptive}}
\newcommand{\cadaops}{\cite{wu2021adaptive}}
\newcommand{\scs}[1]{{\scriptsize#1}}
\newcommand{\pp}{\phantom{)}}
\newcommand{\td}[1]{\color{magenta}#1}
\newcommand{\negphantom}[1]{\settowidth{\dimen0}{#1}\hspace*{-\dimen0}}
\newcommand{\np}{\negphantom{)}}
\newcommand{\lit}[1]{{\color[rgb]{0.7,0.7,0.7}(#1)}\np}
\newcommand{\litdesc}[1]{\lit{#1}\phantom{)}}
\newcommand{\textdoublequotes}{\textsf{''}}
\newcommand{\sameresultsparen}{\textdoublequotes{}\phantom{\ 0.00)}}
\newcommand{\sameresults}{\textdoublequotes{}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% TiKZ and PGF plots
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{tikz}
\usepackage{pgfplots}
\pgfplotsset{compat=newest}

\usetikzlibrary{calc}
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{external}
\usetikzlibrary{patterns}
\usetikzlibrary{shapes,arrows,fit}
\usetikzlibrary{positioning}
\usetikzlibrary{arrows.meta, calc, shapes}
\usetikzlibrary{graphs}
\usetikzlibrary{decorations.pathmorphing}
\usetikzlibrary{decorations.pathreplacing}
\usetikzlibrary{backgrounds}
\usetikzlibrary{shadows}

\usepackage{pagecolor}

\definecolor{blues1}{RGB}{198, 219, 239}
\definecolor{blues2}{RGB}{158, 202, 225}
\definecolor{blues3}{RGB}{107, 174, 214}
\definecolor{blues4}{RGB}{49, 130, 189}
\definecolor{blues5}{RGB}{8, 81, 156}

\definecolor{grays1}{RGB}{219, 219, 219}
\definecolor{grays2}{RGB}{202, 202, 202}
\definecolor{grays3}{RGB}{174, 174, 174}
\definecolor{grays4}{RGB}{130, 130, 130}
\definecolor{grays5}{RGB}{81, 81, 81}

% From "MCTS diagram (Belief MDP, BetaZero)" Overleaf
\usepackage{pagecolor}

% \newcommand*{\INVERTED}{}

\ifdefined\INVERTED
    % Inverted colors
    \def\primarycolor{white}
    \def\secondarycolor{black}
    % \pagecolor{black}
\else
    % Standard colors
    \def\primarycolor{black}
    \def\secondarycolor{white}
\fi

%% PGFPlotsX.jl
\usetikzlibrary{arrows.meta}
\usetikzlibrary{backgrounds}
\usepgfplotslibrary{patchplots}
\usepgfplotslibrary{fillbetween}
\pgfplotsset{%
    layers/standard/.define layer set={%
        background,axis background,axis grid,axis ticks,axis lines,axis tick labels,pre main,main,axis descriptions,axis foreground%
    }{
        grid style={/pgfplots/on layer=axis grid},%
        tick style={/pgfplots/on layer=axis ticks},%
        axis line style={/pgfplots/on layer=axis lines},%
        label style={/pgfplots/on layer=axis descriptions},%
        legend style={/pgfplots/on layer=axis descriptions},%
        title style={/pgfplots/on layer=axis descriptions},%
        colorbar style={/pgfplots/on layer=axis descriptions},%
        ticklabel style={/pgfplots/on layer=axis tick labels},%
        axis background@ style={/pgfplots/on layer=axis background},%
        3d box foreground style={/pgfplots/on layer=axis foreground},%
    },
}


\input{preamble/minex_preamble} % mineral exploration TiKZ + PGF plots diagram

\input{preamble/pgfplots_settings}

\input{figures/diagrams/nn-colors}

\definecolor{timingcolor}{rgb}{0.35, 0.35, 0.35}
\newcommand{\tcolor}[1]{\color{timingcolor}#1}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Math
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{preamble/mathematics}

\definecolor{resultcolor}{HTML}{000000}

\newsavebox\CBox
\def\mathBF#1{\sbox\CBox{$#1$}\resizebox{\wd\CBox}{\ht\CBox}{{\color{resultcolor}$\mathbf{#1}$}}}

\usepackage{siunitx}
\sisetup{detect-weight=true,detect-family=true,group-digits=false,separate-uncertainty,group-separator={,}} % Note that group-separator is disabled when group-digits=false
\newcommand{\pmm}{{\normalfont$\pm$}}

% \bigmid\mid
% https://tex.stackexchange.com/questions/239242/why-does-big-mid-not-work
\makeatletter
\let\amsmath@bigmidtmp\bigm

\newcommand{\bigmid}[1]{%
  \ifcsname fenced@\string#1\endcsname
    \expandafter\@firstoftwo
  \else
    \expandafter\@secondoftwo
  \fi
  {\expandafter\amsmath@bigmidtmp\csname fenced@\string#1\endcsname}%
  {\amsmath@bigmidtmp#1}%
}
\newcommand{\DeclareFence}[2]{\@namedef{fenced@\string#1}{#2}}
\makeatother

\DeclareFence{\mid}{|}

\newcommand{\todo}[1]{\textbf{\textcolor{magenta}{TODO. #1}}}
\newcommand{\note}[1]{\textbf{\textcolor{cyan}{#1}}}
\newcommand{\citeneeded}{\textbf{\textcolor{magenta}{[CITE]}}}
