\ifdefined\shiftforposterbarlabels\else
    \newcommand{\shiftforposterbarlabels}{2mm}
\fi
\tikzset{
    nodes={draw=black, fill=white, circle}, >=latex, -, level distance=12mm,
    level 1/.style={sibling distance=15mm},
    % level 2/.style={sibling distance=12mm, level distance=16mm},
    every node/.style={draw=black, fill=white, text=black, thin, minimum size=7mm},
    every path/.append style={draw=black},
    norm/.style={edge from parent/.style={thin,draw}},
    emph1/.style={edge from parent/.style={line width=1.6pt,draw=grays1}},
    emph2/.style={edge from parent/.style={line width=2.0pt,draw=grays2}},
    emph3/.style={edge from parent/.style={line width=2.4pt,draw=grays3}},
    emph4/.style={edge from parent/.style={line width=2.8pt,draw=grays4}},
    emph5/.style={edge from parent/.style={line width=3.6pt,draw=grays4}}, % note 4
    semiselected/.style={line width=2pt},
    invisible/.style={draw=none, fill=none},
    selected/.style={line width=2pt},
    root/.style={label=\textsc{#1}},
    baseline=(selection-root.base),
    state/.style={circle, norm, -},
    action/.style={rectangle, norm, sibling distance=2in},
    rollout-end/.style={draw=none, rectangle, minimum height=0mm, text=black},
    rollout-edge1/.style={->, decorate, decoration={snake, amplitude=1mm, post length=8pt, segment length=12pt}, dotted, line cap=round, dash pattern=on 0pt off 4\pgflinewidth},
    rollout-edge2/.style={->, decorate, decoration={snake, amplitude=1mm, post length=8pt, segment length=12pt}, dotted, line cap=round, dash pattern=on 0pt off 4\pgflinewidth},
    rollout-edge3/.style={->, decorate, decoration={snake, amplitude=1mm, post length=8pt, segment length=12pt}, dotted, line cap=round, dash pattern=on 0pt off 4\pgflinewidth},
}

\trimbox{0 5mm 0 2mm}{ % left, bottom, right, top
\scalebox{2}{%
\begin{tikzpicture}%[child anchor=center]
    \node [state, label={[align=center]above:\includegraphics[scale=0.3]{figures/q-weighting/bar_visit_counts.pdf}}] (selection-root) {$b$}
        child [state, emph3, ->] { 
            node [action, label={[label distance=-\shiftforposterbarlabels]below:\tiny\scalebox{0.8}{\shortstack{$N{=}10$\\$Q{=}0$}}}] {$a_1$}
            % edge from parent node[left, pos=0.55, draw=none, fill=none, text=\primarycolor] {\tiny{$N{=}10$}}
        }
        child [state, emph3, ->] {
            node [action, label={[label distance=-\shiftforposterbarlabels]below:\tiny\scalebox{0.8}{\shortstack{$N{=}10$\\$Q{=}1$}}}] {$a_2$}
            % edge from parent node[right, pos=0.7, xshift=-0.5mm, draw=none, fill=none, text=\primarycolor] {\tiny{$N{=}10$}}
        }
        child [state, emph3, ->] {
            node [action, label={[label distance=-\shiftforposterbarlabels]below:\tiny\scalebox{0.8}{\shortstack{$N{=}10$\\$Q{=}2$}}}] {$a_3$}
            % edge from parent node[right, pos=0.55, draw=none, fill=none, text=\primarycolor] {\tiny{$N{=}10$}}
        };
\end{tikzpicture}
\hspace{5mm}
\begin{tikzpicture}
    \node [state, label={[align=center]above:\includegraphics[scale=0.3]{figures/q-weighting/bar_q_weighted.pdf}}] {$b$}
       child [state, emph1, ->] { 
            node [action, label={[label distance=-\shiftforposterbarlabels]below:\tiny\scalebox{0.8}{\shortstack{$N{=}10$\\$Q{=}0$}}}] {$a_1$}
            % edge from parent node[left, pos=0.55, draw=none, fill=none, text=\primarycolor] {\tiny{$N{=}10$}}
        }
        child [state, emph2, ->] {
            node [action, label={[label distance=-\shiftforposterbarlabels]below:\tiny\scalebox{0.8}{\shortstack{$N{=}10$\\$Q{=}1$}}}] {$a_2$}
            % edge from parent node[right, pos=0.7, xshift=-0.5mm, draw=none, fill=none, text=\primarycolor] {\tiny{$N{=}10$}}
        }
        child [state, emph5, ->] {
            node [action, label={[label distance=-\shiftforposterbarlabels]below:\tiny\scalebox{0.8}{\shortstack{$N{=}10$\\$Q{=}2$}}}] {$a_3$}
            % edge from parent node[right, pos=0.55, draw=none, fill=none, text=\primarycolor] {\tiny{$N{=}10$}}
        };
\end{tikzpicture}
\hspace{0.1cm}
} % scalebox
} % trimbox