
\begin{algorithm*}[t]
  \caption{Committing strong transactions at $p^{m}_{d}$}
  \label{alg:unistore-strong-commit}
  \begin{algorithmic}[1]
    \Function{\commitstrong}{$\tidvar, \lccolor{\lcvar}$}
      \label{line:function-commitstrong}
      \State $\uniformbarrier(\snapVC[\tidvar])$
        \label{line:commitstrong-call-uniformbarrier}
      \State $\langle \decvar, \vcvar, \lcvar \rangle \gets
        \Call{\certify}{\normalMode,
          \tidvar, \wbuff[\tidvar], \rset[\tidvar], \snapVC[\tidvar], \lccolor{\lcvar}}$
        \label{line:commitstrong-call-certify}
      \State \Return $\langle \decvar, \vcvar, \lccolor{\lcvar} \rangle$
        \label{line:commitstrong-return}
        \label{line:commitstrong-commitvc-of-t-strong}
    \EndFunction

    \Statex
    \Upon[\deliverupdates($\txsvar$)]
      \label{line:function-deliverupdates}
      \For{$\langle \_, \wbuffvar, \commitvc, \lccolor{\lcvar} \rangle \in \txsvar$ in $\commitvc[\strongentry]$ order}
        \label{line:deliverupdates-foreach-wbuff}
          \For{$\langle k, v \rangle \in \wbuffvar$}
            \label{line:deliverupdates-foreach-kv}
            \State $\oplog[k] \gets \oplog[k] \cdot \langle v, \commitvc, \lccolor{\lcvar} \rangle$
              \label{line:deliverupdates-oplog}
          \EndFor
        \State $\knownVC[\strongentry] \gets \commitvc[\strongentry]$
          \label{line:deliverupdates-knownvc-strongentry}
      \EndFor
    \EndUpon

    \Statex
    \Function{\heartbeatstrong}{\null} \Comment{Run periodically}
      \label{line:function-heartbeatstrong}
      \State \Return $\Call{\certify}{\normalMode, \bot, \emptyset, \emptyset, \vec{0}, \lccolor{\bot}}$
        \label{line:heartbeatstrong-call-certify}
    \EndFunction
  \end{algorithmic}
\end{algorithm*}