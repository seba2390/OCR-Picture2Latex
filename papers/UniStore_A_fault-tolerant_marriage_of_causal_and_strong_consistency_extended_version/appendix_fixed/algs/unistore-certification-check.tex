
\begin{algorithm*}[t]
  \caption{Strong transaction certification at $p^{m}_{d}$}
  \label{alg:unistore-certification}
  \begin{algorithmic}[1]
    \Function{\certification}{$W, \rsetvar, \snapvc, \lccolor{\lcvar}$}
      \label{function:certification}
      \ForAll{$\langle \_, \wbuffvar', \rsetvar', \_, \commit, \_, \lccolor{\_} \rangle \in \preparedstrong$}
        \label{line:certification-preparedstrong}
        \If{$(\exists \langle k, \_ \rangle \in \wbuffvar'[m].\; k \in \rsetvar) \lor
             (\exists k \in \rsetvar'.\; \langle k, \_ \rangle \in W)$}
          \label{line:certification-conflict}
          \State \Return $\langle \abort, \lccolor{\bot} \rangle$
            \label{line:certification-preparedstrong-abort}
        \EndIf
      \EndFor

      \hStatex
      \ForAll{$\langle \_, \wbuffvar', \commit, \commitvc, \lccolor{\lcvar'} \rangle \in \decidedstrong$}
        \label{line:certification-decidedstrong}
        \If{$(\exists \langle k, \_ \rangle \in \wbuffvar'[m].\; k \in \rsetvar)
          \land \lnot (\commitvc \leq \snapvc)$}
          \State \Return $\langle \abort, \lccolor{\bot} \rangle$
            \label{line:certification-decidedstrong-abort}
        \EndIf
        \If{\lccolor{$\lcvar \le \lcvar'$}}
          \State \lccolor{$\lcvar \gets \lcvar' + 1$}
          \label{line:certification-lc}
        \EndIf
      \EndFor
      \State \Return $\langle \commit, \lccolor{\lcvar} \rangle$
        \label{line:certification-return}
    \EndFunction
  \end{algorithmic}
\end{algorithm*}