\tikzstyle{startstop} = [rectangle, rounded corners, minimum width=3cm, minimum height=1cm,text centered, draw=black, fill=white] %
\tikzstyle{process} = [rectangle, minimum width=3cm, minimum height=1.5cm, text centered, draw=black, fill=white]%
\tikzstyle{decision} = [diamond, minimum width=3cm, minimum height=1cm, text centered, draw=black, fill=white, yshift=-0.5cm] %
\tikzstyle{arrow} = [thick,->,>=stealth] %
%
% \begin{figure}[ht]
%     \centering
%     \begin{tikzpicture}[node distance=2cm]
%         \node (start) [startstop] {Start};
%         \node (vlmsolve) [process, below of=start] {Solve VLM};
%         \node (aeff) [process, below of=vlmsolve] {Calculate $\aeff$};
%         \node (targets) [process, below of=aeff] {Obtain viscous targets};
%         \node (converged) [decision, below of=targets, text width=1.5cm] {Solution \\ converged?};
%         \node (modgeom) [process, right of=targets, xshift=2cm] {Modify geometry};
%         \node (calcdec) [process, right of=converged, xshift=2cm, text width=2cm] {Calculate decambering ($f, \delta_l, m$)};
%         \node (stop) [startstop, below of=converged, yshift=-0.5cm] {Stop};
%     \end{tikzpicture}
%     \caption{Flowchart of the \methodname}
%     \label{fig:flowchart}
% \end{figure}
%
\begin{figure}[ht]
    \centering
    \begin{tikzpicture}[node distance=2.1cm, text width=1.5cm]
        \node (start) [startstop] {Start};
        \node (traj) [process, below of=start, yshift=-0.2cm, text width=2cm] {Calculate decambering trajectory slopes (once per wing geometry)};
        \node (vlmsolve) [process, below of=traj, yshift=-0.5cm] {Solve VLM};
        \node (aeff) [process, right of=vlmsolve, xshift=2cm] {Calculate $\aeff$};
        \node (targets) [process, right of=aeff, xshift=2cm, text width=2.2cm] {Obtain viscous $f$, $\Delta C_l$, $\Delta C_m$, $C_d$};
        \node (converged) [decision, below of=targets, text width=1.5cm] {Solution \\ converged?};
        \node (calcdec) [process, left of=converged, xshift=-2cm, text width=2cm] {Calculate decambering ($\delta_l, m$)};
        \node (modgeom) [process, left of=calcdec, xshift=-2cm] {Modify geometry};
        \node (stop) [startstop, below of=converged, yshift=-0.5cm] {Stop};
        \draw [arrow] (start) -- (traj);
        \draw [arrow] (traj) -- (vlmsolve);
        \draw [arrow] (vlmsolve) -- (aeff);
        \draw [arrow] (aeff) -- (targets);
        \draw [arrow] (targets) -- (converged);
        \draw[arrow] (converged) -- node[anchor=south,xshift=0.6cm] {no} (calcdec);
        \draw[arrow] (converged) -- node[anchor=west] {yes} (stop);
        \draw[arrow] (calcdec) -- (modgeom);
        \draw[arrow] (modgeom) -- (vlmsolve);
    \end{tikzpicture}
    \caption{Flowchart of the \methodname}
    \label{fig:flowchart}
\end{figure}%
%