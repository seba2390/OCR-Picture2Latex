% The following kludges for "double-line" R, N, Z, C, and Q come
% from the Institut fur Angewandte Mathematik,
% Bonn University. Usage:
%
%       \rz     for  real numbers symbol
%       \nz     for  natural numbers symbol
%       \gz     for  integer numbers symbol
%       \cz     for  complex numbers symbol
%       \qz     for  rational numbers symbol

\newcommand{\rz}{\mathbb{R}}
\newcommand{\gz}{\mathbb{Z}}
\newcommand{\cz}{\mathbb{C}}
\newcommand{\qz}{\mathbb{Q}}
\newcommand{\nz}{\mathbb{N}}

% Bold faced letters
\newcommand{\bfa}{{\bf a}}
\newcommand{\bfb}{{\bf b}}
\newcommand{\bfc}{{\bf c}}
\newcommand{\bfd}{{\bf d}}
\newcommand{\bfe}{{\bf e}}
\newcommand{\bff}{{\bf f}}
\newcommand{\bfg}{{\bf g}}
\newcommand{\bfh}{{\bf h}}
\newcommand{\bfi}{{\bf i}}
\newcommand{\bfj}{{\bf j}}
\newcommand{\bfk}{{\bf k}}
\newcommand{\bfl}{{\bf l}}
\newcommand{\bfm}{{\bf m}}
\newcommand{\bfn}{{\bf n}}
\newcommand{\bfo}{{\bf o}}
\newcommand{\bfp}{{\bf p}}
\newcommand{\bfq}{{\bf q}}
\newcommand{\bfr}{{\bf r}}
\newcommand{\bfs}{{\bf s}}
\newcommand{\bft}{{\bf t}}
\newcommand{\bfu}{{\bf u}}
\newcommand{\bfv}{{\bf v}}
\newcommand{\bfw}{{\bf w}}
\newcommand{\bfx}{{\bf x}}
\newcommand{\bfy}{{\bf y}}
\newcommand{\tbfy}{{\tilde{\bfy}}}
\newcommand{\bfz}{{\bf z}}
\newcommand{\bfA}{{\bf A}}
\newcommand{\bfB}{{\bf B}}
\newcommand{\bfC}{{\bf C}}
\newcommand{\bfD}{{\bf D}}
\newcommand{\bfE}{{\bf E}}
\newcommand{\bfF}{{\bf F}}
\newcommand{\bfG}{{\bf G}}
\newcommand{\bfH}{{\bf H}}
\newcommand{\bfI}{{\bf I}}
\newcommand{\bfJ}{{\bf J}}
\newcommand{\bfK}{{\bf K}}
\newcommand{\bfL}{{\bf L}}
\newcommand{\bfM}{{\bf M}}
\newcommand{\bfN}{{\bf N}}
\newcommand{\bfO}{{\bf O}}
\newcommand{\bfP}{{\bf P}}
\newcommand{\bfQ}{{\bf Q}}
\newcommand{\bfR}{{\bf R}}
\newcommand{\bfS}{{\bf S}}
\newcommand{\bfT}{{\bf T}}
\newcommand{\bfU}{{\bf U}}
\newcommand{\bfV}{{\bf V}}
\newcommand{\bfW}{{\bf W}}
\newcommand{\bfX}{{\bf X}}
\newcommand{\bfY}{{\bf Y}}
\newcommand{\bfZ}{{\bf Z}}
\newcommand{\vphi}{{\varphi}}
\newcommand{\eps}{{\varepsilon}}
\newcommand{\Nhat}{\hat{\mbox{\tiny {\bf N}}}}
\newcommand{\ehat}{\hat{\bf e}}
\newcommand{\nhat}{\hat{\bf n}}
\newcommand{\uhat}{\hat{\bf u}}
\newcommand{\phihat}{\hat{\varphi}}
\newcommand{\xihat}{\hat{\xi}}
\newcommand{\fhat}{\hat{f}}
\newcommand{\Vhat}{\hat{V}}
\newcommand{\adj}{{\mbox{adj }}}
\newcommand{\beq}{\begin{equation}}
\newcommand{\eeq}{\end{equation}}
\newcommand{\beqs}{\begin{eqnarray}}
\newcommand{\eeqs}{\end{eqnarray}}
\newcommand{\beql}{\begin{equation} \label}

\newcommand{\normp}[1]{\| #1 \|}
\newcommand{\brho}{\boldsymbol{\rho}}
\newcommand{\expchar}[2]{\textrm{e}^{\frac{2\pi \textrm{i} #1}{#2}}}
\newcommand{\expcharconj}[2]{\textrm{e}^{-\frac{2\pi \textrm{i} #1}{#2}}}

\newcommand{\half}{\frac{1}{2}}
\newcommand{\calA}{{\cal A}}
\newcommand{\calB}{{\cal B}}
\newcommand{\calC}{{\cal C}}
\newcommand{\calD}{{\cal D}}
\newcommand{\calE}{{\cal E}}
\newcommand{\calF}{{\cal F}}
\newcommand{\calG}{{\cal G}}
\newcommand{\calH}{{\cal H}}
\newcommand{\calI}{{\cal I}}
\newcommand{\calJ}{{\cal J}}
\newcommand{\calK}{{\cal K}}
\newcommand{\calL}{{\cal L}}
\newcommand{\calM}{{\cal M}}
\newcommand{\calN}{{\cal N}}
\newcommand{\calO}{{\cal O}}
\newcommand{\calP}{{\cal P}}
\newcommand{\calQ}{{\cal Q}}
\newcommand{\calR}{{\cal R}}
\newcommand{\calS}{{\cal S}}
\newcommand{\calT}{{\cal T}}
\newcommand{\calU}{{\cal U}}
\newcommand{\calV}{{\cal V}}
\newcommand{\calW}{{\cal W}}
\newcommand{\calX}{{\cal X}}
\newcommand{\calY}{{\cal Y}}
\newcommand{\calZ}{{\cal Z}}


% Some special symbols
\newcommand{\hilb}{\mathsf{H}}
\newcommand{\thilb}{\tilde{\mathsf{H}}}
\newcommand{\hamil}{\mathfrak{H}}
\newcommand{\thrbyto}{\frac{3}{2}}
\newcommand{\Fhat}{\hat{F}}
\newcommand{\tlambda}{\tilde{\lambda}}
\newcommand{\fivbyto}{\frac{5}{2}}

%% Define Theorem, Lemma, Proposition, Corollary & Hypothesis
%\newtheorem{theorem}{Theorem}[section]
%\newtheorem{lemma}[theorem]{Lemma}
%\newtheorem{proposition}[theorem]{Proposition}
%\newtheorem{corollary}[theorem]{Corollary}
%\newtheorem{hypothesis}[theorem]{Hypothesis}
%
%%\theoremstyle{definition}
%%\newtheorem{definitions}{Definitions}[subsection]
%
%% Define Definition, Remark, Example
%\theoremstyle{definition}
%\newtheorem{definition}[theorem]{Definition}
%
%\theoremstyle{definition}
%\newtheorem{remark}[theorem]{Remark}
%
%\theoremstyle{remark}
%\newtheorem{example}[theorem]{Example}


%% Define new qed symbol
%\renewcommand{\qedsymbol}{$\blacksquare$}

% Define myproof environment
\newenvironment{myproof}[1][Proof:]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}]}{\qed\end{trivlist}}

% Define myxample environment
\newenvironment{myexample}[1][Example:]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}]}{\end{trivlist}}

% Define myremarks environment
\newenvironment{myremarks}[1][Remarks:]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}]}{\end{trivlist}}

\newenvironment{myremark}[1][Remark:]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}]}{\end{trivlist}}

%\DeclareMathAlphabet{\mathcalligra}{T1}{calligra}{m}{n}
%\DeclareFontShape{T1}{calligra}{m}{n}{<->s*[2.2]callig15}{}
%\newcommand{\scriptr}{\mathcalligra{r}\,}
%\newcommand{\boldscriptr}{\pmb{\mathcalligra{r}}\,}


% Other operators, symbols
% Define absolute value, norm, esssup, inner product, inf, sup, argmin, argmax, Partial derivatives, etc
\newcommand{\abs}[1]{\lvert#1\rvert}
\newcommand{\norm}[2]{\lVert#1\rVert_{#2}}
\newcommand{\innprod}[3]{\langle#1,#2\rangle_{#3}}
\newcommand{\biginnprod}[3]{\mathbf{\Big\langle}#1,#2\mathbf{\Big\rangle}_{#3}}
\newcommand{\esssup}[2]{\displaystyle\text{ess sup}_{#1}#2}
\newcommand{\Lpspc}[3]{\textsf{L}^{#1}_{#2}(#3)}
\newcommand{\infm}[2]{\displaystyle\inf_{#1}{#2}}
\newcommand{\supm}[2]{\displaystyle\sup_{#1}{#2}}
\newcommand{\argmin}[2]{\displaystyle\textrm{argmin}_{#1}{#2}}
\newcommand{\argmax}[2]{\displaystyle\textrm{argmax}_{#1}{#2}}
\newcommand{\mspan}[1]{\text{span}\{#1\}}
\newcommand{\pd}[2]{\frac{\partial#1}{\partial#2}}
\newcommand{\hpd}[3]{\frac{\partial^{#3}#1}{\partial#2^{#3}}}
\newcommand{\od}[2]{\frac{d#1}{d#2}}
\newcommand{\hod}[3]{\frac{d^{#3}#1}{d#2^{#3}}}
\newcommand{\isom}[2]{(#1|#2)}
\newcommand{\orb}[2]{\text{Orb}(#1,#2)}
\newcommand{\stab}[2]{\text{Stab}(#1,#2)}
\newcommand{\ball}[2]{\calB_{#1}(#2)}
\newcommand{\ccf}[1]{\mathsf{C}_{\mathsf{c}}(#1)}
\newcommand{\spt}[1]{\text{spt}.(#1)}
\newcommand{\mattr}[1]{\text{Tr.}(#1)}

\let\oldFootnote\footnote
\newcommand\nextToken\relax

\renewcommand\footnote[1]{%
    \oldFootnote{#1}\futurelet\nextToken\isFootnote}

\newcommand\isFootnote{%
    \ifx\footnote\nextToken\textsuperscript{,}\fi}
    
\newcommand{\dbltilde}[1]{\accentset{\approx}{#1}}
\DeclareMathOperator{\arctantwo}{arctan2}