\documentclass[twoside,10pt]{article} % twosided, draft copy
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{epsfig}
\usepackage{graphicx}
\usepackage{latexsym}
\usepackage{subfigure}   
\usepackage{times}
\usepackage{hyperref}

\newcommand{\app}{\textsc{Hamlet}}
\newcommand{\greta}{\textsc{Greta}}
\newcommand{\sharon}{\textsc{Sharon}}
\newcommand{\mcep}{\textsc{MCEP}}

\newcommand{\anysem}{\textsf{\footnotesize ANY}}
\newcommand{\nextsem}{\textsf{\footnotesize NEXT}}
\newcommand{\contsem}{\textsf{\footnotesize CONT}}   

\newcommand{\return}{\textsf{\footnotesize RETURN}}
\newcommand{\pattern}{\textsf{\footnotesize PATTERN}}
\newcommand{\semantics}{\textsf{\footnotesize SEMANTICS}}
\newcommand{\where}{\textsf{\footnotesize WHERE}}
\newcommand{\group}{\textsf{\footnotesize GROUP-BY}}
\newcommand{\within}{\textsf{\footnotesize WITHIN}}
\newcommand{\slide}{\textsf{\footnotesize SLIDE}}
\newcommand{\as}{\textsf{\footnotesize AS}}
\newcommand{\seq}{\textsf{\footnotesize SEQ}}
\newcommand{\myand}{\textsf{\footnotesize AND}}
\newcommand{\next}{\textsf{\footnotesize NEXT}}
\newcommand{\mycount}{\textsf{\footnotesize COUNT}}
\newcommand{\mymin}{\textsf{\footnotesize MIN}}
\newcommand{\mymax}{\textsf{\footnotesize MAX}}
\newcommand{\mysum}{\textsf{\footnotesize SUM}}
\newcommand{\myavg}{\textsf{\footnotesize AVG}}
\newcommand{\mynot}{{\small \textsf{NOT}}}

\newcommand{\mystart}{\textsf{\footnotesize START}}
\newcommand{\mymid}{\textsf{\footnotesize MID}}
\newcommand{\myend}{\textsf{\footnotesize END}}

\makeatletter
\providecommand*{\cupdot}{%
  \mathbin{%
    \mathpalette\@cupdot{}%
  }%
}
\newcommand*{\@cupdot}[2]{%
  \ooalign{%
    $\m@th#1\cup$\cr
    \hidewidth$\m@th#1\cdot$\hidewidth
  }%
}

\usepackage[ruled]{algorithm}
\PassOptionsToPackage{noend}{algpseudocode}
\usepackage{algpseudocode}

\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}
\renewcommand{\algorithmiccomment}[1]{\bgroup\hfill//~#1\egroup}
\renewcommand{\algorithmicforall}{\textbf{for each}}
\algnewcommand\algorithmicswitch{\textbf{switch}}
\algnewcommand\algorithmiccase{\textbf{case}}
\algnewcommand\algorithmicassert{\texttt{assert}}
\algnewcommand\Assert[1]{\State \algorithmicassert(#1)}%
% New "environments"
\algdef{SE}[SWITCH]{Switch}{EndSwitch}[1]{\algorithmicswitch\ #1\ \algorithmicdo}{\algorithmicend\ \algorithmicswitch}%
\algdef{SE}[CASE]{Case}{EndCase}[1]{\algorithmiccase\ #1}{\algorithmicend\ \algorithmiccase}%
\algtext*{EndSwitch}%
\algtext*{EndCase}%


\usepackage[font=small,labelfont=bf,tableposition=top]{caption}

\usepackage{listings}
\lstset{
	basicstyle=\small,
	numbers=none,
	numbersep=5pt,
	numberstyle=\tiny,
	stepnumber=2, 
	captionpos=b,
	keepspaces=true,
	mathescape=true,
    frame=bt,
	float=t,
}
\lstset{
	emph={DERIVE, FROM, WHERE, AND, ANTI, JOIN, USING, NOT, EXISTS, SELECT, if, then, else, end, PATTERN, SEQ, STOCK, DETECT, INSERT, INTO, VALUES, DELETE, IN, UPDATE, SET, OR, GROUP, BY, AS, VARIABLE, IF, END, FOR, EACH, Input, Output, DECLARE, WITHIN, CREATE, VIEW, STREAM, PRIORITY, high, NEW, RUN, ANTIJOIN, ON, LOOK, UP, WITH, SAME, EVENT, for, each, while, end, return, Input, Output, WHILE, THEN, ELSE, RETURN, SLIDE, do, and, continue, NEXT, FIRST, LAST},
	emphstyle={\textsf}%
}

% \usepackage{slashbox}
% \usepackage{cite}

%\renewcommand{\baselinestretch}{2} % turns on double spacing
\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}
\renewcommand{\algorithmiccomment}[1]{/* #1 */}
\newcommand{\Stirling}[2]{\genfrac\{\}{0pt}{} {#1} {#2} }

\usepackage{amsthm}
\setcounter{secnumdepth}{5}

\usepackage{setspace,xspace}
\graphicspath{{figures/}}
\newcommand{\bigO}{\ensuremath{\mathcal{O}}} % big-O notation/symbol

\newtheorem{ndef}{Definition}
\newcommand{\nop}[1]{}

% ============================================================
%                      Margins and heights
% ============================================================

% margin paragraphs, for comments in the draft
\setlength{\marginparwidth}{1in}
% Also define a command ``\rem'' for remarks.
\newcommand{\rem}[1]{\marginpar{\flushleft{#1}}}
\renewcommand{\rem}[1]{} % disable remarks

% ------------------------------------------------------------

% Junk formatting. For Elke.
%
% set margins to 1 inch all around the page, no header or footer.
% use maximum space (no topmargin... header is one inch from paper border)
%\setlength{\textheight}{9in}
%\setlength{\textwidth}{6.2in}
%\setlength{\topmargin}{-0.125in}
%\setlength{\oddsidemargin}{-.2in}
%\setlength{\evensidemargin}{-.2in}
%\setlength{\headsep}{0in}

% ------------------------------------------------------------

% And now the pretty formatting for the production version
\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}
\renewcommand{\algorithmiccomment}[1]{/* #1 */}
%\newcommand{\Stirling}[2]{\genfrac\{\}{0pt}{} {#1} {#2} }

\graphicspath{{figures/}}
%\providecommand{\OO}[1]{\operatorname{O}\left(#1\right)} \newtheorem{lemma}{Lemma}
\newtheorem{definition}{Definition}
\newtheorem{example}{Example}
\newtheorem{theorem}{Theorem}[section]

%==============================RIMMA_CUSTOM==================================
\usepackage{multirow}
\newcommand{\eat}[1] {}
\newcommand{\comment}[1]{ $\Rightarrow$ {\tiny #1} }
\newcommand{\srccomment}[1]{\textrm{// #1}}
\renewcommand{\thefootnote}{*}

\newenvironment{ALGORITHM}[2]
    {
        \begin{tabular}{l}
        \begin{minipage}{8.0cm} \begin{small} \begin{tt} \begin{tabbing}
        12 \= 12 \= 12 \= 12 \= 1 \= 1 \= 1 \kill
        {\bf #1} (#2) \\
    }
    {
        \end{tabbing} \end{tt} \end{small} \end{minipage}
        \\
        \hline
        \end{tabular}
    }
%==============================END_RIMMA_CUSTOM==================================

% ============================================================
% Headings. Use ``Fanch Headers''
\usepackage{fancyhdr}
\renewcommand{\sectionmark}[1]{\markright{\thesection.\ #1}}
\fancyhf{}
\fancyhead[LE,RO]{\bfseries\thepage}
\fancyhead[LO]{}
\fancyhead[RE]{}
\renewcommand{\headrulewidth}{0.5pt}
\renewcommand{\footrulewidth}{0pt}
\addtolength{\headheight}{1.5pt}
\fancypagestyle{plain}{%
  \fancyhead{}
  \renewcommand{\headrulewidth}{0pt}
}

% ============================================================

% WPI library conventions: 1.5in margin left, one inch
% elsewhere. (except that this is twosided if desired)

\setlength{\topmargin}{0pt}

 \newlength{\hoehe}
 \setlength{\hoehe}{\paperheight}
 \addtolength{\hoehe}{-2in} % leave one inch at top and bottom
 \addtolength{\hoehe}{-\topmargin}
 \addtolength{\hoehe}{-\headheight}
 \addtolength{\hoehe}{-\headsep}
 \setlength{\textheight}{\hoehe}

 \newlength{\breite}
 \setlength{\breite}{\paperwidth}
 \addtolength{\breite}{-2.5in}
 \setlength{\textwidth}{\breite}
 % for two-paged output

 \setlength{\oddsidemargin}{0in}
 \setlength{\evensidemargin}{0.5in}
 
% ============================================================
% Use doublespacing for the draft
\onehalfspacing
% \doublespacing
% ============================================================

% ============================================================
\setcounter{tocdepth}{2}
% ============================================================

% ============================================================
% A prettier font.
\renewcommand{\rmdefault}{ppl} % Use Palatino Font for Roman
\renewcommand{\sfdefault}{phv} % Use Helvetica Font for SansSerif
%\usepackage{zplppl}            % Use MathKit Palatino Mathfonts (Alan Hoenig)
% ============================================================

% ============================================================
% Titlepage
\title{\fontsize{15}{15}\selectfont To Share, or not to Share Online Event Trend Aggregation\\ Over Bursty Event Streams\\\vspace*{1cm}
\large Technical Report\\
\vspace*{1cm}}
\author{\large Olga Poppe,$^1$ Chuan Lei,$^2$ Lei Ma,$^3$ Allison Rozet,$^4$ and Elke A. Rundensteiner$^3$}
%\date{Draft. \today}
\date{\Large 
January, 2021\\
\vspace*{1cm}
\large $^1$Microsoft Gray Systems Lab, One Microsoft Way, Redmond, WA 98052\\
$^2$IBM Research, Almaden, 650 Harry Rd, San Jose, CA 95120\\
$^3$Worcester Polytechnic Institute, Worcester, MA 01609\\
$^4$MathWorks, 1 Apple Hill Dr, Natick, MA 01760\\
\vspace*{0.2cm}
olpoppe@microsoft.com, chuan.lei@ibm.com, lma5@wpi.edu, arozet@mathworks.com, rundenst@wpi.edu\\
\vspace*{7cm}
%\vfill
%\begin{minipage}{18cm}
%\textbf{Committee Members:}\\ \\
%Prof. Elke A. Rundensteiner, Worcester Polytechnic Institute, Advisor.\\
%Prof. Dan Dougherty, Worcester Polytechnic Institute. \\
%Prof. Mohammed Y. Eltabakh, Worcester Polytechnic Institute.\\
%Prof. David Maier, Portland State University.\\
%\end{minipage}
}

% ============================================================

% ============================================================
% Macro definitions
% ============================================================

\newcommand{\switch}{%
  \mathcode`+=\numexpr\mathcode`+ + "1000\relax % turn + into a relation
  \mathcode`*=\numexpr\mathcode`* + "1000\relax
}

\pagestyle{empty}

\begin{document}
\maketitle

\begin{spacing}{0.8}
{\footnotesize \noindent \textbf{Copyright} \copyright{} 2021 by
authors. Permission to make digital or hard copies of all or
part of this work for personal use is granted without fee provided
that copies bear this notice and the full citation on the first
page. To copy otherwise, to republish, to post on servers or to
redistribute to lists, requires prior specific permission. }
\end{spacing}

\clearpage
\pagestyle{fancy}

\clearpage
\tableofcontents

\pagenumbering{arabic}
\setcounter{page}{1}

% 
% Since this is a ``report'', the topmost level of hierarchy is
% ``Chapter'', not section as you may be used to. Chapters are
% enumerated starting from 1, so Sections are 1.1, Subsections are
% 1.1.1, subsubsections don't get numbers. (You can change that, if
% you want them to be called 1.1.1.1)
%

\newpage
\input{sections/abstract}
\input{sections/introduction}
\input{sections/basic_notions}
\input{sections/overview}
\input{sections/static}
\input{sections/runtime}
\input{sections/other}
\input{sections/evaluation}
\input{sections/related_work}
\input{sections/conclusions}

\section*{Acknowledgments} 
This work was supported by 
NSF grants IIS-1815866, IIS-1018443, CRI-1305258, 
the U.S. Department of Agriculture grant 1023720,
and the U.S. Department of Education grant P200A150306.


\bibliographystyle{abbrv}
\bibliography{hamlet_tr}  

%\section*{Appendix}

%\begin{appendix}
%\input{report/appendix}
%\end{appendix}

\end{document}