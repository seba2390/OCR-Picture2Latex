% \SetAlgoSkip{}
%%%%% inner loop for finding next best action
\begin{algorithm}[b]
	\SetKwFunction{Fitness}{Fitness}
	\SetKwFunction{particleswarm}{particleswarm}
	\SetKwInOut{Input}{Input}
	\SetKwInOut{Output}{Output}
    
    $[\va^{h},\M^{h}] \leftarrow$ \particleswarm{$\mathcal{M},{p},h$}; \textit{// use 
    PSO in 
    order to determine best next action for the MDP $\mathcal{M}$ with horizon $h$\\}
    ${J}(s_{k+h})\leftarrow$ 
    \Fitness{$\M^h,\va^{h},{h}$};
    \textit{// calculate cost function if applying the first optimal action of horizon sequence of length $h$}\\
    \If{${J}(s_{k+h})\leqslant\widehat{J}$}
    {
   % $\Delta\leftarrow{J}(s_{i})/(m-i);$ \textit{// new level-threshold}\\
   		$\widehat{J}\leftarrow J(s_{k+h});$
        $\widehat{h}\leftarrow h;$ \textit{// store the horizon that has given the best cost so far}
    }
    
	\caption{RecedeHorizon ($\M,h,\widehat{J}$)}
	\label{alg:rhp}
\end{algorithm}
\setlength{\floatsep}{0.1cm}