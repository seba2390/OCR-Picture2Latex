%%
%% This is file `sample-manuscript.tex',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% samples.dtx  (with options: `manuscript')
%% 
%% IMPORTANT NOTICE:
%% 
%% For the copyright see the source file.
%% 
%% Any modified versions of this file must be renamed
%% with new filenames distinct from sample-manuscript.tex.
%% 
%% For distribution of the original source see the terms
%% for copying and modification in the file samples.dtx.
%% 
%% This generated file may be distributed as long as the
%% original source files, as listed above, are part of the
%% same distribution. (The sources need not necessarily be
%% in the same archive or directory.)
%%
%% The first command in your LaTeX source must be the \documentclass command.
%%%% Small single column format, used for CIE, CSUR, DTRAP, JACM, JDIQ, JEA, JERIC, JETC, PACMCGIT, TAAS, TACCESS, TACO, TALG, TALLIP (formerly TALIP), TCPS, TDSCI, TEAC, TECS, TELO, THRI, TIIS, TIOT, TISSEC, TIST, TKDD, TMIS, TOCE, TOCHI, TOCL, TOCS, TOCT, TODAES, TODS, TOIS, TOIT, TOMACS, TOMM (formerly TOMCCAP), TOMPECS, TOMS, TOPC, TOPLAS, TOPS, TOS, TOSEM, TOSN, TQC, TRETS, TSAS, TSC, TSLP, TWEB.
% \documentclass[acmsmall]{acmart}

%%%% Large single column format, used for IMWUT, JOCCH, PACMPL, POMACS, TAP, PACMHCI
% \documentclass[acmlarge,screen]{acmart}

%%%% Large double column format, used for TOG
% \documentclass[acmtog, authorversion]{acmart}

%%%% Generic manuscript mode, required for submission
%%%% and peer review


\documentclass[sigconf]{acmart}
\usepackage{subfigure}
% \usepackage{CJKutf8}
\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage{amsmath}
\usepackage{microtype}
\usepackage{balance}
% \usepackage[linesnumbered,ruled,vlined]{algorithm2e}

% \usepackage{CJK} % this gives errors.
\newcommand{\multirows}[1]{\begin{tabular}{@{}c@{}}#1\end{tabular}}
\newcommand{\cI}{\mathcal{I}}
\newcommand{\cU}{\mathcal{U}}
\newcommand{\cC}{\mathcal{C}}
\newcommand{\cL}{\mathcal{L}}
\newcommand{\cK}{\mathcal{K}}

\newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}
\DeclareMathOperator{\sign}{sign}

%% NOTE that a single column version may be required for 
%% submission and peer review. This can be done by changing
%% the \doucmentclass[...]{acmart} in this template to 
%% \documentclass[manuscript,screen]{acmart}
%% 
%% To ensure 100% compatibility, please check the white list of
%% approved LaTeX packages to be used with the Master Article Template at
%% https://www.acm.org/publications/taps/whitelist-of-latex-packages 
%% before creating your document. The white list page provides 
%% information on how to submit additional LaTeX packages for 
%% review and adoption.
%% Fonts used in the template cannot be substituted; margin 
%% adjustments are not allowed.
%%
%%
%% \BibTeX command to typeset BibTeX logo in the docs
\AtBeginDocument{%
  \providecommand\BibTeX{{%
    \normalfont B\kern-0.5em{\scshape i\kern-0.25em b}\kern-0.8em\TeX}}}

%% Rights management information.  This information is sent to you
%% when you complete the rights form.  These commands have SAMPLE
%% values in them; it is your responsibility as an author to replace
%% the commands and values with those provided to you when you
%% complete the rights form.
\setcopyright{acmcopyright}
\copyrightyear{2021}
\acmYear{2021}
\acmDOI{10.1145/1122445.1122456}

%% These commands are for a PROCEEDINGS abstract or paper.
\acmConference[CIKM '21] {Proceedings of the 30th ACM International Conference on Information and Knowledge Management}{November 1--5, 2021}{Virtual Event, Australia.}
\acmBooktitle{Proceedings of the 30th ACM Int'l Conf. on Information and Knowledge Management (CIKM '21), November 1--5, 2021, Virtual Event, Australia}
\acmPrice{15.00}
\acmISBN{978-1-4503-8446-9/21/11}
\acmDOI{10.1145/3459637.3481954}
% Authors, replace the red X's with your assigned DOI string during the rightsreview eform process.

\settopmatter{printacmref=true}


%%
%% Submission ID.
%% Use this when submitting an article to a sponsored event. You'll
%% receive a unique submission ID from the organizers
%% of the event, and this ID should be used as the parameter to this command.
%%\acmSubmissionID{123-A56-BU3}

%%
%% The majority of ACM publications use numbered citations and
%% references.  The command \citestyle{authoryear} switches to the
%% "author year" style.
%%
%% If you are preparing content for an event
%% sponsored by ACM SIGGRAPH, you must use the "author year" style of
%% citations and references.
%% Uncommenting
%% the next command will enable that style.
%%\citestyle{acmauthoryear}

%%
%% end of the preamble, start of the body of the document source.
\begin{document}
\fancyhead{}

%%
%% The "title" command has an optional parameter,
%% allowing the author to define a "short title" to be used in page headers.
% \title{Off-Policy Reinforcement Learning in e-Commerce Sequential Search with Online Incremental Update}
%Lingfei: after the whole paper, I feel that online incremental update is not the key innovation. So we may consider the following title to highlight two new pieces: 1) Sequential Search (a new problem definition) and 2) RL for SS. 
\title{Sequential Search with Off-Policy Reinforcement Learning}

%%
%% The "author" command and its associated commands are used to define
%% the authors and their affiliations.
%% Of note is the shared affiliation of the first two authors, and the
%% "authornote" and "authornotemark" commands
%% used to denote shared contribution to the research.


\author{Dadong Miao}
% \email{midaodadong@jd.com}
\author{Yanan Wang}
% \email{wangyanan11@jd.com}
\author{Guoyu Tang}
% \email{tangguoyu@jd.com}
\affiliation{%
  \institution{JD.com}
  \streetaddress{JD Building, No. 18 Kechuang 11 Street, BDA}
  \city{Beijing}
  \postcode{101111}
  \country{People's Republic of China}
}

\author{Lin Liu}
% \email{liulin1@jd.com}
\author{Sulong Xu}
% \email{xusulong@jd.com}
\author{Bo Long}
% \email{bo.long@jd.com}
\affiliation{%
  \institution{JD.com}
  \streetaddress{JD Building, No. 18 Kechuang 11 Street, BDA}
  \city{Beijing}
  \postcode{101111}
  \country{People's Republic of China}
}


\author{Yun Xiao}
% \email{xiaoyun1@jd.com}
\author{Lingfei Wu}
% \email{lwm@mail.wm.edu}
\author{Yunjiang Jiang}
% \email{yunjiangster@gmail.com}
\affiliation{%
  \institution{JD.com Silicon Valley R\&D Center}
  \streetaddress{675 E Middlefield Road}
  \city{Mountain View}
  \state{CA}
  \postcode{94043}
  \country{USA}
}
\renewcommand{\shortauthors}{Dadong Miao, et al.}
% \author{Anonymous Authors}
% \renewcommand{\shortauthors}{Anonymous Authors, et al.}

%%
%% The abstract is a short summary of the work to be presented in the
%% article.
% \begin{abstract}
% We explore the use of off-policy reinforcement learning in multi-session e-commerce search. We design the training data in a maximally contiguous fashion to put a user's entire behavior sequence in a single minibatch.
% % give the model simultaneous access to the users' entire behavior sequence.
% In addition to attention network based on long range behavior sequence, a versatile RNN backbone is designed to capture near term behavior sequence, on which we also build a DDPG network.
% % to ensure long term reward signals are fully captured in the back-propagation. 
% As a novel optimization step, we fit multiple short user sequences in a single RNN pass within a training batch, by solving a greedy knapsack problem on the fly. 

% Empirically we demonstrate the effectiveness of the RNN backbone against its attention-based DIN counterpart, in both offline and online metrics. The addition of reinforcement learning further elevates these metrics to new heights. Besides the core metrics for e-commerce business, online experiments demonstrate significant gains in a variety of secondary metrics, most notably result diversity and level of personalization. The use of hidden state daily update further boosts online core metrics by a wide margin.
% \end{abstract}

%Lingfei: after the whole paper, I feel that online incremental update is not the key innovation. So we may consider the following title to highlight two new pieces: 1) Sequential Search (a new problem definition) and 2) RL for SS. 
\begin{abstract}
Recent years have seen a significant amount of interests in Sequential Recommendation (SR), which aims to understand and model the sequential user behaviors and the interactions between users and items over time. Surprisingly, despite the huge success Sequential Recommendation has achieved, there is little study on Sequential Search (SS), a twin learning task that takes into account a user's current and past search queries, in addition to behavior on historical query sessions.
% a user's long-range behavior sequence as well as their near-term behavior sequence over time. 
The SS learning task is even more important than the counterpart SR task for most of E-commence companies due to its much larger online serving demands as well as traffic volume.

% To address this challenge, in this paper, we first present a new learning task, Sequential Search in order to well capture a user's long-range and short-term behaviors for more accurate and personalized search.
To this end, we propose a highly scalable hybrid learning model that consists of an RNN learning framework leveraging all features in short-term user-item interactions, and an attention model utilizing selected item-only features from long-term interactions.
As a novel optimization step, we fit multiple short user sequences in a single RNN pass within a training batch, by solving a greedy knapsack problem on the fly. 
Moreover, we explore the use of off-policy reinforcement learning in multi-session personalized search ranking. Specifically, we design a pairwise Deep Deterministic Policy Gradient model that efficiently captures users' long term reward in terms of pairwise classification error.
Extensive ablation experiments demonstrate significant improvement each component brings to its state-of-the-art baseline, on a variety of offline and online metrics.     
\end{abstract}


%%
%% The code below is generated by the tool at http://dl.acm.org/ccs.cfm.
%% Please copy and paste the code instead of the example below.
%%
\begin{CCSXML}
<ccs2012>
<concept>
<concept_id>10010147.10010257.10010293.10010294</concept_id>
<concept_desc>Computing methodologies~Neural networks</concept_desc>
<concept_significance>500</concept_significance>
</concept>
<concept>
<concept_id>10002951.10003317.10003338.10003343</concept_id>
<concept_desc>Information systems~Learning to rank</concept_desc>
<concept_significance>500</concept_significance>
</concept>
</ccs2012>
\end{CCSXML}

\ccsdesc[500]{Computing methodologies~Neural networks}

\ccsdesc[500]{Information systems~Learning to rank}


%%
%% Keywords. The author(s) should pick words that accurately describe
%% the work being presented. Separate the keywords with commas.
\keywords{sequential-search, RNN, reinforcement-learning, actor-critic}


%% A "teaser" image appears between the author and affiliation
%% information and the body of the document, and typically spans the
%% page.
% \begin{teaserfigure}
%   \includegraphics[width=\textwidth]{sampleteaser}
%   \caption{Seattle Mariners at Spring Training, 2010.}
%   \Description{Enjoying the baseball game from the third-base
%   seats. Ichiro Suzuki preparing to bat.}
%   \label{fig:teaser}
% \end{teaserfigure}

%%
%% This command processes the author and affiliation and title
%% information and builds the first part of the formatted document.
\maketitle

\input{1-introduction}
\input{2-related_work}
\input{3-method}
% \input{4-analysis}
\input{5-experiment}
\input{6-conclusion}


\bibliographystyle{ACM-Reference-Format}
\balance
\bibliography{references}
\citestyle{acmauthoryear}




\end{document}
\endinput
%%
%% End of file `sample-authordraft.tex'.
