\documentclass[preprint]{elsarticle}

%%%
\usepackage{graphicx}
\usepackage{listings} 
\usepackage{amsmath}
\usepackage{listings} 
\usepackage{amsthm}
\usepackage{xspace}
\usepackage{latexsym,amssymb,stmaryrd}
\usepackage{color}
\usepackage{tikz}
\usepackage{prooftree}
\usepackage{proof}
\usetikzlibrary{calc}
\usetikzlibrary{shapes,snakes}
\usepackage{float}
%\floatstyle{boxed}
\restylefloat{figure}
\usepackage{wrapfig,subfig}
\input{Def}


\begin{document}\newif\ifsubmit
%\submittrue
\submitfalse
\ifsubmit
\newcommand{\EZ}[1]{#1}
\newcommand{\EZComm}[1]{}
\newcommand{\PG}[1]{#1}
\newcommand{\PGComm}[1]{}
\newcommand{\MS}[1]{#1}
\newcommand{\MSComm}[1]{}
\newcommand{\JC}[1]{#1}

\newcommand{\JCComm}[1]{}
\else
\newcommand{\EZ}[1]{\textcolor{blue}{#1}}

\newcommand{\EZComm}[1]{{\scriptsize \textcolor{blue}{[Elena{:} #1]}}}

%\newcommand{\PG}[1]{\textcolor{magenta}{#1}}
\newcommand{\PG}[1]{\textcolor{blue}{#1}}

\newcommand{\PGComm}[1]{{\scriptsize \textcolor{magenta}{[Paola{:} #1]}}}
\newcommand{\MS}[1]{\textcolor{green}{#1}}
\newcommand{\MSComm}[1]{{\scriptsize \textcolor{green}
{[MS{:} #1]}}}
\newcommand{\JC}[1]{\textcolor{red}{#1}}
\newcommand{\JCComm}[1]{{\scriptsize \textcolor{red}
{[JC{:} #1]}}}

\fi


\begin{frontmatter}

\title{{Flexible recovery of uniqueness and immutability\\
(Extended Version)}}


\author[pg]{Paola Giannini\corref{cor1}}
\ead{giannini@di.unipmn.it}

\author[ms]{Marco Servetto}
\ead{marco.servetto@ecs.vuw.ac.nz}

\author[ez]{Elena Zucca}
\ead{elena.zucca@unige.it}

\author[ms]{James Cone}
\ead{james.cone@ecs.vuw.ac.nz}


\cortext[cor1]{Principal corresponding author}


\address[ms]{School of Engineering and Computer Science, Victoria University of Wellington, Gate 6, Kelburn Parade
Wellington, New Zealand}
\address[pg]{Computer Science Institute, DiSIT, Universit\`a del Piemonte Orientale, viale Teresa Michel 11,  Alessandria, Italy\footnote{This original research has the financial support of the Universit\`a  del Piemonte Orientale.}
}
\address[ez]{DIBRIS, Universit\`a di Genova, Via Dodecaneso 35, Genova, Italy}
 
\begin{abstract}
We present an imperative object calculus where types are annotated with qualifiers for aliasing {and mutation} control.  There are two key novelties with respect to similar proposals. {First, the type system is very expressive. Notably, it adopts the \emph{recovery} approach, that is, using the
type context to justify strengthening types, greatly improving its power by permitting to recover uniqueness and immutability properties even in presence of other references. This is achieved by rules which restrict the use of such other references in the portion of code which is recovered.  Second, execution is modeled by a non standard operational model, where} 
properties of qualifiers can be directly expressed on source terms, rather than as invariants on an auxiliary structure which mimics physical memory. Formally, this is achieved by the block construct, introducing local variable declarations, which, when evaluated, play the role of store.
\end{abstract}


\begin{keyword}
{Type systems; Imperative calculi; Immutability; Aliasing}
\end{keyword}
\end{frontmatter}


\input{Intro}
\input{Informal}
\input{TypeSystem}
\input{Examples}
\input{Calculus}
\input{Results}
\input{RelatedWork}
\input{Conclu}

\section*{Bibliography}
\bibliographystyle{elsart-num-sort}
\bibliography{main}

\input{Appendix}
\end{document}
