\input{3-dataset/figure-samples-dataset}

\section{\uppercase{RodoSol-ALPR dataset}}
\label{sec:dataset}

The \dataset dataset contains $\numimages$ images captured by static cameras located at pay tolls owned by the \gls*{rodosol} concessionaire~\citep{rodosol} (hence the name of the dataset), which operates $\numkm$ kilometers of a highway (ES-060) in the Brazilian state of Esp\'{\i}rito Santo.

As can be seen in Figure~\ref{fig:samples-dataset}, there are images of different types of vehicles (e.g., cars, motorcycles, buses and trucks), captured during the day and night, from distinct lanes, on clear and rainy days, and the distance from the vehicle to the camera varies slightly.
All images have a resolution of $1{,}280 \times 720$~pixels. 

An important feature of the proposed dataset is that it has images of two different \gls*{lp} layouts: Brazilian and Mercosur.
To maintain consistency with previous works~\citep{izidio2020embedded,oliveira2021vehicle,silva2022flexible}, we refer to ``Brazilian'' as the standard used in Brazil before the adoption of the Mercosur standard.
All Brazilian \glspl*{lp} consist of three letters followed by four digits, while the initial pattern adopted in Brazil for Mercosur \glspl*{lp} consists of three letters, one digit, one letter and two digits, in that order.
In both layouts, car \glspl*{lp} have seven characters arranged in one row, whereas motorcycle \glspl*{lp} have three characters in one row and four characters in another.
Even though these \gls*{lp} layouts are very similar in shape and size, there are considerable differences in their colors and characters'~fonts.

The $\numimages$ images are divided as follows: $5{,}000$ images of cars with Brazilian \glspl*{lp}; $5{,}000$ images of motorcycles with Brazilian \glspl*{lp}; $5{,}000$ images of cars with Mercosur \glspl*{lp}; and $5{,}000$ images of motorcycles with Mercosur \glspl*{lp}.
For the sake of simplicity of definitions, here ``car'' refers to any vehicle with four wheels or more (e.g., passenger cars, vans, buses, trucks, among others), while ``motorcycle'' refers to both motorcycles and motorized tricycles.
As far as we know, \dataset is the public dataset for \gls*{alpr} with the highest number of motorcycle~images.

We randomly split the \dataset dataset as follows: $8{,}000$ images for training; $8{,}000$ images for testing; and $4{,}000$ images for validation, following the split protocol (i.e.,~$40$\%/$40$\%/$20$\%) adopted in the \ssigsegplate~\citep{goncalves2016benchmark} and \ufpralpr~\citep{laroca2018robust} datasets.
We preserved the percentage of samples for each vehicle type and \gls*{lp} layout; for example, there are $2{,}000$ images of cars with Brazilian \glspl*{lp} in each of the training and test sets, and $1{,}000$ images in the validation one.
For reproducibility purposes, the subsets generated are explicitly available along with the proposed~dataset.

Every image has the following information available in a text file: the vehicle's type (car or motorcycle), the \gls*{lp}'s layout (Brazilian or Mercosul), its text (e.g., ABC-1234), and the position~($x$,~$y$) of each of its four corners.
We labeled the corners instead of just the \gls*{lp} bounding box to enable the training of methods that explore \gls*{lp} rectification, as well as the application of a wider range of data augmentation techniques.

The datasets for \gls*{alpr} are generally very unbalanced in terms of character classes due to \gls*{lp} allocation policies~\citep{zhang2021robust_attentional}.
In Brazil, for example, one letter can appear much more often than others according to the state in which the \gls*{lp} was issued~\citep{goncalves2018realtime,laroca2018robust}.
This information must be taken into account when training recognition models in order to avoid undesirable biases --~this is usually done through data augmentation techniques~\citep{zhang2021robust_attentional,hasnat2021robust}; for example, a network trained exclusively in our dataset may learn to always classify the first character as `P' in cases where it should be `B' or~`R' since it appears much more often in this position than these two characters (see Figure~\ref{fig:frequency}).

\begin{figure}[!htb]
    \centering
    \includegraphics[width=0.9\linewidth]{imgs/3-dataset/frequency-rodosol-alpr-stacked.pdf} \,
    
    \vspace{-1.25mm}
    
    \caption{The distribution of character classes in the \dataset dataset. Observe that there is a significant imbalance in the distribution of the letters (due to \gls*{lp} allocation policies), whereas the digits are well balanced.}
    \label{fig:frequency}
\end{figure}

Regarding privacy concerns related to our dataset, we remark that in Brazil the \glspl*{lp} are related to the respective vehicles, i.e., no public information is available about the vehicle drivers/owners~\citep{placa_veiculo_planalto,oliveira2021vehicle}.
Moreover, all human faces (e.g., drivers or \gls*{rodosol}'s employees) were manually redacted (i.e., blurred) in each~image.