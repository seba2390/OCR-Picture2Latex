\begin{abstract}

We present a structure-aware code editor, called \deuce{}, that is
equipped with direct manipulation capabilities for invoking
automated program transformations. Compared to traditional
refactoring environments, \deuce{} employs a direct manipulation
interface that is tightly integrated within a text-based editing
workflow. In particular, \deuce{} draws (i) clickable widgets atop the
source code that allow the user to \emph{structurally select} the
unstructured text for subexpressions and other relevant features, and
(ii) a lightweight, interactive menu of potential transformations
based on the current selections.
%
We implement and evaluate our design
with mostly standard transformations
in the context of a small functional programming language.
%
A controlled user study with \numUsers{} participants demonstrates
that structural selection is preferred to a more traditional
text-selection interface and may be faster overall once users
gain experience with the tool.
%
These results accord with \deuce{}'s aim to provide human-friendly
structural interactions on top of familiar text-based editing.

%% Our design can be instantiated for
%% different languages and structured transformations.

%% We instantiate and implement our user interface design with a set of
%% transformations for a core functional programming language.

%% With these features, the user can quickly
%% and easily identify, invoke, and configure various structured program
%% transformations during the text-editing process.

%% %% We implement \deuce{} within the context of \sns{}, an interactive
%% We implement \deuce{} within the context of \sns{}, a
%% functional programming environment for generating Scalable Vector
%% Graphics. We evaluate our implementation of \deuce{} in two ways.
%% First, through a controlled user study with \numUsers{}
%% participants, we demonstrate how structural text selection improves
%% the efficiency of invoking code transformations as compared
%% to traditional text selection used in most refactoring environments.
%% Second, through a series of examples, we demonstrate how \deuce{}
%% reduces the amount of tedious and error-prone text-edits that arise in
%% several programming tasks, while retaining the full flexibility of
%% text-editing. Together, these results suggest that the user
%% interface of \deuce{} helps streamline text-based and structured
%% editing.

\end{abstract}
