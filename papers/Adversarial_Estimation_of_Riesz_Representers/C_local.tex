\section{Local Riesz Representer Convergence Rate}\label{sec:local_RR}

Suppose that we use the constraint the test functions to lie in:
\begin{equation}
    \mcF(r_n) = \{f \in \text{star}\left(\partial(\mcG - \hat{g})\right): \|f\|_2\leq r_n \}
\end{equation}
And consider the estimator:
\begin{equation}
    \inf_{a \in \mcA}\,\, \sup_{f \in } \Psi_n(a, f)
\end{equation}
Then by a localized concentration bound we have:
\begin{align}
    \forall a\in \mcA, f\in \mcF(r_n): \left| \Psi_n(a, f) - \Psi(a, f) \right| \leq~& O\left(\delta_{n,\zeta} \|m(\cdot; f) - a\, f\|_2 + \delta_{n,\zeta}^2 \right)\\
    \leq~& O\left((M+1)\delta_{n,\zeta} \|f\|_2 + \delta_{n,\zeta}^2\right) \\
    \leq~& O\left((M+1)\delta_{n,\zeta} r_n + \delta_{n,\zeta}^2\right) =: \epsilon_{n}
\end{align}
where $\delta_{n,\zeta}=\delta_n + c_0\sqrt{\frac{\log(c_1/\zeta)}{n}}$ and $\delta_n$ bounds the critical radius of the function class:
\[
\{Z \to m(Z; f) - a(X)\, f(X): f\in \mcF(r_n), a\in \mcA\}.
\]
Thus we have that:
\begin{align}
   \sup_{f \in \mcF(r_n)} \Psi(\hat{a}, f) - \epsilon_n \leq~& \sup_{f \in\mcF(r_n)} \Psi_n(\hat{a}, f) \leq \sup_{f \in \mcF(r_n)} \Psi_n(a_*, f) \\
   \leq~& \sup_{f \in \mcF(r_n)} \Psi(a_*, f) + \epsilon_n\\
    =~& \inf_{a \in \mcA} \sup_{f \in \mcF(r_n)} \Psi(a, f) + \epsilon_n
\end{align}
Concluding that:
\begin{equation}
    \sup_{f \in \mcF(r_n)} \Psi(\hat{a}, f) \leq \inf_{a \in \mcA} \sup_{f \in \mcF(r_n)} \Psi(a, f) + 2\,\epsilon_n
\end{equation}
Moreover, if $a_0$ is a local Riesz representer, i.e. it satisfies the Riesz equation for differences with $\hat{g}$ of any function in $\mcG$ within a ball $r_n$ around $\hat{g}$, then:
\begin{equation}
    \inf_{a \in \mcA} \sup_{f \in \mcF(r_n)} \Psi(a, f)  = \inf_{a \in \mcA} \sup_{f \in \mcF(r_n)} \ldot{a_0 - a}{f} \leq r_n \inf_{a \in \mcA} \sup_{f\in \mcF(1)}  \ldot{a_0 - a}{f} \leq r_n \inf_{a\in \mcA} \|a_0 - a\|_2
\end{equation}

Thus if $g_0$ lies within a ball $r_n$ of $\hat{g}$, we conclude that:
\begin{equation}
    \E[(a_0(X) - \hat{a}(X))\, \left(\hat{g}(X) - g_0(X)\right)] \leq O\left(M\, r_n \delta_{n,\zeta} + \delta_{n,\zeta}^2 + r_n\, \inf_{a\in \mcA}\|a_0 - a\|_2\right)
\end{equation}

If for instance $r_n\, \delta_{n,\zeta} = o(n^{-1/2})$ and $\delta_{n,\zeta} = o(n^{-1/4})$ and $r_n\inf_{a\in \mcA}\|a_0 - a\|_2 = o(n^{-1/2})$, then we can conclude that:
\begin{equation}
    \sqrt{n}\, \E[(a_0(X) - \hat{a}(X))\, \left(\hat{g}(X) - g_0(X)\right)] \to_p 0
\end{equation}

If $a_0 \in \mcA$ and both $\mcA$ and $\mcG$ are VC-subgraph classes with constant VC dimension, then it can be shown that $\delta_{n,\zeta}=O\left(\sqrt{\frac{\log(n/\zeta)}{n}}\right)$. Thus for the above conditions to hold, it suffices that: $r_n = o(1)$ (i.e. that $\hat{g}$ is RMSE-consistent).

Finally observe that we need $\mcA$ to have a small approximation error to $a_0$, not with respect to the $\|\cdot\|_2$ norm, but rather with the weaker norm:
\begin{equation}
    \|a_0 - a\|_{\mcF} = \sup_{f\in \mcF(1)}  \ldot{a_0 - a}{f}
\end{equation}
Thus $a$ does not need to match the component of $a_0$ that is orthogonal to the subspace $\mcF$. If for instance, we assume that $\mcF$ lies in the space spanned by top $K$ eigenfunctions of a reproducing kernel hilbert space, then it suffices to consider $\mcA$ the space spanned by those functions too. Then $\inf_{a\in \mcA} \|a_0 - a\|_{\mcF}=0$. For instance, if $\mcG$ is a finite dimensional linear function space and $g_0\in \mcG$, then it suffices to consider $\mcA$ that is also finite dimensional linear, even if the true $a_0$ does not lie in that sub-space. Then all the conditions of \Cref{lem:debias} will be satisfied, even if $\hat{a}$ will never be consistent with respect to $a_0$.