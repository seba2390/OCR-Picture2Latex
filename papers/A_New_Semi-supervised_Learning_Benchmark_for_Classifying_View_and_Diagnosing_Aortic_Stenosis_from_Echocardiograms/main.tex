\documentclass[pmlr]{jmlr_arxiv}% new name PMLR (Proceedings of Machine Learning)
% The following packages will be automatically loaded:
% amsmath, amssymb, natbib, graphicx, url, algorithm2e
% There's a bug with includegraphics that needs this fix
% https://tex.stackexchange.com/questions/520891/problems-with-includegraphics
\makeatletter
\let\Ginclude@graphics\@org@Ginclude@graphics
\makeatother
\jmlrworkshop{\href{https://www.mlforhc.org}{Machine Learning for Healthcare, 2021}}
\jmlryear{Last updated: 2021-07-21}
\jmlrvolume{}
\jmlrpages{}

%\documentclass[pmlr]{jmlr}% new name PMLR (Proceedings of Machine Learning)
%\jmlrworkshop{Machine Learning for Healthcare}
%\jmlryear{2021}
%\jmlrvolume{149}
%\jmlrpages{}

\usepackage{url}
\usepackage{hyperref}
\hypersetup{
    colorlinks,
    citecolor=blue,
    filecolor=blue,
    linkcolor=blue,
    urlcolor=blue,
}

%%% TODOs
\usepackage{xcolor}
% Use \todo{your text here} to mark things that should get done
\newcommand{\todo}[1]{{\color{red} #1}}

%%% Natbib bibliography options
\setcitestyle{authoryear,open={(},close={)}}

%%% Packages for in-line text
\usepackage[utf8]{inputenc} % allow utf-8 input
\usepackage[T1]{fontenc}    % use 8-bit T1 fonts
\usepackage{hyperref}       % hyperlinks
\usepackage{url}            % simple URL typesetting
\usepackage{microtype}      % microtypography
\usepackage{nicefrac}       % compact symbols for 1/2, etc.
\usepackage{enumitem}

%%% Math typesetting
%\usepackage{amsmath,amssymb,amsfonts,amsthm}
%\usepackage{flexisym}       % Gives \textprime

%%% Graphics
\usepackage{graphicx}
\usepackage{caption}
\usepackage{chngcntr} % make figure numbering in appendix work
% Avoid annoying warnings that come with some pdf figures
\pdfsuppresswarningpagegroup=1

%%% Tables
\usepackage{multirow}
\usepackage{booktabs}
\usepackage{rotating}
\usepackage{array}
\usepackage{float}
\newcolumntype{P}[1]{>{\centering\arraybackslash}p{#1}}

%%%%%%%%%%%% MACROS
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}
\newcommand{\KL}[0]{\text{KL}}

\newcommand{\datasetName}[0]{TMED}
\newcommand{\datasetURL}[0]{\url{https://\datasetName.cs.tufts.edu}}
\newcommand{\codeURL}[0]{\url{https://github.com/tufts-ml/ssl-for-echocardiograms}}

%%% SPACE-REDUCING HACK 1/2
% Small captions
\captionsetup[table]{font=small,labelfont=small}
\captionsetup[figure]{font=small,labelfont=small}
% Reduce spacing around floats 
\setlength{\floatsep}{8pt plus 4pt minus 4pt}
\setlength{\textfloatsep}{8pt plus 4pt minus 3pt}

\begin{document}

%%% SPACE-REDUCING HACK 2/2
% Reset vertical space for equations 
% (must be after \begin{document})
\setlength{\abovedisplayskip}{2pt plus 3pt}
\setlength{\belowdisplayskip}{2pt plus 3pt}

\title[SSL for Classifying View and Diagnosis Aortic Stenosis from Echocardiograms]{A New Semi-supervised Learning Benchmark for Classifying View and Diagnosing Aortic Stenosis from Echocardiograms}

\author{\Name{Zhe Huang}$^{1}$, M.S.
		\Email{\textsc{zhe.huang@tufts.edu}}
\AND
        \Name{Gary Long}$^{2}$, M.S.
		\Email{\textsc{gary@cvai.solutions}}
\AND
        \Name{Benjamin Wessler}$^{3}$, M.D.
		\Email{\textsc{bwessler@tuftsmedicalcenter.org}}
\AND       
        \Name{Michael C. Hughes}$^1$, Ph.D.
        \Email{\textsc{michael.hughes@tufts.edu}}
        \\
        \addr $^1$ Dept. of Computer Science, Tufts University, Medford, MA, USA
        \\
        \addr $^2$ CVAI Solutions, Dorchester, MA        \\
        \addr $^3$ Division of Cardiology, Tufts Medical Center, Boston, MA
}%endauthortag


\maketitle

\begin{abstract}
  \input{abstract.tex}
\end{abstract}

\section{Introduction}
\label{sec:Introduction}
\input{intro.tex}

\section{Background and Related Work}
\label{sec:RelatedWork}
\input{bg_and_related_work.tex}

\input{fig_view_samples.tex}
% \begin{figure}
%     \includegraphics[width=0.9\textwidth]{figures/View_samples.png}
%     \caption{Examples of images with their view label in our dataset. \emph{From left to right:} Two examples of peristernal long axis (PLAX) view, two examples of peristernal short axis (PSAX) view, and two examples of other kinds of view in our ``Other'' class.}
%     \label{fig:example_view_images}
% \end{figure}

\section{Dataset}
\label{sec:Dataset}
\input{dataset.tex}

\section{Methods}
\label{sec:Methods}
\input{methods.tex}

% \section{Evaluation Procedures}
% \label{sec:Evaluation}


\section{Results}
%\input{evaluation.tex}
\label{sec:Results}
\input{results.tex}

\input{fig_confusion_mat.tex}
%\input{fig_roc_for_no_vs_some.tex}
%\input{fig_SevereAS_NoAS_patient_sample}

\section{Discussion}
\label{sec:Discussion}
\input{discussion.tex}

\input{acks.tex}

\bibliography{ssl_for_echo.bib}


\appendix

%% In the appendix, fig and tab counters are linked
%% Thus, B.5 refers uniquely to one fig or table.
\makeatletter
\let\c@table\c@figure % for (1)
\let\ftype@table\ftype@figure % for (2)
\makeatother

\counterwithin{table}{section}
\setcounter{table}{0}
\counterwithin{figure}{section}
\setcounter{figure}{0}
\counterwithin{algocf}{section} % counter for algorithm2e is called algocf
\setcounter{algocf}{0}

\input{Appendix.tex}

\end{document}
