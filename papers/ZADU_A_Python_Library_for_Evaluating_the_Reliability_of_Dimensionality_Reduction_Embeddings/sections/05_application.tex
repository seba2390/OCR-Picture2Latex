
\subsection{Application: Visualizing Local Distortions}

\label{sec:app}

Various distortion visualization methods \cite{lespinats11cgf, jeon21tvcg} have been proposed to provide insights into the extent to which each region is affected by distortions.
% \library provides an option to retrieve local distortions for a predefined set of local and cluster-level measures (\autoref{sec:pointwise}), which can be depicted using various distortion visualizations \cite{lespinats11cgf, jeon21tvcg}. 
CheckViz \cite{lespinats11cgf} (\autoref{fig:distvis} second column), for example, decomposes the scatterplot that represents a DR embedding using a Voronoi diagram, and then encodes the distortion of each point as a color of the corresponding Voronoi cell. Reliability Map \cite{jeon21tvcg} (\autoref{fig:distvis} third column) constructs an  $k$NN graph in the embedded space and encodes the distortions of each point on the incident graph edges. 


We present the implementation of local distortion visualizations as an application of \library. We develop \vislib, a Python library that provides CheckViz and the Reliability Map as representative distortion visualizations. 
\vislib takes local pointwise distortions generated by \library as input and uses them to generate distortion visualizations. 
Integrated with \texttt{matplotlib} \cite{hunter07cse}, \vislib allows users to render a distortion visualization without time-consuming extra implementation (\autoref{code:distvis}). Extending our application to a more complex visual analytics system would be an interesting direction.



\begin{lstlisting}[
    language=Python, 
    caption={Visualizing CheckViz \cite{lespinats11cgf} and the Reliability Map \cite{jeon21tvcg} using \vislib and \texttt{matplotlib}. \vislib gets the embedding and the local distortions made by \library as arguments and generates distortion visualization. The rendered image of this code is depicted in the second (CheckViz) and third (Reliability Map) columns of \autoref{fig:distvis}. },
    label={code:distvis}
]
from zadu import zadu
from zaduvis import zaduvis
import matplotlib.pyplot as plt
from sklearn.manifold import TSNE

## load datasets and generate an embedding
hd = load_mnist()
ld = TSNE().fit_transform(hd)

## Computing local pointwise distortions
spec = [{"id": "snc", "params": {"k": 50}}]
zadu_obj = zadu.ZADU(spec, hd, return_local=True)
global_, local_ = zadu_obj.measure(ld)
l_s = local_[0]["local_steadiness"]
l_c = local_[0]["local_cohesiveness"]

## Visualizing local distortions
fig, ax = plt.subplots(1, 2, figsize=(20, 10))
zaduvis.checkviz(ld, l_s, l_c, ax=ax[0])
zaduvis.reliability_map(ld, l_s, l_c, ax=ax[1])


\end{lstlisting}
