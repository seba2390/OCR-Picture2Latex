\begin{algorithm2e}[t]
\footnotesize
\SetAlgoLined
\SetKwInOut{Input}{Input}
\SetKwInOut{Output}{Output}
\KwIn{block: $B$, current level: $curLv$, max level: $maxLv$} 
\KwOut{partitioning flags: $fl$, output bitstream: $bits$}
\SetKwFunction{FMain}{partitioner}
\SetKwProg{Fn}{Function}{:}{}
\Fn{\FMain{$B, curLv, maxLv$}}{
    %\tcc{encode as 8 child blocks}
    $fl2$ $\leftarrow$ 2  \tcp*[l]{encode as 8 child blocks}
    \For{block $b$ in child blocks of $B$}{
        \eIf{$b$ is empty}{
            $child\_flag$ $\leftarrow$ 0\;
            $child\_bit$ $\leftarrow empty$\;
        }{
            \eIf{$curLv$ $==$ $maxLv$}{
                %\tcc{encode child block as a single block}
                $child\_flag$ $\leftarrow$ 1\;
                $child\_bit$ $\leftarrow$ singleBlockCoder($b$)\;
            }{
                %\tcc{paritioning selection at lower level}
                $child\_flag, child\_bit$ $\leftarrow$ partitioner($b$, $curLv+1$,$maxLv$)\;
            }
        }
        $ fl2 \leftarrow$ [$fl2$, $child\_flag$]\;
        $ bit2\leftarrow$ [$bit2$, $child\_bit$]\; 
    }
    $total\_bit2=sizeOf(bit2)+len(fl2)\times 2$\;
    %\tcc{encode as a single block}
    $fl1 \leftarrow$ 1\tcp*[l]{encode as a single block}
    $bit1 \leftarrow$ singleBlockCoder($B$)\;
    $total\_bit1=sizeOf(bit1)+len(fl1)\times 2$\;
    \tcc{partitioning selection}
    \eIf{$total\_bit2 \geq total\_bit1$}{
        \KwRet $fl1, bit1$\;
    }{
        \KwRet $fl2, bit2$\;
    }
  }
\caption{Block partitioning selection}
\label{algo:proposed_method}
\end{algorithm2e}
%\setlength{\textfloatsep}{0pt}