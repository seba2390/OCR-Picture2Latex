
\begin{lstlisting}[style=mapping-style,backgroundcolor=\color{lightblue}]
/*------------------------------------ (a) Compiler IR fragment ------------------------------------------*/ 
%1 = nn.dense(%data, %weight)
%2 = nn.bias_add(%1, %bias)
\end{lstlisting}

\begin{lstlisting}[style=mapping-style,backgroundcolor=\color{lightorange}]
/*------------------------------------ (b) FlexASR ILA program fragment ----------------------------------*/ 
// configure accelerator states
FlexASR_ILA.pe_cfg_rnn_layer      %is_zero %is_cluster %is_bias %num_mngr %num_v_out
FlexASR_ILA.pe_cfg_mngr           %mngr_idx %is_zero %bias_w %bias_b %bias_i %num_v_in %base_w ...
FlexASR_ILA.pe_cfg_act_mngr       %is_zero %bias %num_insn %num_v_out %buf_base %out_base
FlexASR_ILA.pe_cfg_act_v          %is_zero %insn_0 %insn_1
FlexASR_ILA.gb_cfg_mmngr_gb_large %base_0 %num_v_0 %base_1 %num_v_1
FlexASR_ILA.gb_cfg_gb_control     %mode %is_rnn %mem_id_in %mem_id_out %num_v_in %num_v_out %num_ts
// trigger accelerator function
FlexASR_ILA.fn_start              %fn_id
\end{lstlisting}

\begin{lstlisting}[style=mapping-style,backgroundcolor=\color{lightgray}]
/*------------------------------------ (c) FlexASR MMIO commands -----------------------------------------*/ 
// configure accelerator states
Write, Addr=0xA4400010, Data=0x0010101000001
Write, Addr=0xA4400020, Data=0x0000000010000000102020200
// ...
// trigger accelerator function
Write, Addr=0xA3000010, Data=0x1
\end{lstlisting}
