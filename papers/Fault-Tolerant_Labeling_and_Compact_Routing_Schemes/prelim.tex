\section{Preliminaries}
Given a graph $G=(V,E)$, and vertex $u \in V$, let $\deg(u,G)$ be the degree of $u$ in $G$. 
Given a tree $T$ and $u, v \in T$, denote the $u$-$v$ path in $T$ by $\pi(u,v,T)$. When the tree $T$ is clear from the context, we may omit it and write $\pi(u,v)$. For a (possibly weighted) subgraph $G' \subseteq G$ and a vertex pair $s,t \in V$, let $\dist_{G'}(s,t)$ denote the length of the $s$-$t$ shortest path in $G'$. 

\paragraph{Fault-Tolerant Labeling Schemes.}
For a given graph $G$, let $\Pi: V\times V \times \mathcal{G} \to \mathbb{R}_{\geq 0}$ %\mtodo{a reviewer pointed out that the last element in the domain should probably be subgraphs of $G$ and not $G$, see which notation we want here.} \mertodo{I am not sure that it is needed as we consider $G$ in the fault-free setting and $G \setminus F$ in the FT setting. We can of course write $\Pi: V\times V \times \mathcal{G} \to \mathbb{R}_{\geq 0}$ where $\mathcal{G}$ is the family of all $G$-subgraphs, but I cannot see why we need it.} 
be a function defined on pairs of vertices and a subgraph $G' \subset G$, where $\mathcal{G}$ is the family of all subgraphs of $G$. For an integer parameter $f\geq 1$, an $f$-\emph{fault-tolerant labeling scheme} for a function $\Pi$ and a graph family $\mathcal{F}$ is a pair of functions $(L_{\Pi},D_{\Pi})$. The function $L_{\Pi}$ is called the \emph{labeling function}, and $D_{\Pi}$ is called the \emph{decoding function}. For every graph $G$ in the family $\mathcal{F}$, the labeling function $L_{\Pi}$ associates with each vertex $u \in V(G)$ and every edge $e \in E(G)$, a label $L_{\Pi}(u,G)$ (resp., $L_{\Pi}(e,G)$). It is then required that given the labels of any triplets $s,t, F \in V \times V \times E^f$, the decoding function $D_{\Pi}$ computes $\Pi(s,t, G \setminus F)$.  The primary complexity measure of a labeling scheme is the \emph{label length}, measured by the length (in bits) of the largest label it assigns to some vertices (or edges) in $G$ over all graphs $G \in \mathcal{F}$. An $f$-FT connectivity labeling scheme is required to output YES iff $s$ and $t$ are connected in $G \setminus F$.  In $f$-FT \emph{approximate distance labeling scheme} it is required to output an estimate for the $s$-$t$ distance in the graph $G \setminus F$. Formally, an $f$-FT labeling scheme is $q$\emph{-approximate} if the value $\delta(s,t,F)$ returned by the decoder algorithm satisfies that $\dist_{G \setminus F}(s,t)\leq \delta(s,t,F) \leq q \cdot \dist_{G \setminus F}(s,t)$.  Throughout the paper we provide randomized labeling schemes which provide a high probability guarantee of correctness for any fixed triplet $\langle s,t, F \rangle$. 


\paragraph{Fault-Tolerant Routing Schemes.} In the setting of FT routing scheme, one is given a pair of source $s$ and destination $t$ as well as $F$ edge faults, which are initially unknown to $s$. The routing scheme consists of \emph{preprocessing} and \emph{routing} algorithms. The preprocessing algorithm defines labels $L(u)$ to each of the vertices $u$, and a header $H(M)$ to the designated message $M$. In addition, it defines for every vertex $u$ a routing table $R(u)$. The labels and headers are usually required to be short, i.e., of poly-logarithmic bits. 
The routing procedure determines at each vertex $u$ the port-number on which $u$ should send the messages it receives. The computation of the next-hop is done by considering the header of the message $H(M)$, the label of the source and destination $L(s)$ and $L(t)$ and the routing table $R(u)$. The routing procedure at vertex $u$ might also edit the header of the message $H(M)$. The failing edges are not known in advance and can only be revealed by reaching (throughout the message routing) one of their endpoints. The \emph{space} of the scheme is determined based on maximal length of message headers, labels and the individual routing tables. The stretch of the scheme is measured by the ratio between the length of the path traversed until the message arrived its destination and the length of the shortest $s$-$t$ path in $G \setminus F$. In the more relaxed setting of \emph{forbidden-set routing schemes} the failing edges are given as input to the routing algorithm.

%\paragraph{Forbidden-Set Routing Schemes.} One of the key applications of labeling schemes is routing.
%In the setting of forbidden-set routing schemes, given the labels of $s$, $t$ and a set of forbidden edges $
%F$, it is required to determine the next-hop neighbor of $s$ on some short $s$-$t$ path in $G \setminus F$. The main two complexity measures are the stretch induced by the $s$-$t$ path encoded by the labels.  \mtodo{Maybe the definition should be more similar to the next one? (consider labels, tables, headers)}
%That is, given the labels of $u$, $v$ and the faults $F$, the decoder function returns the port-number of $u$'s neighbor lying on a $u$-$v$ path $P$ in $G \setminus F$ such that $P \subseteq G$ and $len(P)\leq s \cdot \dist(u,v, G \setminus F)$ for some approximation factor $s$. 
