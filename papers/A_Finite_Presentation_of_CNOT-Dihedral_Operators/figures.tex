% U triangle.
\def\Utriangle{
\m{\begin{qcircuit}[scale=0.39]
    \grid{2.8}{0,3.2,4.8}
    \utriangle{1.4}{0}{4.8}{1.6,4.8}
\end{qcircuit}}
=
\m{\begin{qcircuit}[scale=0.39]
    \Period{7.6}{0}
    \grid{7.2}{0,3.2,4.8}
    \Ugate{n_1}{1.4}{4.8}{3.2}
    \colgate{white, white}{$\bcdots$}{3.68,4.8}
    \colgate{white, white}{$\bcdots$}{3.68,3.2}
    \colgate{white, white}{$\bddots$}{3.68,1.6}
    \colgate{white, white}{$\bcdots$}{3.68,0}
    \Ugate{n_k}{5.8}{4.8}{0}
\end{qcircuit}}
}

% V trapezoid.
\def\Vtrapezoid{
\m{\begin{qcircuit}[scale=0.39]
    \grid{2.8}{0,3.2,4.8,6.4}
    \vtrapezoid{1.4}{6.4}{4.8}{0}{2,1}
\end{qcircuit}}
=
\m{\begin{qcircuit}[scale=0.39]
    \grid{7.2}{0,3.2,4.8,6.4}
    \Vgate{n_1}{1.4}{3.2}{6.4}{4.8}
    \colgate{white, white}{$\bcdots$}{3.68,6.4}
    \colgate{white, white}{$\bcdots$}{3.68,4.8}
    \colgate{white, white}{$\bcdots$}{3.68,3.2}
    \colgate{white, white}{$\bddots$}{3.68,1.6}
    \colgate{white, white}{$\bcdots$}{3.68,0}
    \Vgate{n_k}{5.8}{4.8}{6.4}{0}
\end{qcircuit}}
}

% V triangle.
\def\Vtriangle{
\m{\begin{qcircuit}[scale=0.39]
    \grid{2.8}{0,1.6,4.8,6.4}
    \vtriangle{1.4}{0}{6.4}{1.6,6.4}
\end{qcircuit}}
=
\m{\begin{qcircuit}[scale=0.39]
    \Period{7.6}{0}
    \grid{7.2}{0,1.6,4.8,6.4}
    \vtrapezoid{1.4}{6.4}{4.8}{0}{2,1}
    \colgate{white, white}{$\bcdots$}{3.68,6.4}
    \colgate{white, white}{$\bcdots$}{3.68,4.8}
    \colgate{white, white}{$\bddots$}{3.68,3.2}
    \colgate{white, white}{$\bcdots$}{3.68,1.6}
    \colgate{white, white}{$\bcdots$}{3.68,0}
    \vtrapezoid{5.8}{6.4}{1.6}{0}{2,1}
\end{qcircuit}}
}

% Stair.
\def\stair{
\m{\begin{qcircuit}[scale=0.39]
    \grid{5}{0,1.6,3.2,6.4,8}
    \colgate{white, white}{$\bvdots$}{0.8,4.8}
    \colgate{white, white}{$\bvdots$}{4.2,4.8}
    \staircasealt{1.4}{0}{3.6}{8}{2.5,4}
\end{qcircuit}}
=
\m{\begin{qcircuit}[scale=0.39]
    \Period{16.4}{0}
    \grid{16}{0,1.6,3.2,6.4,8}
    \colgate{white, white}{$\bvdots$}{1.4,4.8}
    \colgate{white, white}{$\bcdots$}{10.2,8}
    \colgate{white, white}{$\bcdots$}{10.2,6.4}
    \colgate{white, white}{$\bcdots$}{10.2,4.8}
    \colgate{white, white}{$\biddots$}{10.2,4.8}
    \colgate{white, white}{$\bcdots$}{10.2,3.2}
    \colgate{white, white}{$\bcdots$}{10.2,1.6}
    \colgate{white, white}{$\bcdots$}{10.2,0}
    \Swap{1.4}{0}{1.6}
    \CX{n_1}{3.6}{1.6}{0}
    \Swap{5.8}{1.6}{3.2}
    \CX{n_2}{8}{3.2}{1.6}
    \Swap{12.4}{8}{6.4}
    \CX{n_k}{14.6}{8}{6.4}
    \colgate{white, white}{$\bvdots$}{14.6,4.8}
\end{qcircuit}} 
}

% Ladder.
\def\ladder{
\m{\begin{qcircuit}[scale=0.39]
    \grid{2.8}{0,3.2,6.4}
    \colgate{white, white}{$\bvdots$}{0.4,1.6}
    \colgate{white, white}{$\bvdots$}{0.4,4.8}
    \colgate{white, white}{$\bvdots$}{2.4,1.6}
    \colgate{white, white}{$\bvdots$}{2.4,4.8}
    \updownalt{1.4}{0}{1.4}{6.4}{1.4}{0}{1.4,0.9}
\end{qcircuit}}
=
\m{\begin{qcircuit}[scale=0.39]
    \Period{8.7}{0}
    \grid{8.3}{0,3.2,6.4}
    \colgate{white, white}{$\bvdots$}{0.4,1.6}
    \colgate{white, white}{$\bvdots$}{0.4,4.8}
    \staircasealt{1.4}{0}{3.6}{6.4}{2.5,3.2}
    \colgate{white, white}{$\bvdots$}{7.9,1.6}
    \colgate{white, white}{$\bvdots$}{7.9,4.8}
    \staircasealt{6.9}{3.2}{5.8}{6.4}{6.3,4.8}
\end{qcircuit}}
}

% Affine normal form.
\def\nfaff{
\m{\begin{qcircuit}[scale=0.39]
    \grid{11.6}{0,3.2,4.8}
    \updownalt{1.4}{4.8}{1.4}{4.8}{1.4}{4.8}{1.37,4.65}
    \updownalt{3.6}{3.2}{3.6}{4.8}{3.6}{3.2}{3.55,3.2}
    \colgate{white, white}{$\bcdots$}{5.8,4.8}
    \colgate{white, white}{$\bcdots$}{5.8,3.2}
    \colgate{white, white}{$\bddots$}{5.8,1.6}
    \colgate{white, white}{$\bcdots$}{5.8,0}
    \updownalt{8}{0}{8}{4.8}{8}{0}{8,0.8}
    \Xblock{}{10.2}{4.8}
    \Xblock{}{10.2}{3.2}
    \Xblock{}{10.2}{0}
    \colgate{white, white}{$\bvdots$}{10.2,1.6}
  \end{qcircuit}}
}

% Affine example.
\def\exampleAff{
\m{\begin{qcircuit}[scale=0.39]
    \Period{21}{0}
    \grid{20.6}{0,1.6,3.2}
    \Swap{1.4}{3.2}{1.6}
    \Swap{3.6}{0}{1.6}
    \Swap{5.8}{1.6}{3.2}
    \CX{}{8}{3.2}{1.6}
    \Swap{10.2}{1.6}{3.2}
    \CX{}{12.4}{3.2}{1.6}
    \Swap{14.6}{0}{1.6}
    \CX{}{16.8}{1.6}{0}
    \Xgate{}{19}{3.2}
\end{qcircuit}} 
}

% Diagonal normal form.
\def\nfdiag{
\m{\begin{qcircuit}[scale=0.39]
    \Omeg{k}{-1}{2.4} 
    \grid{20.4}{0,3.2,4.8}
    \Tblock{}{1.4}{4.8}
    \colgate{white, white}{$\bvdots$}{1.4,1.6}
    \Tblock{}{1.4}{3.2}
    \Tblock{}{1.4}{0}
    \utriangle{3.6}{0}{4.8}{3.75,4.8}
    \utriangle{5.8}{0}{3.2}{5.95,3.2}
    \colgate{white, white}{$\bcdots$}{8.08,4.8}
    \colgate{white, white}{$\bddots$}{8.08,1.6}
    \colgate{white, white}{$\bcdots$}{8.08,3.2}
    \colgate{white, white}{$\bcdots$}{8.08,0}
    \utriangle{10.2}{0}{0}{10.65,0.2}
    \vtriangle{12.4}{0}{4.8}{12.55,4.8}
    \vtriangle{14.6}{0}{3.2}{14.75,3.2}
    \colgate{white, white}{$\bcdots$}{16.88,4.8}
    \colgate{white, white}{$\bddots$}{16.88,1.6}
    \colgate{white, white}{$\bcdots$}{16.88,3.2}
    \colgate{white, white}{$\bcdots$}{16.88,0}
    \vtriangle{19}{0}{0}{19.45,0.2}
  \end{qcircuit}}
}

% Diagonal example.
\def\nfCCZ{
\m{\begin{qcircuit}[scale=0.39]
    \grid{2.8}{0,1.6,3.2}
    \Ccz{1.4}{0}{1.6}{3.2}
\end{qcircuit}}
=
\m{\begin{qcircuit}[scale=0.39]
    \Period{12}{0}
    \grid{11.6}{0,1.6,3.2}
    \Tgate{}{1.4}{0}
    \Tgate{}{1.4}{1.6}
    \Tgate{}{1.4}{3.2}
    \Ugate{3}{3.6}{1.6}{3.2}
    \Ugate{3}{5.8}{0}{3.2}
    \Ugate{3}{8}{0}{1.6}
    \Vgate{}{10.2}{0}{1.6}{3.2}
\end{qcircuit}}
}

% Bifunctoriality.
\def\bifunctoriality{
\m{\begin{qcircuit}[scale=0.39]
    \grid{5}{0,1.6}
    \colgate{white!20}{$f$}{1.4,1.6}
    \colgate{white!20}{$g$}{3.6,0}
\end{qcircuit}}
=
\m{\begin{qcircuit}[scale=0.39]
    \Period{5.3}{0}
    \grid{4.9}{0,1.6}
    \colgate{white!20}{$g$}{1.4,0}
    \colgate{white!20}{$f$}{3.6,1.6}
\end{qcircuit}}
}

% Symmetries.
\def\symmetries{
\m{\begin{qcircuit}[scale=0.39]
    \grid{2.8}{0,1.6}
    \Swap{1.4}{0}{1.6}
\end{qcircuit}}
\qquad\mbox{ and }\qquad
\m{\begin{qcircuit}[scale=0.39] 
    \grid{2.8}{0,1.6,3.2}
    \cleargate{$T$}{1.4,0}
    \cleargate{$T$}{1.4,1.6}
    \cleargate{$T$}{1.4,3.2} 
    \diagwire{1.4}{0}{3.2} 
    \diagwire{1.4}{3.2}{1.6} 
    \diagwire{1.4}{1.6}{0}
\end{qcircuit}}
}

% Symmetries (slides).
\def\symmetriesslides{
\m{\begin{qcircuit}[scale=0.39]
    \grid{2.8}{0,1.6}
    \Swap{1.4}{0}{1.6}
\end{qcircuit}}
\qquad\mbox{ and }\qquad
\m{\begin{qcircuit}[scale=0.39] 
    \Period{3.2}{0}
    \grid{2.8}{0,1.6,3.2}
    \cleargate{$T$}{1.4,0}
    \cleargate{$T$}{1.4,1.6}
    \cleargate{$T$}{1.4,3.2} 
    \diagwire{1.4}{0}{3.2} 
    \diagwire{1.4}{3.2}{1.6} 
    \diagwire{1.4}{1.6}{0}
\end{qcircuit}}
}

% Naturality.
\def\Naturality{
\m{\begin{qcircuit}[scale=0.39]
    \grid{5}{0,1.6}
    \colgate{white!20}{$f$}{1.4,1.6}
    \colgate{white!20}{$g$}{1.4,0}
    \Swap{3.6}{0}{1.6}
\end{qcircuit}}
=
\m{\begin{qcircuit}[scale=0.39]
    \grid{5}{0,1.6}
    \colgate{white!20}{$g$}{3.6,1.6}
    \colgate{white!20}{$f$}{3.6,0}
    \Swap{1.4}{0}{1.6}
\end{qcircuit}}
\qquad\mbox{ and }\qquad
\m{\begin{qcircuit}[scale=0.39] 
    \grid{5}{0,1.6,3.2}
    \widebigcolgate{$h$}{1.4,1.6}{1.4,3.2}{.8}{white}
    \cleargate{$T$}{3.6,0}
    \cleargate{$T$}{3.6,1.6}
    \cleargate{$T$}{3.6,3.2} 
    \diagwire{3.6}{0}{3.2} 
    \diagwire{3.6}{3.2}{1.6} 
    \diagwire{3.6}{1.6}{0}
    \colgate{white!20}{$f$}{1.4,0}
\end{qcircuit}}
=
\m{\begin{qcircuit}[scale=0.39] 
    \Period{5.4}{0}
    \grid{5}{0,1.6,3.2}
    \colgate{white!20}{$f$}{3.6,3.2}
    \widebigcolgate{$h$}{3.6,0}{3.6,1.6}{.8}{white}
    \cleargate{$T$}{1.4,0}
    \cleargate{$T$}{1.4,1.6}
    \cleargate{$T$}{1.4,3.2} 
    \diagwire{1.4}{0}{3.2} 
    \diagwire{1.4}{3.2}{1.6} 
    \diagwire{1.4}{1.6}{0}
\end{qcircuit}}
}

% Spatiality.
\def\spatiality{ 
\m{\begin{qcircuit}[scale=0.39]
    \grid{2.8}{0}
    \colgate{white!20}{$\lambda$}{1.4,1.6}
\end{qcircuit}}
=
\m{\begin{qcircuit}[scale=0.39]
    \grid{2.8}{1.6}
    \colgate{white!20}{$\lambda$}{1.4,0}
\end{qcircuit}}
}

% Coherence.
\def\coherence{
\m{\begin{qcircuit}[scale=0.39]
    \grid{5}{0,1.6,3.2}
    \Swap{1.4}{0}{1.6}
    \Swap{3.6}{1.6}{3.2}
\end{qcircuit}}
=
\m{\begin{qcircuit}[scale=0.39] 
    \Period{3.2}{0}
    \grid{2.8}{0,1.6,3.2}
    \cleargate{$T$}{1.4,0}
    \cleargate{$T$}{1.4,1.6}
    \cleargate{$T$}{1.4,3.2} 
    \diagwire{1.4}{0}{3.2} 
    \diagwire{1.4}{3.2}{1.6} 
    \diagwire{1.4}{1.6}{0}
\end{qcircuit}}
}

% Arbitrary block.
\def\block{
\m{\begin{qcircuit}[scale=0.39] \grid{2.8}{0}
    \colgate{white!20}{$f^n$}{1.4,0}
\end{qcircuit}} 
=
\mp{0.75}{\begin{qcircuit}[scale=0.39] 
    \colgate{white, white}{$\bdot$}{7.5,0} 
    \colgate{white, white}{$\bcdots$}{3.67,0} 
    \grid{2.8}{0} 
    \gridx{4.4}{7.2}{0} 
    \colgate{white!20}{$f$}{1.4,0} 
    \colgate{white!20}{$f$}{5.8,0} 
    \brace{$n$}{0.6}{6.6}{-1}
\end{qcircuit}}
}

% Non-adjacent.
\def\NonAdjacent{
\m{\begin{qcircuit}[scale=0.39] 
    \grid{2.8}{0,1.6,3.2}
    \controlwires{1.4,0}{3.2}
    \colgate{white}{$f$}{1.4,0} 
    \colgate{white}{$f$}{1.4,3.2}
\end{qcircuit}} 
= 
\m{\begin{qcircuit}[scale=0.39]
    \Period{7.6}{0}
    \grid{7.2}{0,1.6,3.2} 
    \Swap{1.4}{1.6}{0}
    \controlwires{3.6,1.6}{3.2}
    \colgate{white}{$f$}{3.6,1.6} 
    \colgate{white}{$f$}{3.6,3.2}
    \Swap{5.8}{1.6}{0}
\end{qcircuit}}
}

% Derivation commutation.
\def\DerivationOne{
\begin{align*}
    \m{\begin{qcircuit}[scale=0.39]
        \grid{5}{0,1.6}
        \Swap{1.4}{0}{1.6}
        \Ugate{}{3.6}{0}{1.6}
      \end{qcircuit}}
    &= \m{\begin{qcircuit}[scale=0.39]
        \grid{18.2}{0,1.6}
        \CX{}{1.4}{1.6}{0}
        \Swap{3.6}{1.6}{0}
        \CX{}{5.8}{1.6}{0}
        \Swap{8}{1.6}{0}
        \CX{}{10.2}{1.6}{0}
        \CX{}{12.4}{1.6}{0}
        \Tgate{}{14.6}{0}
        \CX{}{16.8}{1.6}{0}
      \end{qcircuit}} \\
    &= \m{\begin{qcircuit}[scale=0.39]
        \grid{13.8}{0,1.6}
        \CX{}{1.4}{1.6}{0}
        \Swap{3.6}{1.6}{0}
        \CX{}{5.8}{1.6}{0}
        \Swap{8}{1.6}{0}
        \Tgate{}{10.2}{0}
        \CX{}{12.4}{1.6}{0}
      \end{qcircuit}} \\
    &= \m{\begin{qcircuit}[scale=0.39]
        \grid{13.8}{0,1.6}
        \CX{}{1.4}{1.6}{0}
        \Swap{3.6}{1.6}{0}
        \CX{}{5.8}{1.6}{0}
        \Tgate{}{8}{1.6}
        \Swap{10.2}{1.6}{0}
        \CX{}{12.4}{1.6}{0}
      \end{qcircuit}} \\
    &= \m{\begin{qcircuit}[scale=0.39]
        \grid{13.8}{0,1.6}
        \CX{}{1.4}{1.6}{0}
        \Swap{3.6}{1.6}{0}
        \Tgate{}{5.8}{1.6}
        \CX{}{8}{1.6}{0}
        \Swap{10.2}{1.6}{0}
        \CX{}{12.4}{1.6}{0}
      \end{qcircuit}} \\
    &= \m{\begin{qcircuit}[scale=0.39]
        \grid{13.8}{0,1.6}
        \CX{}{1.4}{1.6}{0}
        \Tgate{}{3.6}{0}
        \Swap{5.8}{1.6}{0}
        \CX{}{8}{1.6}{0}
        \Swap{10.2}{1.6}{0}
        \CX{}{12.4}{1.6}{0}
      \end{qcircuit}} \\
    &= \m{\begin{qcircuit}[scale=0.39]
        \grid{18.2}{0,1.6}
        \CX{}{1.4}{1.6}{0}
        \Tgate{}{3.6}{0}
        \CX{}{5.8}{1.6}{0}
        \CX{}{8}{1.6}{0}
        \Swap{10.2}{1.6}{0}
        \CX{}{12.4}{1.6}{0}
        \Swap{14.6}{1.6}{0}
        \CX{}{16.8}{1.6}{0}
      \end{qcircuit}}
     = \m{\begin{qcircuit}[scale=0.39]
        \Period{5.4}{0}
        \grid{5}{0,1.6}
        \Ugate{}{1.4}{0}{1.6}
        \Swap{3.6}{0}{1.6}
      \end{qcircuit}}
\end{align*}
}

% Diagonal commutations.
\def\FourCases{
\m{\begin{qcircuit}[scale=0.39]
    \grid{5}{0,1.6}
    \Tgate{}{1.4}{1.6}
    \Ugate{}{3.6}{0}{1.6}
  \end{qcircuit}}
= \m{\begin{qcircuit}[scale=0.39]
    \grid{5}{0,1.6}
    \Ugate{}{1.4}{0}{1.6}
    \Tgate{}{3.6}{1.6}
  \end{qcircuit}} \quad
  \m{\begin{qcircuit}[scale=0.39]
    \grid{5}{0,1.6,3.2}
    \Tgate{}{1.4}{3.2}
    \Vgate{}{3.6}{0}{1.6}{3.2}
  \end{qcircuit}}
= \m{\begin{qcircuit}[scale=0.39]
    \grid{5}{0,1.6,3.2}
    \Vgate{}{1.4}{0}{1.6}{3.2}
    \Tgate{}{3.6}{3.2}
  \end{qcircuit}} \quad
  \m{\begin{qcircuit}[scale=0.39]
    \grid{5}{0,1.6,3.2}
    \Ugate{}{1.4}{1.6}{3.2}
    \Vgate{}{3.6}{0}{1.6}{3.2}
  \end{qcircuit}}
= \m{\begin{qcircuit}[scale=0.39]
    \grid{5}{0,1.6,3.2}
    \Vgate{}{1.4}{0}{1.6}{3.2}
    \Ugate{}{3.6}{1.6}{3.2}
  \end{qcircuit}} \quad
  \m{\begin{qcircuit}[scale=0.39]
    \grid{5}{0,1.6,3.2,4.8}
    \Ugate{}{1.4}{3.2}{4.8}
    \Vgate{}{3.6}{0}{1.6}{3.2}
  \end{qcircuit}}
= \m{\begin{qcircuit}[scale=0.39]
    \grid{5}{0,1.6,3.2,4.8}
    \Vgate{}{1.4}{0}{1.6}{3.2}
    \Ugate{}{3.6}{3.2}{4.8}
  \end{qcircuit}}
}

% Derivation diagonal commutations.
\def\DerivationTwo{
\begin{align*}
\m{\begin{qcircuit}[scale=0.39]
    \grid{13.8}{0,1.6,3.2,4.8}
    \Ugate{}{1.4}{3.2}{4.8}
    \CX{}{3.6}{3.2}{1.6}
    \CX{}{5.8}{1.6}{0}
    \Tgate{}{8.0}{0}
    \CX{}{10.2}{1.6}{0}
    \CX{}{12.4}{3.2}{1.6}
\end{qcircuit}}
=
\m{\begin{qcircuit}[scale=0.39]
    \grid{13.8}{0,1.6,3.2,4.8}
    \CX{}{1.4}{3.2}{1.6}
    \CX{}{3.6}{1.6}{0}
    \Tgate{}{5.8}{0}
    \CX{}{8.0}{1.6}{0}
    \CX{}{10.2}{3.2}{1.6}
    \Ugate{}{5.8}{3.2}{4.8}
\end{qcircuit}}
=
\m{\begin{qcircuit}[scale=0.39]
    \Period{14.2}{0}
    \grid{13.8}{0,1.6,3.2,4.8}
    \CX{}{1.4}{3.2}{1.6}
    \CX{}{3.6}{1.6}{0}
    \Tgate{}{5.8}{0}
    \CX{}{8.0}{1.6}{0}
    \CX{}{10.2}{3.2}{1.6}
    \Ugate{}{12.4}{3.2}{4.8}
\end{qcircuit}}
\end{align*}
}